<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Golang å¤§æ€å™¨ä¹‹æ€§èƒ½å‰–æ PProf</title>
    <url>/2022/09/30/Golang%20%E5%A4%A7%E6%9D%80%E5%99%A8%E4%B9%8B%E6%80%A7%E8%83%BD%E5%89%96%E6%9E%90%20PProf/</url>
    <content><![CDATA[<h1 id="Golang-å¤§æ€å™¨ä¹‹æ€§èƒ½å‰–æ-PProf"><a href="#Golang-å¤§æ€å™¨ä¹‹æ€§èƒ½å‰–æ-PProf" class="headerlink" title="Golang å¤§æ€å™¨ä¹‹æ€§èƒ½å‰–æ PProf"></a>Golang å¤§æ€å™¨ä¹‹æ€§èƒ½å‰–æ PProf</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å†™äº†å‡ å¨ä»£ç ï¼Œå®ç°äº†å‡ ç™¾ä¸ªæ¥å£ã€‚åŠŸèƒ½æµ‹è¯•ä¹Ÿé€šè¿‡äº†ï¼Œç»ˆäºæˆåŠŸçš„éƒ¨ç½²ä¸Šçº¿äº†</p>
<p>ç»“æœï¼Œæ€§èƒ½ä¸ä½³ï¼Œä»€ä¹ˆé¬¼ï¼ŸğŸ˜­</p>
<h2 id="æƒ³åšæ€§èƒ½åˆ†æ"><a href="#æƒ³åšæ€§èƒ½åˆ†æ" class="headerlink" title="æƒ³åšæ€§èƒ½åˆ†æ"></a>æƒ³åšæ€§èƒ½åˆ†æ</h2><h3 id="PProf"><a href="#PProf" class="headerlink" title="PProf"></a>PProf</h3><p>æƒ³è¦è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ï¼Œé¦–å…ˆç©ç›®åœ¨ Go è‡ªèº«æä¾›çš„å·¥å…·é“¾æ¥ä½œä¸ºåˆ†æä¾æ®ï¼Œæœ¬æ–‡å°†å¸¦ä½ å­¦ä¹ ã€ä½¿ç”¨ Go åèŠ±å›­ï¼Œæ¶‰åŠå¦‚ä¸‹ï¼š</p>
<ul>
<li>runtime&#x2F;pprofï¼šé‡‡é›†ç¨‹åºï¼ˆé Serverï¼‰çš„è¿è¡Œæ•°æ®è¿›è¡Œåˆ†æ</li>
<li>net&#x2F;http&#x2F;pprofï¼šé‡‡é›† HTTP Server çš„è¿è¡Œæ—¶æ•°æ®è¿›è¡Œåˆ†æ</li>
</ul>
<h3 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h3><p>pprof æ˜¯ç”¨äºå¯è§†åŒ–å’Œåˆ†ææ€§èƒ½åˆ†ææ•°æ®çš„å·¥å…·</p>
<p>pprof ä»¥ <a href="https://github.com/google/pprof/blob/master/proto/profile.proto">profile.proto</a> è¯»å–åˆ†ææ ·æœ¬çš„é›†åˆï¼Œå¹¶ç”ŸæˆæŠ¥å‘Šä»¥å¯è§†åŒ–å¹¶å¸®åŠ©åˆ†ææ•°æ®ï¼ˆæ”¯æŒæ–‡æœ¬å’Œå›¾å½¢æŠ¥å‘Šï¼‰</p>
<p>profile.proto æ˜¯ä¸€ä¸ª Protocol Buffer v3 çš„æè¿°æ–‡ä»¶ï¼Œå®ƒæè¿°äº†ä¸€ç»„ callstack å’Œ symbolization ä¿¡æ¯ï¼Œ ä½œç”¨æ˜¯è¡¨ç¤ºç»Ÿè®¡åˆ†æçš„ä¸€ç»„é‡‡æ ·çš„è°ƒç”¨æ ˆï¼Œæ˜¯å¾ˆå¸¸è§çš„ stacktrace é…ç½®æ–‡ä»¶æ ¼å¼</p>
<h3 id="æ”¯æŒä»€ä¹ˆä½¿ç”¨æ¨¡å¼"><a href="#æ”¯æŒä»€ä¹ˆä½¿ç”¨æ¨¡å¼" class="headerlink" title="æ”¯æŒä»€ä¹ˆä½¿ç”¨æ¨¡å¼"></a>æ”¯æŒä»€ä¹ˆä½¿ç”¨æ¨¡å¼</h3><ul>
<li>Report generationï¼šæŠ¥å‘Šç”Ÿæˆ</li>
<li>Interactive terminal useï¼šäº¤äº’å¼ç»ˆç«¯ä½¿ç”¨</li>
<li>Web interfaceï¼šWeb ç•Œé¢</li>
</ul>
<h3 id="å¯ä»¥åšä»€ä¹ˆ"><a href="#å¯ä»¥åšä»€ä¹ˆ" class="headerlink" title="å¯ä»¥åšä»€ä¹ˆ"></a>å¯ä»¥åšä»€ä¹ˆ</h3><ul>
<li>CPU Profilingï¼šCPU åˆ†æï¼ŒæŒ‰ç…§ä¸€å®šçš„é¢‘ç‡é‡‡é›†æ‰€ç›‘å¬çš„åº”ç”¨ç¨‹åº CPUï¼ˆå«å¯„å­˜å™¨ï¼‰çš„ä½¿ç”¨æƒ…å†µï¼Œå¯ç¡®å®šåº”ç”¨ç¨‹åºåœ¨ä¸»åŠ¨æ¶ˆè€— CPU å‘¨æœŸæ—¶èŠ±è´¹æ—¶é—´çš„ä½ç½®</li>
<li>Memory Profilingï¼šå†…å­˜åˆ†æï¼Œåœ¨åº”ç”¨ç¨‹åºè¿›è¡Œå †åˆ†é…æ—¶è®°å½•å †æ ˆè·Ÿè¸ªï¼Œç”¨äºç›‘è§†å½“å‰å’Œå†å²å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œä»¥åŠæ£€æŸ¥å†…å­˜æ³„æ¼</li>
<li>Block Profilingï¼šé˜»å¡åˆ†æï¼Œè®°å½• goroutine é˜»å¡ç­‰å¾…åŒæ­¥ï¼ˆåŒ…æ‹¬å®šæ—¶å™¨é€šé“ï¼‰çš„ä½ç½®</li>
<li>Mutex Profilingï¼šäº’æ–¥é”åˆ†æï¼ŒæŠ¥å‘Šäº’æ–¥é”çš„ç«äº‰æƒ…å†µ</li>
</ul>
<h2 id="ä¸€ä¸ªç®€å•çš„ä¾‹å­"><a href="#ä¸€ä¸ªç®€å•çš„ä¾‹å­" class="headerlink" title="ä¸€ä¸ªç®€å•çš„ä¾‹å­"></a>ä¸€ä¸ªç®€å•çš„ä¾‹å­</h2><p>æˆ‘ä»¬å°†ç¼–å†™ä¸€ä¸ªç®€å•ä¸”æœ‰ç‚¹é—®é¢˜çš„ä¾‹å­ï¼Œç”¨äºåŸºæœ¬çš„ç¨‹åºåˆæ­¥åˆ†æ</p>
<h3 id="ç¼–å†™-demo-æ–‡ä»¶"><a href="#ç¼–å†™-demo-æ–‡ä»¶" class="headerlink" title="ç¼–å†™ demo æ–‡ä»¶"></a>ç¼–å†™ demo æ–‡ä»¶</h3><p>ï¼ˆ1ï¼‰demo.goï¼Œæ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;log&quot;</span><br><span class="line">    &quot;net/http&quot;</span><br><span class="line">    _ &quot;net/http/pprof&quot;</span><br><span class="line">    &quot;github.com/EDDYCJY/go-pprof-example/data&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    go func() &#123;</span><br><span class="line">        for &#123;</span><br><span class="line">            log.Println(data.Add(&quot;https://github.com/EDDYCJY&quot;))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    http.ListenAndServe(&quot;0.0.0.0:6060&quot;, nil)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰data&#x2F;d.goï¼Œæ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package data</span><br><span class="line"></span><br><span class="line">var datas []string</span><br><span class="line"></span><br><span class="line">func Add(str string) string &#123;</span><br><span class="line">    data := []byte(str)</span><br><span class="line">    sData := string(data)</span><br><span class="line">    datas = append(datas, sData)</span><br><span class="line"></span><br><span class="line">    return sData</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œè¿™ä¸ªæ–‡ä»¶ï¼Œä½ çš„ HTTP æœåŠ¡ä¼šå¤šå‡º &#x2F;debug&#x2F;pprof çš„ endpoint å¯ç”¨äºè§‚å¯Ÿåº”ç”¨ç¨‹åºçš„æƒ…å†µ</p>
<h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><h4 id="ä¸€ã€é€šè¿‡-Web-ç•Œé¢"><a href="#ä¸€ã€é€šè¿‡-Web-ç•Œé¢" class="headerlink" title="ä¸€ã€é€šè¿‡ Web ç•Œé¢"></a>ä¸€ã€é€šè¿‡ Web ç•Œé¢</h4><p>æŸ¥çœ‹å½“å‰æ€»è§ˆï¼šè®¿é—® <code>http://127.0.0.1:6060/debug/pprof/</code></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">/debug/pprof/</span><br><span class="line"></span><br><span class="line">profiles:</span><br><span class="line"><span class="number">0</span>    block</span><br><span class="line"><span class="number">5</span>    goroutine</span><br><span class="line"><span class="number">3</span>    heap</span><br><span class="line"><span class="number">0</span>    mutex</span><br><span class="line"><span class="number">9</span>    threadcreate</span><br><span class="line"></span><br><span class="line">full goroutine stack dump</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªé¡µé¢ä¸­æœ‰è®¸å¤šå­é¡µé¢ï¼Œå’±ä»¬ç»§ç»­æ·±ç©¶ä¸‹å»ï¼Œçœ‹çœ‹å¯ä»¥å¾—åˆ°ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li>cpuï¼ˆCPU Profilingï¼‰: <code>$HOST/debug/pprof/profile</code>ï¼Œé»˜è®¤è¿›è¡Œ 30s çš„ CPU Profilingï¼Œå¾—åˆ°ä¸€ä¸ªåˆ†æç”¨çš„ profile æ–‡ä»¶</li>
<li>blockï¼ˆBlock Profilingï¼‰ï¼š<code>$HOST/debug/pprof/block</code>ï¼ŒæŸ¥çœ‹å¯¼è‡´é˜»å¡åŒæ­¥çš„å †æ ˆè·Ÿè¸ª</li>
<li>goroutineï¼š<code>$HOST/debug/pprof/goroutine</code>ï¼ŒæŸ¥çœ‹å½“å‰æ‰€æœ‰è¿è¡Œçš„ goroutines å †æ ˆè·Ÿè¸ª</li>
<li>heapï¼ˆMemory Profilingï¼‰: <code>$HOST/debug/pprof/heap</code>ï¼ŒæŸ¥çœ‹æ´»åŠ¨å¯¹è±¡çš„å†…å­˜åˆ†é…æƒ…å†µ</li>
<li>mutexï¼ˆMutex Profilingï¼‰ï¼š<code>$HOST/debug/pprof/mutex</code>ï¼ŒæŸ¥çœ‹å¯¼è‡´äº’æ–¥é”çš„ç«äº‰æŒæœ‰è€…çš„å †æ ˆè·Ÿè¸ª</li>
<li>threadcreateï¼š<code>$HOST/debug/pprof/threadcreate</code>ï¼ŒæŸ¥çœ‹åˆ›å»ºæ–°OSçº¿ç¨‹çš„å †æ ˆè·Ÿè¸ª</li>
</ul>
<h4 id="äºŒã€é€šè¿‡äº¤äº’å¼ç»ˆç«¯ä½¿ç”¨"><a href="#äºŒã€é€šè¿‡äº¤äº’å¼ç»ˆç«¯ä½¿ç”¨" class="headerlink" title="äºŒã€é€šè¿‡äº¤äº’å¼ç»ˆç«¯ä½¿ç”¨"></a>äºŒã€é€šè¿‡äº¤äº’å¼ç»ˆç«¯ä½¿ç”¨</h4><p>ï¼ˆ1ï¼‰go tool pprof <a href="http://localhost/">http://localhost</a>:6060&#x2F;debug&#x2F;pprof&#x2F;profile?seconds&#x3D;60</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ go tool pprof http://localhost:6060/debug/pprof/profile\?seconds\=60</span><br><span class="line"></span><br><span class="line">Fetching profile over HTTP from http://localhost:6060/debug/pprof/profile?seconds=60</span><br><span class="line">Saved profile in /Users/eddycjy/pprof/pprof.samples.cpu.007.pb.gz</span><br><span class="line">Type: cpu</span><br><span class="line">Duration: 1mins, Total samples = 26.55s (44.15%)</span><br><span class="line">Entering interactive mode (type &quot;help&quot; for commands, &quot;o&quot; for options)</span><br><span class="line">(pprof) </span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè¯¥å‘½ä»¤åï¼Œéœ€ç­‰å¾… 60 ç§’ï¼ˆå¯è°ƒæ•´ seconds çš„å€¼ï¼‰ï¼Œpprof ä¼šè¿›è¡Œ CPU Profilingã€‚ç»“æŸåå°†é»˜è®¤è¿›å…¥ pprof çš„äº¤äº’å¼å‘½ä»¤æ¨¡å¼ï¼Œå¯ä»¥å¯¹åˆ†æçš„ç»“æœè¿›è¡ŒæŸ¥çœ‹æˆ–å¯¼å‡ºã€‚å…·ä½“å¯æ‰§è¡Œ <code>pprof help</code> æŸ¥çœ‹å‘½ä»¤è¯´æ˜</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(pprof) top10</span><br><span class="line">Showing nodes accounting for 25.92s, 97.63% of 26.55s total</span><br><span class="line">Dropped 85 nodes (cum &lt;= 0.13s)</span><br><span class="line">Showing top 10 nodes out of 21</span><br><span class="line">      flat  flat%   sum%        cum   cum%</span><br><span class="line">    23.28s 87.68% 87.68%     23.29s 87.72%  syscall.Syscall</span><br><span class="line">     0.77s  2.90% 90.58%      0.77s  2.90%  runtime.memmove</span><br><span class="line">     0.58s  2.18% 92.77%      0.58s  2.18%  runtime.freedefer</span><br><span class="line">     0.53s  2.00% 94.76%      1.42s  5.35%  runtime.scanobject</span><br><span class="line">     0.36s  1.36% 96.12%      0.39s  1.47%  runtime.heapBitsForObject</span><br><span class="line">     0.35s  1.32% 97.44%      0.45s  1.69%  runtime.greyobject</span><br><span class="line">     0.02s 0.075% 97.51%     24.96s 94.01%  main.main.func1</span><br><span class="line">     0.01s 0.038% 97.55%     23.91s 90.06%  os.(*File).Write</span><br><span class="line">     0.01s 0.038% 97.59%      0.19s  0.72%  runtime.mallocgc</span><br><span class="line">     0.01s 0.038% 97.63%     23.30s 87.76%  syscall.Write</span><br></pre></td></tr></table></figure>

<ul>
<li>flatï¼šç»™å®šå‡½æ•°ä¸Šè¿è¡Œè€—æ—¶</li>
<li>flat%ï¼šåŒä¸Šçš„ CPU è¿è¡Œè€—æ—¶æ€»æ¯”ä¾‹</li>
<li>sum%ï¼šç»™å®šå‡½æ•°ç´¯ç§¯ä½¿ç”¨ CPU æ€»æ¯”ä¾‹</li>
<li>cumï¼šå½“å‰å‡½æ•°åŠ ä¸Šå®ƒä¹‹ä¸Šçš„è°ƒç”¨è¿è¡Œæ€»è€—æ—¶</li>
<li>cum%ï¼šåŒä¸Šçš„ CPU è¿è¡Œè€—æ—¶æ€»æ¯”ä¾‹</li>
</ul>
<p>æœ€åä¸€åˆ—ä¸ºå‡½æ•°åç§°ï¼Œåœ¨å¤§å¤šæ•°çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™äº”åˆ—å¾—å‡ºä¸€ä¸ªåº”ç”¨ç¨‹åºçš„è¿è¡Œæƒ…å†µï¼ŒåŠ ä»¥ä¼˜åŒ– ğŸ¤”</p>
<p>ï¼ˆ2ï¼‰go tool pprof <a href="http://localhost/">http://localhost</a>:6060&#x2F;debug&#x2F;pprof&#x2F;heap</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ go tool pprof http://localhost:6060/debug/pprof/heap</span><br><span class="line">Fetching profile over HTTP from http://localhost:6060/debug/pprof/heap</span><br><span class="line">Saved profile in /Users/eddycjy/pprof/pprof.alloc_objects.alloc_space.inuse_objects.inuse_space.008.pb.gz</span><br><span class="line">Type: inuse_space</span><br><span class="line">Entering interactive mode (type &quot;help&quot; for commands, &quot;o&quot; for options)</span><br><span class="line">(pprof) top</span><br><span class="line">Showing nodes accounting for 837.48MB, 100% of 837.48MB total</span><br><span class="line">      flat  flat%   sum%        cum   cum%</span><br><span class="line">  837.48MB   100%   100%   837.48MB   100%  main.main.func1</span><br></pre></td></tr></table></figure>

<ul>
<li>-inuse_spaceï¼šåˆ†æåº”ç”¨ç¨‹åºçš„å¸¸é©»å†…å­˜å ç”¨æƒ…å†µ</li>
<li>-alloc_objectsï¼šåˆ†æåº”ç”¨ç¨‹åºçš„å†…å­˜ä¸´æ—¶åˆ†é…æƒ…å†µ</li>
</ul>
<p>ï¼ˆ3ï¼‰ go tool pprof <a href="http://localhost/">http://localhost</a>:6060&#x2F;debug&#x2F;pprof&#x2F;block</p>
<p>ï¼ˆ4ï¼‰ go tool pprof <a href="http://localhost/">http://localhost</a>:6060&#x2F;debug&#x2F;pprof&#x2F;mutex</p>
<h4 id="ä¸‰ã€PProf-å¯è§†åŒ–ç•Œé¢"><a href="#ä¸‰ã€PProf-å¯è§†åŒ–ç•Œé¢" class="headerlink" title="ä¸‰ã€PProf å¯è§†åŒ–ç•Œé¢"></a>ä¸‰ã€PProf å¯è§†åŒ–ç•Œé¢</h4><p>è¿™æ˜¯ä»¤äººæœŸå¾…çš„ä¸€å°èŠ‚ã€‚åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç®€å•çš„ç¼–å†™å¥½æµ‹è¯•ç”¨ä¾‹æ¥è·‘ä¸€ä¸‹</p>
<h5 id="ç¼–å†™æµ‹è¯•ç”¨ä¾‹"><a href="#ç¼–å†™æµ‹è¯•ç”¨ä¾‹" class="headerlink" title="ç¼–å†™æµ‹è¯•ç”¨ä¾‹"></a>ç¼–å†™æµ‹è¯•ç”¨ä¾‹</h5><p>ï¼ˆ1ï¼‰æ–°å»º data&#x2F;d_test.goï¼Œæ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> data</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;testing&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> url = <span class="string">&quot;https://github.com/EDDYCJY&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestAdd</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">    s := Add(url)</span><br><span class="line">    <span class="keyword">if</span> s == <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">        t.Errorf(<span class="string">&quot;Test.Add error!&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BenchmarkAdd</span><span class="params">(b *testing.B)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; b.N; i++ &#123;</span><br><span class="line">        Add(url)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go <span class="built_in">test</span> -bench=. -cpuprofile=cpu.prof</span></span><br><span class="line">pkg: github.com/EDDYCJY/go-pprof-example/data</span><br><span class="line">BenchmarkAdd-4       10000000           187 ns/op</span><br><span class="line">PASS</span><br><span class="line">ok      github.com/EDDYCJY/go-pprof-example/data    2.300s</span><br></pre></td></tr></table></figure>

<p>-memprofile ä¹Ÿå¯ä»¥äº†è§£ä¸€ä¸‹</p>
<h5 id="å¯åŠ¨-PProf-å¯è§†åŒ–ç•Œé¢"><a href="#å¯åŠ¨-PProf-å¯è§†åŒ–ç•Œé¢" class="headerlink" title="å¯åŠ¨ PProf å¯è§†åŒ–ç•Œé¢"></a>å¯åŠ¨ PProf å¯è§†åŒ–ç•Œé¢</h5><h6 id="æ–¹æ³•ä¸€ï¼š"><a href="#æ–¹æ³•ä¸€ï¼š" class="headerlink" title="æ–¹æ³•ä¸€ï¼š"></a>æ–¹æ³•ä¸€ï¼š</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go tool pprof -http=:8080 cpu.prof</span></span><br></pre></td></tr></table></figure>

<h6 id="æ–¹æ³•äºŒï¼š"><a href="#æ–¹æ³•äºŒï¼š" class="headerlink" title="æ–¹æ³•äºŒï¼š"></a>æ–¹æ³•äºŒï¼š</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go tool pprof cpu.prof</span> </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">(pprof) web</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœå‡ºç° <code>Could not execute dot; may need to install graphviz.</code>ï¼Œå°±æ˜¯æç¤ºä½ è¦å®‰è£… <code>graphviz</code> äº† ï¼ˆè¯·å³æ‹è°·æ­Œï¼‰</p>
<h5 id="æŸ¥çœ‹-PProf-å¯è§†åŒ–ç•Œé¢"><a href="#æŸ¥çœ‹-PProf-å¯è§†åŒ–ç•Œé¢" class="headerlink" title="æŸ¥çœ‹ PProf å¯è§†åŒ–ç•Œé¢"></a>æŸ¥çœ‹ PProf å¯è§†åŒ–ç•Œé¢</h5><p>ï¼ˆ1ï¼‰Top</p>
<img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200316152406.png"/>

<p>ï¼ˆ2ï¼‰Graph</p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200316152620.png"></p>
<p>æ¡†è¶Šå¤§ï¼Œçº¿è¶Šç²—ä»£è¡¨å®ƒå ç”¨çš„æ—¶é—´è¶Šå¤§å“¦</p>
<p>ï¼ˆ3ï¼‰Peek</p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200316152723.png"></p>
<p>ï¼ˆ4ï¼‰Source</p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200316152530.png"></p>
<p>é€šè¿‡ PProf çš„å¯è§†åŒ–ç•Œé¢ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ›´æ–¹ä¾¿ã€æ›´ç›´è§‚çš„çœ‹åˆ° Go åº”ç”¨ç¨‹åºçš„è°ƒç”¨é“¾ã€ä½¿ç”¨æƒ…å†µç­‰ï¼Œå¹¶ä¸”åœ¨ View èœå•æ ä¸­ï¼Œè¿˜æ”¯æŒå¦‚ä¸Šå¤šç§æ–¹å¼çš„åˆ‡æ¢</p>
<p>ä½ æƒ³æƒ³ï¼Œåœ¨çƒ¦æ¼ä¸çŸ¥é“ä»€ä¹ˆé—®é¢˜çš„æ—¶å€™ï¼Œèƒ½ç”¨è¿™äº›è¾…åŠ©å·¥å…·æ¥æ£€æµ‹é—®é¢˜ï¼Œæ˜¯ä¸æ˜¯ç¬é—´æ•ˆç‡ç¿»å€äº†å‘¢ ğŸ‘Œ</p>
<h4 id="å››ã€PProf-ç«ç„°å›¾"><a href="#å››ã€PProf-ç«ç„°å›¾" class="headerlink" title="å››ã€PProf ç«ç„°å›¾"></a>å››ã€PProf ç«ç„°å›¾</h4><p>å¦ä¸€ç§å¯è§†åŒ–æ•°æ®çš„æ–¹æ³•æ˜¯ç«ç„°å›¾ï¼Œéœ€æ‰‹åŠ¨å®‰è£…åŸç”Ÿ PProf å·¥å…·ï¼š</p>
<p>ï¼ˆ1ï¼‰ å®‰è£… PProf</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ go get -u github.com/google/pprof</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰ å¯åŠ¨ PProf å¯è§†åŒ–ç•Œé¢:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ pprof -http=:8080 cpu.prof</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰ æŸ¥çœ‹ PProf å¯è§†åŒ–ç•Œé¢</p>
<p>æ‰“å¼€ PProf çš„å¯è§†åŒ–ç•Œé¢æ—¶ï¼Œä½ ä¼šæ˜æ˜¾å‘ç°æ¯”å®˜æ–¹å·¥å…·é“¾çš„ PProf ç²¾è‡´ä¸€äº›ï¼Œå¹¶ä¸”å¤šäº† Flame Graphï¼ˆç«ç„°å›¾ï¼‰</p>
<p>å®ƒå°±æ˜¯æœ¬æ¬¡çš„ç›®æ ‡ä¹‹ä¸€ï¼Œå®ƒçš„æœ€å¤§ä¼˜ç‚¹æ˜¯åŠ¨æ€çš„ã€‚è°ƒç”¨é¡ºåºç”±ä¸Šåˆ°ä¸‹ï¼ˆA -&gt; B -&gt; C -&gt; Dï¼‰ï¼Œæ¯ä¸€å—ä»£è¡¨ä¸€ä¸ªå‡½æ•°ï¼Œè¶Šå¤§ä»£è¡¨å ç”¨ CPU çš„æ—¶é—´æ›´é•¿ã€‚åŒæ—¶å®ƒä¹Ÿæ”¯æŒç‚¹å‡»å—æ·±å…¥è¿›è¡Œåˆ†æï¼</p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200316152823.png"></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åœ¨æœ¬ç« èŠ‚ï¼Œç²—ç•¥åœ°ä»‹ç»äº† Go çš„æ€§èƒ½åˆ©å™¨ PProfã€‚åœ¨ç‰¹å®šçš„åœºæ™¯ä¸­ï¼ŒPProf ç»™å®šä½ã€å‰–æé—®é¢˜å¸¦äº†æå¤§çš„å¸®åŠ©</p>
<p>å¸Œæœ›æœ¬æ–‡å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œå¦å¤–å»ºè®®èƒ½å¤Ÿè‡ªå·±å®é™…æ“ä½œä¸€éï¼Œæœ€å¥½æ˜¯å¯ä»¥æ·±å…¥ç¢ç£¨ä¸€ä¸‹ï¼Œå†…å«å¤§é‡çš„ç”¨æ³•ã€çŸ¥è¯†ç‚¹</p>
<h2 id="æ€è€ƒé¢˜"><a href="#æ€è€ƒé¢˜" class="headerlink" title="æ€è€ƒé¢˜"></a>æ€è€ƒé¢˜</h2><p>ä½ å¾ˆä¼˜ç§€çš„çœ‹åˆ°äº†æœ€åï¼Œé‚£ä¹ˆæœ‰ä¸¤é“ç®€å•çš„æ€è€ƒé¢˜ï¼Œå¸Œæœ›æ‹“å±•ä½ çš„æ€è·¯</p>
<p>ï¼ˆ1ï¼‰flat ä¸€å®šå¤§äº cum å—ï¼Œä¸ºä»€ä¹ˆï¼Ÿä»€ä¹ˆåœºæ™¯ä¸‹ cum ä¼šæ¯” flat å¤§ï¼Ÿ</p>
<p>ï¼ˆ2ï¼‰æœ¬ç« èŠ‚çš„ demo ä»£ç ï¼Œæœ‰ä»€ä¹ˆæ€§èƒ½é—®é¢˜ï¼Ÿæ€ä¹ˆè§£å†³å®ƒï¼Ÿ</p>
<p>æ¥ï¼Œæ™’å‡ºä½ çš„æƒ³æ³•</p>
]]></content>
      <categories>
        <category>go</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>æœ€ä½³å®è·µ</tag>
        <tag>pprof</tag>
      </tags>
  </entry>
  <entry>
    <title>Go - Ordering in Select Statements</title>
    <url>/2020/04/29/Go%20-%20Ordering%20in%20Select%20Statements/</url>
    <content><![CDATA[<p> <a href="https://medium.com/a-journey-with-go/go-ordering-in-select-statements-fd0ff80fd8d6">åŸæ–‡é“¾æ¥</a></p>
<p><a href="https://medium.com/@blanchon.vincent?source=post_page-----fd0ff80fd8d6----------------------">Vincent Blanchon</a></p>
<hr>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200429220520.png"></p>
<blockquote>
<p>æœ¬æ–‡åŸºäº go 1.14 </p>
</blockquote>
<p><code>select</code> å…è®¸åœ¨ä¸€ä¸ªgoroutineä¸­ç®¡ç†å¤šä¸ªchannelã€‚ä½†æ˜¯ï¼Œå½“æ‰€æœ‰channelåŒæ—¶å°±ç»ªçš„æ—¶å€™ï¼Œgoéœ€è¦åœ¨å…¶ä¸­é€‰æ‹©ä¸€ä¸ªæ‰§è¡Œã€‚goè¿˜éœ€è¦å¤„ç†æ²¡æœ‰channelå°±ç»ªçš„æƒ…å†µï¼Œæˆ‘ä»¬å…ˆä»å°±ç»ªçš„channelå¼€å§‹ã€‚</p>
<h1 id="Order"><a href="#Order" class="headerlink" title="Order"></a>Order</h1><p><code>select</code> ä¸ä¼šæŒ‰ç…§ä»»ä½•è§„åˆ™æˆ–è€…ä¼˜å…ˆçº§é€‰æ‹©åˆ°è¾¾çš„channelã€‚goæ ‡å‡†åº“åœ¨æ¯æ¬¡è®¿é—®çš„æ—¶å€™ï¼Œéƒ½ä¼šå°†ä»–ä»¬é¡ºåºæ‰“ä¹±ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½ä¿è¯ä»»ä½•é¡ºåºã€‚</p>
<p>çœ‹ä¸€ä¸ªæœ‰ä¸‰ä¸ªå°±ç»ªçš„channelçš„ä¾‹å­ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">bool</span>, <span class="number">100</span>)</span><br><span class="line">	b := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">bool</span>, <span class="number">100</span>)</span><br><span class="line">	c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">bool</span>, <span class="number">100</span>)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">		a &lt;- <span class="literal">true</span></span><br><span class="line">		b &lt;- <span class="literal">true</span></span><br><span class="line">		c &lt;- <span class="literal">true</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">		<span class="keyword">select</span> &#123;</span><br><span class="line">		<span class="keyword">case</span> &lt;-a:</span><br><span class="line">			<span class="built_in">print</span>(<span class="string">&quot;&lt; a&quot;</span>)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">case</span> &lt;-b:</span><br><span class="line">			<span class="built_in">print</span>(<span class="string">&quot;&lt; b&quot;</span>)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">case</span> &lt;-c:</span><br><span class="line">			<span class="built_in">print</span>(<span class="string">&quot;&lt; c&quot;</span>)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			<span class="built_in">print</span>(<span class="string">&quot;&lt; default&quot;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸‰ä¸ªchanneléƒ½æœ‰ä¸‰ä¸ªå®Œæ•´çš„bufferï¼ˆä¸ä¼šé˜»å¡ï¼‰ï¼Œä¸‹é¢æ˜¯ç¨‹åºçš„è¾“å‡º</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">&lt; b&lt; a&lt; a&lt; b&lt; c&lt; c&lt; c&lt; a&lt; b&lt; b</span><br></pre></td></tr></table></figure>

<p>åœ¨ select çš„æ¯æ¬¡è¿­ä»£ä¸­ï¼Œcase éƒ½ä¼šè¢«æ‰“ä¹±ï¼š</p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200429223415.png"></p>
<p>ç”±äºgo ä¸ä¼šåˆ é™¤é‡å¤çš„channelï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨å¤šæ¬¡æ·»åŠ caseæ¥å½±å“ç»“æœï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   a := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">bool</span>, <span class="number">100</span>)</span><br><span class="line">   b := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">bool</span>, <span class="number">100</span>)</span><br><span class="line">   c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">bool</span>, <span class="number">100</span>)</span><br><span class="line">   <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">      a &lt;- <span class="literal">true</span></span><br><span class="line">      b &lt;- <span class="literal">true</span></span><br><span class="line">      c &lt;- <span class="literal">true</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">      <span class="keyword">select</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> &lt;-a:</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">&quot;&lt; a&quot;</span>)</span><br><span class="line">      <span class="keyword">case</span> &lt;-a:</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">&quot;&lt; a&quot;</span>)</span><br><span class="line">      <span class="keyword">case</span> &lt;-a:</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">&quot;&lt; a&quot;</span>)</span><br><span class="line">      <span class="keyword">case</span> &lt;-a:</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">&quot;&lt; a&quot;</span>)</span><br><span class="line">      <span class="keyword">case</span> &lt;-a:</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">&quot;&lt; a&quot;</span>)</span><br><span class="line">      <span class="keyword">case</span> &lt;-a:</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">&quot;&lt; a&quot;</span>)</span><br><span class="line">      <span class="keyword">case</span> &lt;-a:</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">&quot;&lt; a&quot;</span>)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">case</span> &lt;-b:</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">&quot;&lt; b&quot;</span>)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">case</span> &lt;-c:</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">&quot;&lt; c&quot;</span>)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">&quot;&lt; default&quot;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºçš„ç»“æœï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">&lt; c&lt; a&lt; b&lt; a&lt; b&lt; a&lt; a&lt; c&lt; a&lt; a</span><br></pre></td></tr></table></figure>

<p>å½“æ‰€æœ‰channelåŒæ—¶å‡†å¤‡å°±ç»ªæ—¶ï¼Œæœ‰80ï¼…çš„æœºä¼šé€‰æ‹©é€šé“aã€‚ä¸‹é¢æ¥çœ‹ä¸€ä¸‹channelæœªå°±ç»ªçš„æƒ…å†µã€‚</p>
<h1 id="Non-ready-channels"><a href="#Non-ready-channels" class="headerlink" title="Non-ready channels"></a>Non-ready channels</h1><p><code>select</code> è¿è¡Œæ—¶ï¼Œå¦‚æœæ²¡æœ‰ä¸€ä¸ªcase channelå°±ç»ªï¼Œé‚£ä¹ˆä»–å°±ä¼šè¿è¡Œ<code>default:</code>,å¦‚æœ <code>select</code>ä¸­æ²¡æœ‰å†™defaultï¼Œé‚£ä¹ˆä»–å°±è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œå¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   a := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">bool</span>, <span class="number">100</span>)</span><br><span class="line">   b := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">bool</span>, <span class="number">100</span>)</span><br><span class="line">   <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">      time.Sleep(time.Minute)</span><br><span class="line">      <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">         a &lt;- <span class="literal">true</span></span><br><span class="line">         b &lt;- <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">   &#125;()</span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">      <span class="keyword">select</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> &lt;-a:</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">&quot;&lt; a&quot;</span>)</span><br><span class="line">      <span class="keyword">case</span> &lt;-b:</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">&quot;&lt; b&quot;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢é‚£ä¸ªä¾‹å­ä¸­ï¼Œå°†åœ¨ä¸€åˆ†é’Ÿåæ‰“å°ç»“æœã€‚<code>select</code>é˜»å¡åœ¨ channelä¸Šã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå¤„ç†<code>select</code>çš„å‡½æ•°å°†ä¼šè®¢é˜…æ‰€æœ‰channelå¹¶ä¸”ç­‰å¾…ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªgoroutine#7åœ¨selectä¸­ç­‰å¾…çš„ç¤ºä¾‹ï¼Œå…¶ä¸­å¦ä¸€ä¸ªgoroutine#4ä¹Ÿåœ¨ç­‰å¾…channelï¼š</p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200429225528.png"></p>
<p>Goroutine(G7)è®¢é˜…æ‰€æœ‰é¢‘é“å¹¶åœ¨åˆ—è¡¨æœ«å°¾ç­‰å¾…ã€‚ å¦‚æœchannelå‘é€äº†ä¸€æ¡æ¶ˆæ¯ï¼Œchannelå°†é€šçŸ¥å·²åœ¨ç­‰å¾…è¯¥æ¶ˆæ¯çš„å¦ä¸€ä¸ªGoroutineã€‚ä¸€æ—¦æ”¶åˆ°é€šçŸ¥ï¼Œ<code>select </code>å°†å–æ¶ˆè®¢é˜…æ‰€æœ‰channelï¼Œå¹¶ä¸”è¿”å›åˆ°ä»£ç è¿è¡Œ.</p>
<p>æ›´å¤šå…³äºchannelä¸ç­‰å¾…é˜Ÿåˆ—çš„ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ä½œè€…å¦å¤–ä¸€ç¯‡æ–‡ç« <a href="https://medium.com/a-journey-with-go/go-buffered-and-unbuffered-channels-29a107c00268"><em>Go: Buffered and Unbuffered Channels</em></a><em>.</em></p>
<p>ä¸Šé¢ä»‹ç»çš„é€»è¾‘ï¼Œéƒ½æ˜¯é’ˆå¯¹äºæœ‰ä¸¤ä¸ªæˆ–è€…ä»¥ä¸Šçš„æ´»åŠ¨çš„channelï¼Œå®é™…ä¸Šå¦‚æœåªæœ‰ä¸€ä¸ªæ´»åŠ¨çš„channelï¼Œgoä¹æ„ç®€åŒ–select</p>
<h1 id="Simplification"><a href="#Simplification" class="headerlink" title="Simplification"></a>Simplification</h1><p>å¦‚æœåªæœ‰ä¸€ä¸ªcase åŠ ä¸Šä¸€ä¸ªdefaultï¼Œä¾‹å­ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   t:= time.NewTicker(time.Second)</span><br><span class="line">   <span class="keyword">for</span>   &#123;</span><br><span class="line">      <span class="keyword">select</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> &lt;-t.C:</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">&quot;1 second &quot;</span>)</span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">&quot;default branch&quot;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æƒ…å†µä¸‹ã€‚Goä¼šä»¥éé˜»å¡æ¨¡å¼è¯»å–channelçš„æ“ä½œæ›¿æ¢selectè¯­å¥ã€‚å¦‚æœchannelåœ¨ç¼“å†²åŒºä¸­æ²¡æœ‰ä»»ä½•å€¼ï¼Œæˆ–è€…å‘é€æ–¹å‡†å¤‡å‘é€æ¶ˆæ¯ï¼Œå°†ä¼šè¿è¡Œdefaultã€‚å°±åƒä¸‹é¢è¿™å¼ å›¾</p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200429231908.png"></p>
<p>å¦‚æœæ²¡æœ‰defaultï¼Œåˆ™ Go é€šè¿‡é˜»å¡channelæ“ä½œé‡å†™ select è¯­å¥ã€‚</p>
]]></content>
      <categories>
        <category>Go</category>
      </categories>
      <tags>
        <tag>go</tag>
        <tag>åº•å±‚</tag>
      </tags>
  </entry>
  <entry>
    <title>Golang é€šè¿‡ Consul å®ç°åˆ†å¸ƒå¼é”</title>
    <url>/2020/03/24/Golang%20%E9%80%9A%E8%BF%87%20Consul%20%E5%AE%9E%E7%8E%B0%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/</url>
    <content><![CDATA[<h1 id="Consul-æ˜¯ä»€ä¹ˆ"><a href="#Consul-æ˜¯ä»€ä¹ˆ" class="headerlink" title="Consul æ˜¯ä»€ä¹ˆ"></a>Consul æ˜¯ä»€ä¹ˆ</h1><p>Consul æ˜¯ä¸€ä¸ªæ”¯æŒå¤šæ•°æ®ä¸­å¿ƒåˆ†å¸ƒå¼é«˜å¯ç”¨çš„æœåŠ¡å‘ç°å’Œé…ç½®å…±äº«çš„æœåŠ¡è½¯ä»¶,ç”± HashiCorp å…¬å¸ç”¨ Go è¯­è¨€å¼€å‘, åŸºäº Mozilla Public License 2.0 çš„åè®®è¿›è¡Œå¼€æº. Consul æ”¯æŒå¥åº·æ£€æŸ¥,å¹¶å…è®¸ HTTP å’Œ DNS åè®®è°ƒç”¨ API å­˜å‚¨é”®å€¼å¯¹.<br>å‘½ä»¤è¡Œè¶…çº§å¥½ç”¨çš„è™šæ‹Ÿæœºç®¡ç†è½¯ä»¶ vgrant ä¹Ÿæ˜¯ HashiCorp å…¬å¸å¼€å‘çš„äº§å“.<br>ä¸€è‡´æ€§åè®®é‡‡ç”¨ Raft ç®—æ³•,ç”¨æ¥ä¿è¯æœåŠ¡çš„é«˜å¯ç”¨. ä½¿ç”¨ GOSSIP åè®®ç®¡ç†æˆå‘˜å’Œå¹¿æ’­æ¶ˆæ¯, å¹¶ä¸”æ”¯æŒ ACL è®¿é—®æ§åˆ¶.</p>
<h1 id="Consul-çš„ä½¿ç”¨åœºæ™¯"><a href="#Consul-çš„ä½¿ç”¨åœºæ™¯" class="headerlink" title="Consul çš„ä½¿ç”¨åœºæ™¯"></a>Consul çš„ä½¿ç”¨åœºæ™¯</h1><ul>
<li>docker å®ä¾‹çš„æ³¨å†Œä¸é…ç½®å…±äº«</li>
<li>coreos å®ä¾‹çš„æ³¨å†Œä¸é…ç½®å…±äº«</li>
<li>vitess é›†ç¾¤</li>
<li>SaaS åº”ç”¨çš„é…ç½®å…±äº«</li>
<li>ä¸ confd æœåŠ¡é›†æˆï¼ŒåŠ¨æ€ç”Ÿæˆ nginx å’Œ haproxy é…ç½®æ–‡ä»¶</li>
</ul>
<h1 id="Consul-çš„ä¼˜åŠ¿"><a href="#Consul-çš„ä¼˜åŠ¿" class="headerlink" title="Consul çš„ä¼˜åŠ¿"></a>Consul çš„ä¼˜åŠ¿</h1><ul>
<li>ä½¿ç”¨ Raft ç®—æ³•æ¥ä¿è¯ä¸€è‡´æ€§, æ¯”å¤æ‚çš„ Paxos ç®—æ³•æ›´ç›´æ¥. ç›¸æ¯”è¾ƒè€Œè¨€, zookeeper é‡‡ç”¨çš„æ˜¯ Paxos, è€Œ etcd ä½¿ç”¨çš„åˆ™æ˜¯ Raft.</li>
<li>æ”¯æŒå¤šæ•°æ®ä¸­å¿ƒï¼Œå†…å¤–ç½‘çš„æœåŠ¡é‡‡ç”¨ä¸åŒçš„ç«¯å£è¿›è¡Œç›‘å¬ã€‚ å¤šæ•°æ®ä¸­å¿ƒé›†ç¾¤å¯ä»¥é¿å…å•æ•°æ®ä¸­å¿ƒçš„å•ç‚¹æ•…éšœ,è€Œå…¶éƒ¨ç½²åˆ™éœ€è¦è€ƒè™‘ç½‘ç»œå»¶è¿Ÿ, åˆ†ç‰‡ç­‰æƒ…å†µç­‰. zookeeper å’Œ etcd å‡ä¸æä¾›å¤šæ•°æ®ä¸­å¿ƒåŠŸèƒ½çš„æ”¯æŒ.</li>
<li>æ”¯æŒå¥åº·æ£€æŸ¥. etcd ä¸æä¾›æ­¤åŠŸèƒ½.</li>
<li>æ”¯æŒ http å’Œ dns åè®®æ¥å£. zookeeper çš„é›†æˆè¾ƒä¸ºå¤æ‚, etcd åªæ”¯æŒ http åè®®.</li>
<li>å®˜æ–¹æä¾›webç®¡ç†ç•Œé¢, etcd æ— æ­¤åŠŸèƒ½.<br>ç»¼åˆæ¯”è¾ƒ, Consul ä½œä¸ºæœåŠ¡æ³¨å†Œå’Œé…ç½®ç®¡ç†çš„æ–°æ˜Ÿ, æ¯”è¾ƒå€¼å¾—å…³æ³¨å’Œç ”ç©¶.</li>
</ul>
<h1 id="Consul-çš„è§’è‰²"><a href="#Consul-çš„è§’è‰²" class="headerlink" title="Consul çš„è§’è‰²"></a>Consul çš„è§’è‰²</h1><p>client: å®¢æˆ·ç«¯, æ— çŠ¶æ€, å°† HTTP å’Œ DNS æ¥å£è¯·æ±‚è½¬å‘ç»™å±€åŸŸç½‘å†…çš„æœåŠ¡ç«¯é›†ç¾¤.<br>server: æœåŠ¡ç«¯, ä¿å­˜é…ç½®ä¿¡æ¯, é«˜å¯ç”¨é›†ç¾¤, åœ¨å±€åŸŸç½‘å†…ä¸æœ¬åœ°å®¢æˆ·ç«¯é€šè®¯, é€šè¿‡å¹¿åŸŸç½‘ä¸å…¶ä»–æ•°æ®ä¸­å¿ƒé€šè®¯. æ¯ä¸ªæ•°æ®ä¸­å¿ƒçš„ server æ•°é‡æ¨èä¸º 3 ä¸ªæˆ–æ˜¯ 5 ä¸ª.</p>
<h1 id="ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼é”"><a href="#ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼é”" class="headerlink" title="ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼é”"></a>ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼é”</h1><p><strong>åˆ†å¸ƒå¼é”</strong>ï¼Œæ˜¯æ§åˆ¶<a href="https://zh.wikipedia.org/w/index.php?title=%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F&action=edit&redlink=1" title="åˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆé¡µé¢ä¸å­˜åœ¨ï¼‰">åˆ†å¸ƒå¼ç³»ç»Ÿ</a>ä¹‹é—´åŒæ­¥è®¿é—®å…±äº«<a href="https://zh.wikipedia.org/wiki/%E8%B5%84%E6%BA%90" title="èµ„æº">èµ„æº</a>çš„ä¸€ç§æ–¹å¼ã€‚åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå¸¸å¸¸éœ€è¦åè°ƒä»–ä»¬çš„åŠ¨ä½œã€‚å¦‚æœä¸åŒçš„ç³»ç»Ÿæˆ–æ˜¯åŒä¸€ä¸ªç³»ç»Ÿçš„ä¸åŒä¸»æœºä¹‹é—´å…±äº«äº†ä¸€ä¸ªæˆ–ä¸€ç»„èµ„æºï¼Œé‚£ä¹ˆè®¿é—®è¿™äº›èµ„æºçš„æ—¶å€™ï¼Œå¾€å¾€éœ€è¦<a href="https://zh.wikipedia.org/wiki/%E4%BA%92%E6%96%A5" title="äº’æ–¥">äº’æ–¥</a>æ¥é˜²æ­¢å½¼æ­¤å¹²æ‰°æ¥ä¿è¯ä¸€è‡´æ€§ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¾¿éœ€è¦ä½¿ç”¨åˆ°åˆ†å¸ƒå¼é”ã€‚<br>ç›®å‰å‡ ä¹å¾ˆå¤šå¤§å‹ç½‘ç«™åŠåº”ç”¨éƒ½æ˜¯åˆ†å¸ƒå¼éƒ¨ç½²çš„ï¼Œåˆ†å¸ƒå¼åœºæ™¯ä¸­çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ä¸€ç›´æ˜¯ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„è¯é¢˜ã€‚åˆ†å¸ƒå¼çš„CAPç†è®ºå‘Šè¯‰æˆ‘ä»¬â€œä»»ä½•ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿéƒ½æ— æ³•åŒæ—¶æ»¡è¶³ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ã€å¯ç”¨æ€§ï¼ˆAvailabilityï¼‰å’Œåˆ†åŒºå®¹é”™æ€§ï¼ˆPartition toleranceï¼‰ï¼Œæœ€å¤šåªèƒ½åŒæ—¶æ»¡è¶³ä¸¤é¡¹ã€‚â€æ‰€ä»¥ï¼Œå¾ˆå¤šç³»ç»Ÿåœ¨è®¾è®¡ä¹‹åˆå°±è¦å¯¹è¿™ä¸‰è€…åšå‡ºå–èˆã€‚åœ¨äº’è”ç½‘é¢†åŸŸçš„ç»å¤§å¤šæ•°çš„åœºæ™¯ä¸­ï¼Œéƒ½éœ€è¦ç‰ºç‰²å¼ºä¸€è‡´æ€§æ¥æ¢å–ç³»ç»Ÿçš„é«˜å¯ç”¨æ€§ï¼Œç³»ç»Ÿå¾€å¾€åªéœ€è¦ä¿è¯â€œæœ€ç»ˆä¸€è‡´æ€§â€ï¼Œåªè¦è¿™ä¸ªæœ€ç»ˆæ—¶é—´æ˜¯åœ¨ç”¨æˆ·å¯ä»¥æ¥å—çš„èŒƒå›´å†…å³å¯ã€‚<br>åœ¨å¾ˆå¤šåœºæ™¯ä¸­ï¼Œæˆ‘ä»¬ä¸ºäº†ä¿è¯æ•°æ®çš„æœ€ç»ˆä¸€è‡´æ€§ï¼Œéœ€è¦å¾ˆå¤šçš„æŠ€æœ¯æ–¹æ¡ˆæ¥æ”¯æŒï¼Œæ¯”å¦‚åˆ†å¸ƒå¼äº‹åŠ¡ã€åˆ†å¸ƒå¼é”ç­‰ã€‚æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯ä¸€ä¸ªæ–¹æ³•åœ¨åŒä¸€æ—¶é—´å†…åªèƒ½è¢«åŒä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚<br>åœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨Consulæ¥ç®¡ç†åˆ†å¸ƒå¼é”ã€‚Consulå†…ç½®äº†æœåŠ¡æ³¨å†Œä¸å‘ç°æ¡† æ¶ã€åˆ†å¸ƒä¸€è‡´æ€§åè®®å®ç°ã€å¥åº·æ£€æŸ¥ã€Key&#x2F;Valueå­˜å‚¨ã€å¤šæ•°æ®ä¸­å¿ƒæ–¹æ¡ˆï¼Œä¸å†éœ€è¦ä¾èµ–å…¶ä»–å·¥å…·ï¼ˆæ¯”å¦‚<a href="http://tonybai.com/tag/zookeeper">ZooKeeper</a>ç­‰ï¼‰ã€‚</p>
<h3 id="Sessions"><a href="#Sessions" class="headerlink" title="Sessions"></a>Sessions</h3><p><a href="https://o6rr5e4by.qnssl.com/wp-content/uploads/2017/01/consul-sessions-56bc7006.png"></a><br>sessionæ˜¯ä¸€ä¸ªè¿œç¨‹è¿›ç¨‹å’ŒconsulèŠ‚ç‚¹ä¹‹é—´çš„é“¾æ¥ï¼Œå®ƒç”±ä¸€ä¸ªè¿œç¨‹è¿›ç¨‹å’Œå¯ä»¥æ˜¾å¼æ— æ•ˆæˆ–ç”±äºå¥åº·æ£€æŸ¥æœºåˆ¶ã€‚æ ¹æ®ä¼šè¯é…ç½®ï¼Œåˆ›å»ºä¸å·²å¤±æ•ˆä¼šè¯é”æ‘§æ¯æˆ–é‡Šæ”¾ã€‚</p>
<h4 id="Health-checks"><a href="#Health-checks" class="headerlink" title="Health checks"></a>Health checks</h4><p>Consulæ”¯æŒå¤šç§æ£€æŸ¥ ï¼ˆå¦‚ HTTPã€ TCP ç­‰ï¼‰ã€‚åœ¨sessionåˆ›å»ºè¿‡ç¨‹ä¸­å¯ä»¥å®šä¹‰çš„å¥åº·æ£€æŸ¥åˆ—è¡¨ã€‚è¿™äº›æ£€æŸ¥å°†ç”¨äºç¡®å®šæ˜¯å¦sessioéœ€è¦ä½¿ä¹‹å¤±æ•ˆã€‚</p>
<h4 id="TTL"><a href="#TTL" class="headerlink" title="TTL"></a>TTL</h4><p>é™¤äº†å¥åº·æ£€æŸ¥ï¼Œä¼šè¯ä¹Ÿå…·æœ‰å†…ç½®æ”¯æŒçš„ TTLã€‚å½“ TTL è¿‡æœŸsessionè¢«è§†ä¸ºæ— æ•ˆã€‚è¿œç¨‹è¿›ç¨‹è´Ÿè´£æ›´æ–°sessionä¹‹å‰ TTL è¿‡æœŸã€‚</p>
<h3 id="Golang-API"><a href="#Golang-API" class="headerlink" title="Golang API"></a>Golang API</h3><p><a href="https://godoc.org/github.com/hashicorp/consul/api">Consul API client</a> æä¾›ä¸€ä¸ªæ–¹ä¾¿çš„æŠ½è±¡ï¼Œsessionå’Œ K&#x2F;V å­˜å‚¨ã€‚æœ‰æ˜¯ä¸€ä¸ªé”ç»“æ„ä¸é”å®šã€ è§£é”å’Œç ´åçš„æ–¹æ³•ã€‚ä¹Ÿæœ‰ç”¨äºå¸®åŠ©åˆ›å»ºé”å®ä¾‹æ–¹æ³•ã€‚API å®¢æˆ·ç«¯è¿˜è´Ÿè´£æ›´æ–°ä¼šè¯ã€‚</p>
<h4 id="Creating-the-Consul-client"><a href="#Creating-the-Consul-client" class="headerlink" title="Creating the Consul client"></a>Creating the Consul client</h4><figure class="highlight golang"><table><tr><td class="code"><pre><span class="line">client, err := api.NewClient(&amp;api.Config&#123;Address: <span class="string">&quot;127.0.0.1:8500&quot;</span>&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="Creating-Lock-instance"><a href="#Creating-Lock-instance" class="headerlink" title="Creating Lock instance"></a>Creating Lock instance</h4><figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> LockOptions <span class="keyword">struct</span> &#123;</span><br><span class="line">    Key <span class="type">string</span> <span class="comment">// Must be set and have write permissions</span></span><br><span class="line">    Value []<span class="type">byte</span> <span class="comment">// Optional, value to associate with the lock</span></span><br><span class="line">    Session <span class="type">string</span> <span class="comment">// Optional, created if not specified</span></span><br><span class="line">    SessionOpts *SessionEntry <span class="comment">// Optional, options to use when creating a session</span></span><br><span class="line">    SessionName <span class="type">string</span> <span class="comment">// Optional, defaults to DefaultLockSessionName (ignored if SessionOpts is given)</span></span><br><span class="line">    SessionTTL <span class="type">string</span> <span class="comment">// Optional, defaults to DefaultLockSessionTTL (ignored if SessionOpts is given)</span></span><br><span class="line">    MonitorRetries <span class="type">int</span> <span class="comment">// Optional, defaults to 0 which means no retries</span></span><br><span class="line">    MonitorRetryTime time.Duration <span class="comment">// Optional, defaults to DefaultMonitorRetryTime</span></span><br><span class="line">    LockWaitTime time.Duration <span class="comment">// Optional, defaults to DefaultLockWaitTime</span></span><br><span class="line">    LockTryOnce <span class="type">bool</span> <span class="comment">// Optional, defaults to false which means try forever</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>LockOptions æ˜¯æ‰€æœ‰å¯èƒ½çš„é€‰é¡¹çš„å®¹å™¨ï¼Œå¯ä»¥ç”¨äºè®¾ç½®é”®å’Œå€¼ã€ å®šåˆ¶ä¼šè¯æˆ–è®¾ç½®TTLã€‚</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line">opts := &amp;api.LockOptions&#123;</span><br><span class="line">    Key: <span class="string">&quot;webhook_receiver/1&quot;</span>,</span><br><span class="line">    Value: []<span class="type">byte</span>(<span class="string">&quot;set by sender 1&quot;</span>),</span><br><span class="line">    SessionTTL: <span class="string">&quot;10s&quot;</span>,</span><br><span class="line">    SessionOpts: &amp;api.SessionEntry&#123;</span><br><span class="line">    Checks: []<span class="type">string</span>&#123;<span class="string">&quot;check1&quot;</span>, <span class="string">&quot;check2&quot;</span>&#125;,</span><br><span class="line">    Behavior: <span class="string">&quot;release&quot;</span>,</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line">lock, err := client.LockOpts(opts)</span><br></pre></td></tr></table></figure>
<p>å¦ä¸€ç§å¸¸ç”¨çš„æ–¹æ³•æ˜¯ LockKeyï¼Œå®ƒåˆ›å»ºä¸€ä¸ªé”ä¸æ‰€æœ‰é€‰é¡¹è®¾ç½®ä¸ºé»˜è®¤æ¡ç›®åç§°é™¤å¤–ã€‚</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line">lock, err := client.LockKey(<span class="string">&quot;webhook_receiver/1&quot;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="Acquiring-lock"><a href="#Acquiring-lock" class="headerlink" title="Acquiring lock"></a>Acquiring lock</h4><figure class="highlight golang"><table><tr><td class="code"><pre><span class="line">stopCh := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">struct</span>&#123;&#125;)</span><br><span class="line">lockCh, err := lock.Lock(stopCh)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line">cancelCtx, cancelRequest := context.WithCancel(context.Background())</span><br><span class="line">req, _ := http.NewRequest(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;https://example.com/webhook&quot;</span>, <span class="literal">nil</span>)</span><br><span class="line">req = req.WithContext(cancelCtx)</span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">http.DefaultClient.Do(req)</span><br><span class="line"><span class="keyword">select</span> &#123;</span><br><span class="line"><span class="keyword">case</span> &lt;-cancelCtx.Done():</span><br><span class="line">log.Println(<span class="string">&quot;request cancelled&quot;</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">log.Println(<span class="string">&quot;request done&quot;</span>)</span><br><span class="line">err = lock.Unlock()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">log.Println(<span class="string">&quot;lock already unlocked&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;()</span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">&lt;-lockCh</span><br><span class="line">cancelRequest()</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>go</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>æœ€ä½³å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>go trace view trace æ˜¾ç¤ºç©ºç™½</title>
    <url>/2020/03/21/go%20trace%20view%20trace%20%E6%98%BE%E7%A4%BA%E7%A9%BA%E7%99%BD/</url>
    <content><![CDATA[<blockquote>
<p>go trace ç”¨æ¥è·Ÿè¸ª goroutinesè¿è¡Œæƒ…å†µ,è·Ÿpprofé…åˆä½¿ç”¨ï¼Œå¯ä»¥èµ·åˆ°äº‹åŠåŠŸå€çš„æ•ˆæœã€‚ä½†æ˜¯ï¼Œgo trace çš„view trace åœ¨chromeä¸‹ä¸€ç‰‡ç©ºç™½ã€‚</p>
</blockquote>
<p>åŸå› æ˜¯å› ä¸ºè°·æ­Œåœ¨æŸä¸€ç‰ˆæœ¬çš„chromeä¸­ç¦ç”¨äº†æœ¬åœ°<a href="crbug.com/1036492.">API</a></p>
<p>è§£å†³åŠæ³•ï¼š</p>
<ol>
<li>æ³¨å†Œä¸€ä¸ªchrome token <a href="https://developers.chrome.com/origintrials/#/register_trial/2431943798780067841">https://developers.chrome.com/origintrials/#/register_trial/2431943798780067841</a> èµ„æ–™éšä¾¿å¡«å†™ï¼Œè®°å¾—æœ€åä¸€å®šè¦ feedbackã€‚</li>
<li>ä¿®æ”¹ go trace ä»£ç  <code>src/cmd/trace/trace.go</code> åœ¨headä¸­æ·»åŠ ä¸€è¡Œ <meta http-equiv="origin-trial" content="YOUR_TOKEN_GOES_HERE"> ç„¶å<code> go install</code> ä¸€ä¸‹</li>
<li>åœ¨ $gopath&#x2F;misc&#x2F;trace&#x2F;trace_viewer_full.html ä¸­ çœ‹åˆ°</li>
</ol>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200428161814.png"></p>
<p>è¯´æ˜é…ç½®æˆåŠŸï¼Œ</p>
<ol start="4">
<li>åœ¨ä½¿ç”¨ go traceå¾—æ—¶å€™èƒ½å¤Ÿæ­£å¸¸åŠ è½½å‡º view traceã€‚</li>
</ol>
<p>Enjoyï¼</p>
]]></content>
      <categories>
        <category>go</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>æœ€ä½³å®è·µ</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcodeè§£é¢˜ç¬”è®°-114-åŸåœ°ç®—æ³•</title>
    <url>/2020/03/24/leetcode%E8%A7%A3%E9%A2%98%E7%AC%94%E8%AE%B0-114-%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<blockquote>
<p>In <a href="https://en.wikipedia.org/wiki/Computer_science">computer science</a>, an <strong>in-place algorithm</strong> is an <a href="https://en.wikipedia.org/wiki/Algorithm">algorithm</a> which transforms input using no auxiliary <a href="https://en.wikipedia.org/wiki/Data_structure">data structure</a>. However a small amount of extra storage space is allowed for auxiliary variables. The input is usually overwritten by the output as the algorithm executes. In-place algorithm updates input sequence only through replacement or swapping of elements. An algorithm which is not in-place is sometimes called <strong>not-in-place</strong> or <strong>out-of-place</strong>.â€”â€”æ‘˜è‡ª<a href="https://en.wikipedia.org/wiki/In-place_algorithm">åŸåœ°ç®—æ³•</a>çš„ç»´åŸºç™¾ç§‘</p>
</blockquote>
<p>ä¸€å¥è¯æ€»ç»“å°±æ˜¯: åŸåœ°ç®—æ³•ä¸ä¾èµ–é¢å¤–çš„èµ„æºæˆ–è€…ä¾èµ–å°‘æ•°çš„é¢å¤–èµ„æºï¼Œä»…ä¾é è¾“å‡ºæ¥è¦†ç›–è¾“å…¥çš„ä¸€ç§ç®—æ³•æ“ä½œã€‚</p>
<h1 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h1><p>å‡è®¾è¦å°†å…·æœ‰ <em>n</em> é¡¹å†…å®¹çš„æ•°ç»„ a ç¿»è½¬è¿‡æ¥ã€‚ä¸€ç§çœ‹ä¼¼ç®€å•çš„æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªå¤§å°ç›¸ç­‰çš„æ–°æ•°ç»„ï¼Œç”¨é€‚å½“çš„é¡ºåºå¡«å……å‰¯æœ¬ï¼Œç„¶åå†åˆ é™¤ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">function reverse(a[<span class="number">0.</span>.n-<span class="number">1</span>])</span><br><span class="line">     allocate b[<span class="number">0.</span>.n-<span class="number">1</span>]  <span class="comment"># é¢å¤–è®¾å®šä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">     <span class="keyword">for</span> i <span class="keyword">from</span> <span class="number">0</span> to n-<span class="number">1</span> <span class="comment"># ä» 0 åˆ° n-1 éå†æ•°ç»„ a</span></span><br><span class="line">         b[n -<span class="number">1</span> - i] := a[i] </span><br><span class="line">     <span class="keyword">return</span> b</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹æ³•è™½ç„¶ç®€å•ï¼Œä½†æ˜¯éœ€è¦ O(n) çš„é¢å¤–ç©ºé—´ä»¥ä½¿æ•°ç»„ a å’Œ b åŒæ—¶å¯ç”¨ã€‚æ­¤å¤–ï¼Œåˆ†é…å­˜å‚¨ç©ºé—´å’Œé‡Šæ”¾å­˜å‚¨ç©ºé—´é€šå¸¸æ˜¯ç¼“æ…¢çš„æ“ä½œã€‚å¦‚æœæˆ‘ä»¬ä¸å†éœ€è¦æ•°ç»„ a çš„è¯ï¼Œå¯ä½¿ç”¨åŸåœ°ç®—æ³•ï¼Œç”¨å®ƒè‡ªå·±ç¿»è½¬çš„å†…å®¹æ¥è¦†ç›–æ‰åŸå…ˆçš„å†…å®¹ã€‚è¿™æ ·ï¼Œæ— è®ºæ•°ç»„æœ‰å¤šå¤§ï¼Œå®ƒéƒ½åªéœ€è¦è¾…åŠ©å˜é‡ i å’Œ tmpï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">function reverse_in_place(a[<span class="number">0.</span>.n-<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">from</span> <span class="number">0</span> to floor((n-<span class="number">2</span>)/<span class="number">2</span>)</span><br><span class="line">        tmp := a[i]</span><br><span class="line">        a[i] := a[n âˆ’ <span class="number">1</span> âˆ’ i]</span><br><span class="line">        a[n âˆ’ <span class="number">1</span> âˆ’ i] := tmp</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·æ—¢èŠ‚çœäº†å­˜å‚¨å™¨ç©ºé—´åˆåŠ å¿«äº†è¿ç®—é€Ÿåº¦ã€‚</p>
<p>example:</p>
<p><a href="https://leetcode-cn.com/problems/flatten-binary-tree-to-linked-list/">leetCode 114</a></p>
<p>go å®ç°</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">flatten</span><span class="params">(root *TreeNode)</span></span>  &#123;</span><br><span class="line">	<span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	flatten(root.Left)</span><br><span class="line">	flatten(root.Right)</span><br><span class="line">	temp := root.Right</span><br><span class="line">	root.Right = root.Left</span><br><span class="line">	root.Left = <span class="literal">nil</span></span><br><span class="line">	<span class="keyword">for</span> root.Right != <span class="literal">nil</span> &#123;</span><br><span class="line">		root = root.Right</span><br><span class="line">	&#125;</span><br><span class="line">	root.Right = temp</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶å®å°±æ˜¯ä½¿ç”¨å‰åºéå†æŠŠå³è¾¹çš„æ ‘èŠ‚ç‚¹ç§»åŠ¨åˆ°å·¦è¾¹</p>
<p>ç¬¬ä¸€è¶Ÿï¼Œå¤„ç†çš„èŠ‚ç‚¹ä¸º3ï¼Œä¿æŒä¸å˜</p>
<p>ç¬¬äºŒè¶Ÿï¼Œå¤„ç†èŠ‚ç‚¹ 4 ä¿æŒä¸å˜</p>
<p>ç¬¬ä¸‰è¶Ÿï¼Œå¤„ç†èŠ‚ç‚¹2 éœ€è¦æŠŠ èŠ‚ç‚¹3ç§»åŠ¨åˆ°2çš„å³èŠ‚ç‚¹ï¼Œç„¶åæŠŠ4 ç§»åŠ¨åˆ°2çš„æœ€å³çš„å³èŠ‚ç‚¹</p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200324161451.png"></p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200324161514.png"></p>
<p>ç¬¬å››è¶Ÿï¼šå¤„ç†èŠ‚ç‚¹6ï¼Œä¸å˜ã€‚</p>
<p>ç¬¬äº”è¶Ÿå¤„ç†èŠ‚ç‚¹ 5 ä¸å˜ï¼Œ</p>
<p>ç¬¬å…­è¶Ÿå¤„ç†èŠ‚ç‚¹1 éœ€è¦æŠŠ 2 ç§»åŠ¨åˆ° 1 çš„å³èŠ‚ç‚¹ï¼Œç„¶åæŠŠ 5 ç§»åŠ¨åˆ° 1çš„æœ€å³å³èŠ‚ç‚¹ã€‚</p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200324161751.png"></p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200324161823.png"></p>
<p>åˆ°æ­¤ï¼Œç§»åŠ¨å®Œæ¯•ï¼Œå…¨ç¨‹åªç”¨äº†ä¸€ä¸ªå˜é‡tempã€‚æ»¡è¶³åŸåœ°ç®—æ³•ã€‚</p>
]]></content>
      <categories>
        <category>leetCode</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>leetCode</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux è¿œç¨‹æœåŠ¡å™¨å…å¯†ç™»å½•</title>
    <url>/2023/09/22/Linux%20%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95/</url>
    <content><![CDATA[<h1 id="Linux-è¿œç¨‹æœåŠ¡å™¨å…å¯†ç™»å½•"><a href="#Linux-è¿œç¨‹æœåŠ¡å™¨å…å¯†ç™»å½•" class="headerlink" title="Linux è¿œç¨‹æœåŠ¡å™¨å…å¯†ç™»å½•"></a>Linux è¿œç¨‹æœåŠ¡å™¨å…å¯†ç™»å½•</h1><p>å…å¯†ç™»å½•çš„åŸç†ï¼šé€šè¿‡å¯†é’¥è®¤è¯ç™»å½•ï¼Œé¦–å…ˆåœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šç”Ÿæˆå…¬é’¥å’Œç§é’¥ï¼Œå…¶æ¬¡å°†å…¬é’¥ä¸Šä¼ åˆ°è¿œç¨‹æœåŠ¡ä¸­ï¼Œåœ¨äºè¿œç¨‹æœåŠ¡å™¨å»ºç«‹è¿æ¥é€šä¿¡æ—¶ï¼Œè¿œç¨‹æœåŠ¡å™¨é¦–å…ˆä¼šéªŒè¯è¯¥æœåŠ¡å™¨ä¸Šæ˜¯å¦åŒ…å«è¯·æ±‚æœåŠ¡å™¨çš„å…¬é’¥ï¼Œè‹¥ä¸åŒ…å«åˆ™éœ€è¦è¿œç¨‹ç™»å½•çš„ç”¨æˆ·è¾“å…¥å¯†ç ã€‚</p>
<span id="more"></span>

<p>å…å¯†ç™»å½•çš„åŸç†ï¼šé€šè¿‡å¯†é’¥è®¤è¯ç™»å½•ï¼Œé¦–å…ˆåœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šç”Ÿæˆå…¬é’¥å’Œç§é’¥ï¼Œå…¶æ¬¡å°†å…¬é’¥ä¸Šä¼ åˆ°è¿œç¨‹æœåŠ¡ä¸­ï¼Œåœ¨äºè¿œç¨‹æœåŠ¡å™¨å»ºç«‹è¿æ¥é€šä¿¡æ—¶ï¼Œè¿œç¨‹æœåŠ¡å™¨é¦–å…ˆä¼šéªŒè¯è¯¥æœåŠ¡å™¨ä¸Šæ˜¯å¦åŒ…å«è¯·æ±‚æœåŠ¡å™¨çš„å…¬é’¥ï¼Œè‹¥ä¸åŒ…å«åˆ™éœ€è¦è¿œç¨‹ç™»å½•çš„ç”¨æˆ·è¾“å…¥å¯†ç ã€‚</p>
<h2 id="åˆ›å»ºæœ¬åœ°å¯†é’¥å¯¹"><a href="#åˆ›å»ºæœ¬åœ°å¯†é’¥å¯¹" class="headerlink" title="åˆ›å»ºæœ¬åœ°å¯†é’¥å¯¹"></a>åˆ›å»ºæœ¬åœ°å¯†é’¥å¯¹</h2><p>ï¼ˆå¦‚æœæ²¡æœ‰~&#x2F;.sshæ–‡ä»¶å¤¹ï¼Œåˆ™æ–°å»ºä¸€ä¸ª.sshæ–‡ä»¶å¤¹ï¼Œmkdir ï½&#x2F;.sshï¼‰åœ¨æœ¬åœ°ç”Ÿæˆå¯†é’¥å¯¹ï¼ˆå…¬é’¥ä¸ç§é’¥ï¼‰<br><code>ssh-keygen -t rsa</code></p>
<p>æ•²ä¸‹å›è½¦åä¼šæœ‰ä¸‰ä¸ªäº¤äº’ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ–‡ä»¶åï¼Œé»˜è®¤æ˜¯id_rsaï¼Œå¦‚éœ€ä¿®æ”¹ï¼Œè‡ªå·±è¾“å…¥ä¸€ä¸ªæ–‡ä»¶åå³å¯ã€‚ç¬¬äºŒä¸ªä¸ç¬¬ä¸‰ä¸ªæ˜¯å¯†ç ä¸å¯†ç ç¡®è®¤ï¼Œæ˜¯ä»¥åä½¿ç”¨è¯¥å…¬é’¥æ—¶è¦è¾“å…¥çš„å¯†ç ï¼Œä¸€èˆ¬ä¸è®¾ç½®ï¼Œå¦‚æœ‰å¼ºçƒˆçš„å®‰å…¨éœ€æ±‚ï¼Œè‡ªå·±è®¾ç½®å³å¯ã€‚æœ€åä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶id_rsaï¼Œid_rsa.pubã€‚ä»¥.pubç»“å°¾çš„å…¬é’¥ï¼Œå¦ä¸€ä¸ªæ˜¯ç§é’¥ã€‚</p>
<h2 id="ä¸Šä¼ å…¬é’¥åˆ°ç›®æ ‡æœåŠ¡å™¨"><a href="#ä¸Šä¼ å…¬é’¥åˆ°ç›®æ ‡æœåŠ¡å™¨" class="headerlink" title="ä¸Šä¼ å…¬é’¥åˆ°ç›®æ ‡æœåŠ¡å™¨"></a>ä¸Šä¼ å…¬é’¥åˆ°ç›®æ ‡æœåŠ¡å™¨</h2><p>è¿›å…¥ï½&#x2F;.sshæ–‡ä»¶å¤¹ä¸­æœ‰id_rsaï¼ˆç§é’¥æ–‡ä»¶ï¼‰id_rsa.pub(å…¬é’¥æ–‡ä»¶)ï¼Œå°†å…¬é’¥æ–‡ä»¶id_rsa.pubä¸Šä¼ åˆ°æœåŠ¡å™¨çš„.ssh&#x2F;authorized_keysæ–‡ä»¶ä¸­ã€‚<br>ä¸Šä¼ <br><code>scpÂ  ï½/.ssh/id_rsa.pub glt@10.112.1.1:~/</code><br>ç„¶å è¿›å…¥è¿œç¨‹æœåŠ¡å™¨ï¼Œæ‰¾åˆ°ä¸Šä¼ çš„id_rsa.pubæ–‡ä»¶ï¼Œç„¶åå°†å…¬é’¥æ·»åŠ åˆ°è¿œç¨‹æœåŠ¡å™¨çš„~&#x2F;.ssh&#x2F;authorized_keys æ–‡ä»¶ä¸­:<br><code>cat ~/id_rsa.pub &gt;&gt; ~./.ssh/authorized_keys</code><br>æˆ–è€…ç›´æ¥ç”¨ssh-copy-idå‘½ä»¤ï¼Œå°†æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼š<br>&#96;ssh-copy-id -i ~&#x2F;.ssh&#x2F;id_rsa.pub <a href="mailto:&#103;&#x6c;&#116;&#x40;&#x31;&#48;&#x2e;&#x31;&#x31;&#x32;&#46;&#49;&#46;&#49;">&#103;&#x6c;&#116;&#x40;&#x31;&#48;&#x2e;&#x31;&#x31;&#x32;&#46;&#49;&#46;&#49;</a></p>
<blockquote>
<p>ssh-copy-idæ˜¯ç”¨æ¥å°†æœ¬åœ°å…¬é’¥æ‹·è´åˆ°è¿œç¨‹çš„authorized_keysæ–‡ä»¶çš„è„šæœ¬å‘½ä»¤ï¼Œå®ƒè¿˜ä¼šå°†èº«ä»½æ ‡è¯†è¿½åŠ åˆ°è¿œç¨‹æœåŠ¡å™¨çš„ <code>ï½/.ssh/authorized_keys</code> æ–‡ä»¶ä¸­ï¼Œå¹¶ç»™è¿œç¨‹ä¸»æœºçš„ç”¨æˆ·ç›®å½•é€‚å½“çš„æƒé™ã€‚</p>
</blockquote>
<ol>
<li>æŠŠä¸“ç”¨å¯†é’¥æ·»åŠ åˆ°ssh-agentçš„é«˜é€Ÿç¼“å­˜ä¸­ï¼š<br><code>ssh-add</code></li>
<li>é‡å¯sshæœåŠ¡<br><code>service sshd restart</code><br>æˆ–è€…<br><code>systemctlÂ  restartÂ  sshd</code></li>
</ol>
<p>6.ä½¿ç”¨sshç™»å½•è¿œç¨‹æœåŠ¡å™¨ç³»ç»Ÿ<br><code>ssh æœåŠ¡å™¨ç”¨æˆ·å@æœåŠ¡å™¨åœ°å€</code><br>è¡¥å……ï¼š<br>å¦‚æœä¸Šè¿°é…ç½®å¤±è´¥ã€‚</p>
<ol>
<li>å…ˆåœ¨æœ¬åœ°é…ç½®ï¼Œé…ç½®è‡ªèº«æœåŠ¡å™¨çš„å…å¯†ç™»å½•ï¼Œè‡ªå·±è¿æ¥è‡ªå·±ã€‚</li>
<li>æ£€æŸ¥æ–‡ä»¶æƒé™</li>
</ol>
<p>å°†authorized_keys æ–‡ä»¶çš„æƒé™ä¿®æ”¹ä¸º600ï¼š <code>chmod 600 authorized_keys</code><br>å°† .sshÂ  æ–‡ä»¶å¤¹çš„æƒé™ä¿®æ”¹ä¸º700ï¼š <code>chmod 700Â  .ssh</code></p>
<p>3.æŸ¥çœ‹é…ç½®æ–‡ä»¶sshd_configÂ  :Â  Â </p>
<p>vim &#x2F;etc&#x2F;ssh&#x2F;sshd_config</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">RSAAuthentication yesÂ  Â  Â  Â Â #RSAè®¤è¯</span><br><span class="line">PubkeyAuthentication yesÂ  Â  Â #å…¬é’¥è®¤è¯</span><br><span class="line">AuthorizedKeysFile .ssh/authorized_keys #å…¬é’¥è®¤è¯æ–‡ä»¶è·¯å¾„</span><br></pre></td></tr></table></figure>

<p>å¦‚æœç”¨rootç”¨æˆ·æœ‰å¤±è´¥çš„æƒ…å†µï¼Œæ£€æŸ¥PermitRootLogin yesÂ  è¿™ä¸ªé…ç½®é€‰é¡¹ï¼ˆæ³¨æ„ï¼Œè¿™æ˜¯rootç”¨æˆ·çš„è¿œç¨‹ç™»å½•ï¼Œæ¯”è¾ƒå±é™©ï¼‰ã€‚</p>
<p>4.ä¿®æ”¹é…ç½®æ–‡ä»¶åï¼Œè®©é…ç½®æ–‡ä»¶ç”Ÿæ•ˆ<br>ç«‹å³ç”Ÿæ•ˆï¼šsource &#x2F;etc&#x2F;ssh&#x2F;sshd_coonfig<br>é‡å¯sshæœåŠ¡ï¼šsudo &#x2F;etc&#x2F;init.d&#x2F;ssh restart  </p>
<h2 id="æœ¬åœ°é…ç½®å…å¯†ç™»å½•"><a href="#æœ¬åœ°é…ç½®å…å¯†ç™»å½•" class="headerlink" title="æœ¬åœ°é…ç½®å…å¯†ç™»å½•"></a>æœ¬åœ°é…ç½®å…å¯†ç™»å½•</h2><p>5.ç»™è¿œç¨‹ç™»å½•é…ç½®åˆ«å</p>
<p>è¿›å…¥æœ¬åœ°æœºå™¨çš„ç›®å½•ï½&#x2F;.sshä¸‹æ‰¾åˆ°configæ–‡ä»¶ï¼ˆè‹¥ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªtouch configï¼‰, æŒ‰å¦‚ä¸‹è¿›è¡Œé…ç½®</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Host  glt                                  # ç»™è¿œç¨‹æœåŠ¡å™¨å–ä¸€ä¸ªåˆ«å</span><br><span class="line">HostName  10.1.1.1       #ç›®çš„æœºå™¨çš„ip</span><br><span class="line">User username              #sshç™»å½•æ—¶çš„ç”¨æˆ·å</span><br><span class="line">Port   22                         #sshæ‰€ä½¿ç”¨çš„ç«¯å£ï¼Œé»˜è®¤æ˜¯22</span><br><span class="line">IdentityFile  /home/ç”¨æˆ·å/.ssh/id_rsa.pub     #å¯¹åº”æœåŠ¡å™¨å…¬é’¥çš„æœ¬åœ°ç§é’¥æ–‡ä»¶è·¯å¾„</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨ssh gltÂ  Â è¿›è¡Œè¿œç¨‹ç™»å½•ã€‚</p>
]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>go æ€ä¹ˆåšstw</title>
    <url>/2020/04/28/go%20%E6%80%8E%E6%A0%B7%E5%81%9A%20stw/</url>
    <content><![CDATA[<blockquote>
<p>åŸæ–‡é“¾æ¥:  <a href="https://medium.com/a-journey-with-go/go-how-does-go-stop-the-world-1ffab8bc8846">Go: How Does Go Stop the World? </a>:<br> Author :   <a href="https://medium.com/@blanchon.vincent?source=post_page-----1ffab8bc8846----------------------">Vincent Blanchon</a></p>
</blockquote>
<p><strong>æœ¬æ–‡åŸºäº go 1.13</strong></p>
<p>åœ¨åƒåœ¾å›æ”¶ç®—æ³•ä¸­ï¼ŒStop The Wordï¼ˆSTWï¼‰æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼Œä»–ä¼šä¸­æ–­ç¨‹åºè¿è¡Œï¼Œæ·»åŠ å†™å±éšœï¼Œ<code>ä»¥ä¾¿æ‰«æå†…å­˜</code> ,ç°åœ¨ä¸€èµ·æ¥çœ‹çœ‹å®ƒå†…éƒ¨çš„åŸç†ä»¥åŠå¯èƒ½å­˜åœ¨çš„é—®é¢˜</p>
<h1 id="STW"><a href="#STW" class="headerlink" title="STW"></a>STW</h1><p>åœæ­¢ç¨‹åºè¿è¡Œæ„å‘³ç€åœæ­¢æ‰€æœ‰è¿è¡Œæ€çš„<code>goroutines</code>,ä¸€ä¸ªç®€å•çš„ä¾‹å­:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   runtime.GC()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œåƒåœ¾å›æ”¶ç®—æ³•å°†è§¦å‘ä¸¤ä¸ªé˜¶æ®µçš„STW </p>
<blockquote>
<p>æœ‰å…³åƒåœ¾å›æ”¶çš„æ›´å¤šç»†èŠ‚ï¼Œè¯·å‚è€ƒåŒä½œè€…çš„å¦å¤–ä¸€ç¯‡æ–‡ç« <em>â€œ</em><a href="https://medium.com/a-journey-with-go/go-how-does-the-garbage-collector-mark-the-memory-72cfc12c6976"><em>Go: How Does the Garbage Collector Mark the Memory?</em></a></p>
</blockquote>
<h2 id="STWçš„æ­¥éª¤"><a href="#STWçš„æ­¥éª¤" class="headerlink" title="STWçš„æ­¥éª¤"></a>STWçš„æ­¥éª¤</h2><p>ç¬¬ä¸€æ­¥ï¼ŒæŠ¢å æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„<code>goroutines</code></p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200428164159.png"></p>
<p>ç¬¬äºŒæ­¥ï¼Œä¸€æ—¦ <code>goroutines</code>è¢«æŠ¢å ï¼Œæ­£åœ¨è¿è¡Œçš„<code>goroutines</code>å°†åœ¨å®‰å…¨çš„åœ°æ–¹æš‚åœï¼Œç„¶åæ‰€æœ‰çš„p<sup>[1]</sup>éƒ½å°†è¢«æ ‡è®°ä¸ºæš‚åœï¼Œåœæ­¢è¿è¡Œä»»ä½•ä»£ç ã€‚</p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200428164444.png"></p>
<p>ç¬¬ä¸‰æ­¥ï¼Œç„¶åï¼Œgoè°ƒåº¦å™¨å°†M<sup>[2]</sup>ä¸Påˆ†ç¦»,å¹¶ä¸”å°†Mæ”¾åˆ°ç©ºé—²åˆ—è¡¨é‡Œé¢ã€‚</p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200428164609.png"></p>
<p>å¯¹äºåœ¨æ¯ä¸ªMä¸Šè¿è¡Œçš„Goroutinesï¼Œå®ƒä»¬å°†åœ¨å…¨å±€é˜Ÿåˆ—<sup>[3]</sup>&gt;ä¸­ç­‰å¾…ï¼š</p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200428164654.png"></p>
<p>é‚£ä¹ˆï¼Œä¸€æ—¦æ‰€æœ‰çš„<code>goroutines</code>éƒ½åœæ­¢äº†ï¼Œé‚£ä¹ˆå”¯ä¸€æ´»è·ƒçš„<code>goroutines</code> ï¼ˆåƒåœ¾å›æ”¶<code>goroutines</code>ï¼‰å°†ä¼šå®‰å…¨çš„è¿è¡Œï¼Œå¹¶ä¸”åœ¨åƒåœ¾å›æ”¶å®Œæˆåï¼Œé‡æ–°æ‹‰èµ·æ‰€æœ‰çš„<code>goroutines</code>ã€‚å…·ä½“æƒ…å†µï¼Œå¯ä»¥é€šè¿‡ go traceæŸ¥çœ‹ã€‚</p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200428165140.png"></p>
<h1 id="System-calls"><a href="#System-calls" class="headerlink" title="System calls"></a>System calls</h1><p>STWæ—¶æœŸå¯èƒ½ä¼šå½±å“ç³»ç»Ÿè°ƒç”¨ï¼Œå› ä¸ºç³»ç»Ÿè°ƒç”¨å¯èƒ½ä¼šåœ¨stwæ—¶æœŸè¿”å›ï¼Œé€šè¿‡å¯†é›†æ‰§è¡Œç³»ç»Ÿè°ƒç”¨çš„ç¨‹åºæ¥çœ‹çœ‹æ€æ ·å¤„ç†è¿™ç§æƒ…å†µï¼Œ</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line">   wg.Add(<span class="number">10</span>)   <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">      <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">         http.Get(<span class="string">`https://httpstat.us/200`</span>)</span><br><span class="line">         wg.Done()</span><br><span class="line">      &#125;()</span><br><span class="line">   &#125;   wg.Wait()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»–çš„traceæƒ…å†µã€‚</p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200428165604.png"></p>
<p>ç³»ç»Ÿè°ƒç”¨åœ¨STWæ—¶æœŸè¿”å›ï¼Œä½†æ˜¯ç°åœ¨å·²ç»æ²¡æœ‰Påœ¨è¿è¡Œäº†ã€‚æ‰€ä»¥ä»–ä¼šæ”¾åˆ°å…¨å±€é˜Ÿåˆ—é‡Œé¢,ç­‰å¾…STWç»“æŸåå†è¿è¡Œã€‚</p>
<h1 id="Latencies"><a href="#Latencies" class="headerlink" title="Latencies"></a>Latencies</h1><p>STWçš„ç¬¬ä¸‰æ­¥å°†æ‰€æœ‰çš„Mä¸Påˆ†ç¦»ã€‚ç„¶è€Œï¼Œgoå°†ç­‰å¾…è°ƒåº¦ç¨‹åºè¿è¡Œã€ç³»ç»Ÿè°ƒç”¨ç­‰è‡ªåŠ¨åœæ­¢ã€‚ç­‰å¾…goroutineè¢«æŠ¢å åº”è¯¥å¾ˆå¿«ï¼Œä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ä¼šäº§ç”Ÿä¸€äº›å»¶è¿Ÿï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªæç«¯çš„ä¾‹å­ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> t <span class="type">int</span></span><br><span class="line">   <span class="keyword">for</span> i := <span class="number">0</span>;i &lt; <span class="number">20</span> ;i++  &#123;</span><br><span class="line">      <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">         <span class="keyword">for</span> i := <span class="number">0</span>;i &lt; <span class="number">1000000000</span> ;i++ &#123;</span><br><span class="line">            t++</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;()</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   runtime.GC()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>STWæ—¶é•¿è¾¾åˆ°äº†2.6S</p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200428172521.png"></p>
<p>æ²¡æœ‰å‡½æ•°è°ƒç”¨çš„goroutineå°†ä¸ä¼šè¢«æŠ¢å ï¼Œå¹¶ä¸”å®ƒçš„Påœ¨ä»»åŠ¡ç»“æŸä¹‹å‰ä¸ä¼šè¢«é‡Šæ”¾ã€‚è¿™å°†è¿«ä½¿STWç­‰å¾…ä»–ï¼Œ æœ‰å‡ ç§è§£å†³æ–¹æ¡ˆå¯æ”¹å–„å¾ªç¯ä¸­çš„æŠ¢å ï¼Œæœ‰å…³å…¶çš„æ›´å¤šä¿¡æ¯ï¼Œå¯ä»¥æŸ¥çœ‹ä½œè€…å¦å¤–ä¸€ç¯‡æ–‡ç«  [<a href="https://medium.com/a-journey-with-go/go-goroutine-and-preemption-d6bc2aa2f4b7">Go: Goroutine and Preemption).</a></p>
]]></content>
      <categories>
        <category>go</category>
      </categories>
      <tags>
        <tag>go</tag>
      </tags>
  </entry>
  <entry>
    <title>Obsidian æœ€ä½³å®è·µ -æŒç»­æ›´æ–°</title>
    <url>/2023/09/24/Obsidian%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/</url>
    <content><![CDATA[<h1 id="Obsidian-æœ€ä½³å®è·µ"><a href="#Obsidian-æœ€ä½³å®è·µ" class="headerlink" title="Obsidian æœ€ä½³å®è·µ"></a>Obsidian æœ€ä½³å®è·µ</h1><p>#obsidian</p>
<h1 id="æˆ‘ç”¨Obsidian-æ¥åšä»€ä¹ˆï¼Ÿ"><a href="#æˆ‘ç”¨Obsidian-æ¥åšä»€ä¹ˆï¼Ÿ" class="headerlink" title="æˆ‘ç”¨Obsidian æ¥åšä»€ä¹ˆï¼Ÿ"></a>æˆ‘ç”¨Obsidian æ¥åšä»€ä¹ˆï¼Ÿ</h1><h2 id="å†™åšå®¢"><a href="#å†™åšå®¢" class="headerlink" title="å†™åšå®¢"></a>å†™åšå®¢</h2><p>æˆ‘çš„<a href="https://blog.hxzhouh.com/">blog</a> æ˜¯ç”¨Hugo ç¼–è¯‘ï¼Œ æ‰˜ç®¡åœ¨Cloudflare ä¸Šé¢çš„ï¼Œå…·ä½“æ‰˜ç®¡æ•™ç¨‹è¯·å‚è€ƒï¼š<a href="https://developers.cloudflare.com/pages/framework-guides/deploy-a-hugo-site/">Deploy a Hugo site</a> obsidianå†ä¸­é—´çš„ä½œç”¨å°±æ˜¯ ç®¡ç†æ–‡ç« äº†ã€‚æˆ‘ç”¨è½¯é“¾æ¥å°† hugo ç›®å½•é‡Œé¢çš„content è¿æ¥åˆ° obsidian çš„ç›®å½•ï¼Œç„¶åé…åˆ æ’ä»¶ QuickAdd &amp; Template æ’ä»¶ï¼Œå¾ˆæ–¹ä¾¿çš„å°±æ·»åŠ ä¸€ç¯‡æ–°çš„åšå®¢ã€‚<br>å†™å®Œåšå®¢åï¼Œç”¨Raycast è§¦å‘ä¸€ä¸‹pushï¼ˆè„šæœ¬ï¼‰ï¼Œè¿™æ ·å°±æå®šäº†ã€‚ã€‚</p>
<h2 id="æ—¥è®°"><a href="#æ—¥è®°" class="headerlink" title="æ—¥è®°"></a>æ—¥è®°</h2><p>é…åˆ å®˜æ–¹æ’ä»¶ + template </p>
<h2 id="ä½¿ç”¨ç®€æ‚¦è®°å½•ç½‘ç»œå†…å®¹"><a href="#ä½¿ç”¨ç®€æ‚¦è®°å½•ç½‘ç»œå†…å®¹" class="headerlink" title="ä½¿ç”¨ç®€æ‚¦è®°å½•ç½‘ç»œå†…å®¹"></a>ä½¿ç”¨ç®€æ‚¦è®°å½•ç½‘ç»œå†…å®¹</h2><h2 id="æœ¬åœ°æ—¥è®°æœ¬ã€‚"><a href="#æœ¬åœ°æ—¥è®°æœ¬ã€‚" class="headerlink" title="æœ¬åœ°æ—¥è®°æœ¬ã€‚"></a>æœ¬åœ°æ—¥è®°æœ¬ã€‚</h2><p><a href="https://github.com/Kenshin/simpread/discussions/3807">https://github.com/Kenshin/simpread/discussions/3807</a></p>
<h1 id="ä¸€äº›å°æŠ€å·§"><a href="#ä¸€äº›å°æŠ€å·§" class="headerlink" title="ä¸€äº›å°æŠ€å·§"></a>ä¸€äº›å°æŠ€å·§</h1><ul>
<li>åœ¨Preferences ä¸­ é€‰æ‹©ç¼–è¾‘å™¨ï¼Œå¯ä»¥ å…³é—­æ˜¾ç¤º æ–‡æ¡£çš„å±æ€§ã€‚</li>
<li>å¿…é¡»å…ˆè®¾ç½®å¥½æ—¶é—´æ ¼å¼ ,æˆ‘ç»Ÿä¸€ä½¿ç”¨çš„æ ¼å¼æ˜¯ YYYY-MM-DD(2023-12-31) ã€YYYY-MM-DD HH:mm:ss (2023-12-31 15:06:59)</li>
</ul>
<h2 id="é™å®šæ ‡ç­¾-æ˜¾ç¤ºå…³é”®å­—æ‰€åœ¨è¡Œ"><a href="#é™å®šæ ‡ç­¾-æ˜¾ç¤ºå…³é”®å­—æ‰€åœ¨è¡Œ" class="headerlink" title="é™å®šæ ‡ç­¾-æ˜¾ç¤ºå…³é”®å­—æ‰€åœ¨è¡Œ"></a>é™å®šæ ‡ç­¾-æ˜¾ç¤ºå…³é”®å­—æ‰€åœ¨è¡Œ</h2><p><a href="https://coffeetea.top/zh/dataview-snippets/Dvjs-QueryTags-inlineKeywords.html">https://coffeetea.top/zh/dataview-snippets/Dvjs-QueryTags-inlineKeywords.html</a><br>ç”¨å°†æ‰€æœ‰å…³é”®å­—çš„ç¬”è®°æ”¶é›†åˆ°ä¸€ä¸ªé¡µé¢ã€‚ emm æˆ‘ä¹Ÿä¸çŸ¥é“æœ‰å•¥ç”¨ã€‚</p>
<h2 id="ç‰¹å®šæ–‡ä»¶å¤¹è‡ªåŠ¨ä½¿ç”¨æŸä¸ªæ¨¡æ¿ã€‚"><a href="#ç‰¹å®šæ–‡ä»¶å¤¹è‡ªåŠ¨ä½¿ç”¨æŸä¸ªæ¨¡æ¿ã€‚" class="headerlink" title="ç‰¹å®šæ–‡ä»¶å¤¹è‡ªåŠ¨ä½¿ç”¨æŸä¸ªæ¨¡æ¿ã€‚"></a>ç‰¹å®šæ–‡ä»¶å¤¹è‡ªåŠ¨ä½¿ç”¨æŸä¸ªæ¨¡æ¿ã€‚</h2><h1 id="æ­£åœ¨ä½¿ç”¨çš„æ’ä»¶"><a href="#æ­£åœ¨ä½¿ç”¨çš„æ’ä»¶" class="headerlink" title="æ­£åœ¨ä½¿ç”¨çš„æ’ä»¶"></a>æ­£åœ¨ä½¿ç”¨çš„æ’ä»¶</h1><ul>
<li><a href="https://github.com/argenos/nldates-obsidian">Natural Language Dates</a> æ–¹ä¾¿çš„è¾“å…¥æ—¶é—´ï¼Œå…·ä½“è¯·å‚è€ƒ GitHubä¸»é¡µï¼Œåé¢ä¸€äº›è‡ªåŠ¨åŒ–åŠŸèƒ½éƒ½æ˜¯åŸºäº <a href="https://github.com/argenos/nldates-obsidian">Natural Language Dates</a> å®ç°</li>
<li><a href="https://github.com/platers/obsidian-linter">Linter</a>ï¼šä¸€ä¸ªè‡ªåŠ¨æ ¼å¼åŒ–å·¥å…·ï¼Œå¯ä»¥å®ç°è¯¸å¦‚è‡ªåŠ¨æ·»åŠ åˆ›å»ºæ—¶é—´ ã€æ›´æ–°æ—¶é—´åˆ°metadataï¼Œè‡ªåŠ¨çº é”™ç­‰åŠŸèƒ½ã€‚å¾ˆå¼ºå¤§ï¼Œä¹Ÿæ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥å°è¯•äº†è§£ä¸€ä¸‹ã€‚</li>
<li>template æ’ä»¶ </li>
<li><a href="https://github.com/coddingtonbear/obsidian-local-rest-api">Obsidian Local REST API</a>è¯¥æ’ä»¶ä¸º Obsidian æä¾›äº† REST APIï¼Œæ‚¨å¯ä»¥ä¸å…¶ä»–å·¥å…·ä¸­çš„ç¬”è®°è¿›è¡Œäº¤äº’ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥è‡ªåŠ¨åŒ–éœ€è¦è‡ªåŠ¨åŒ–çš„æ“ä½œã€‚ç›®å‰æˆ‘åªç”¨åˆ°äº†<a href="https://github.com/coddingtonbear/obsidian-web">Obsidian Web</a> è¿™ä¸ªæ‹“å±•ï¼Œåé¢æˆ–è®¸ä¼šå†™ä¸€äº›æœ‰æ„æ€çš„ä¸œè¥¿ï¼Œæ´»è¿™ä¸ªè·ŸRaycastè”åŠ¨èµ·æ¥ã€‚ã€‚ éœ€è¦ç¢ç£¨ä¸€ä¸‹ã€‚</li>
</ul>
<h1 id="å­¦ä¹ èµ„æº"><a href="#å­¦ä¹ èµ„æº" class="headerlink" title="å­¦ä¹ èµ„æº"></a>å­¦ä¹ èµ„æº</h1>]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
  </entry>
  <entry>
    <title>newè·Ÿmake çš„åŒºåˆ«</title>
    <url>/2020/03/21/new%E8%B7%9Fmake%20%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
    <content><![CDATA[<h1 id="newè·Ÿmake-çš„åŒºåˆ«"><a href="#newè·Ÿmake-çš„åŒºåˆ«" class="headerlink" title="newè·Ÿmake çš„åŒºåˆ«"></a>newè·Ÿmake çš„åŒºåˆ«</h1><blockquote>
<p>new å’Œ make éƒ½å¯ä»¥ç”¨æ¥åˆ†é…ç©ºé—´ï¼Œåˆå§‹åŒ–ç±»å‹ï¼Œä½†æ˜¯å®ƒä»¬ç¡®æœ‰ä¸åŒã€‚</p>
</blockquote>
<h2 id="new-T-è¿”å›çš„æ˜¯-T-çš„æŒ‡é’ˆ"><a href="#new-T-è¿”å›çš„æ˜¯-T-çš„æŒ‡é’ˆ" class="headerlink" title="new(T) è¿”å›çš„æ˜¯ T çš„æŒ‡é’ˆ"></a><strong>new(T) è¿”å›çš„æ˜¯ T çš„æŒ‡é’ˆ</strong></h2><p>new(T) ä¸ºä¸€ä¸ª T ç±»å‹æ–°å€¼åˆ†é…ç©ºé—´å¹¶å°†æ­¤ç©ºé—´åˆå§‹åŒ–ä¸º T çš„é›¶å€¼ï¼Œè¿”å›çš„æ˜¯æ–°å€¼çš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯ T ç±»å‹çš„æŒ‡é’ˆ *Tï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘ T çš„æ–°åˆ†é…çš„é›¶å€¼ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">p1 := <span class="built_in">new</span>(<span class="type">int</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;p1 --&gt; %#v \n &quot;</span>, p1) <span class="comment">//(*int)(0xc42000e250)</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;p1 point to --&gt; %#v \n &quot;</span>, *p1) <span class="comment">//0</span></span><br><span class="line"><span class="keyword">var</span> p2 *<span class="type">int</span></span><br><span class="line">i := <span class="number">0</span></span><br><span class="line">p2 = &amp;i</span><br><span class="line">fmt.Printf(<span class="string">&quot;p2 --&gt; %#v \n &quot;</span>, p2) <span class="comment">//(*int)(0xc42000e278)</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;p2 point to --&gt; %#v \n &quot;</span>, *p2) <span class="comment">//0</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç æ˜¯ç­‰ä»·çš„ï¼Œnew(int) å°†åˆ†é…çš„ç©ºé—´åˆå§‹åŒ–ä¸º int çš„é›¶å€¼ï¼Œä¹Ÿå°±æ˜¯ 0ï¼Œå¹¶è¿”å› int çš„æŒ‡é’ˆï¼Œè¿™å’Œç›´æ¥å£°æ˜æŒ‡é’ˆå¹¶åˆå§‹åŒ–çš„æ•ˆæœæ˜¯ç›¸åŒçš„ã€‚</p>
<h2 id="make-åªèƒ½ç”¨äº-slice-map-channel"><a href="#make-åªèƒ½ç”¨äº-slice-map-channel" class="headerlink" title="make åªèƒ½ç”¨äº slice,map,channel"></a><strong>make åªèƒ½ç”¨äº slice,map,channel</strong></h2><p>make åªèƒ½ç”¨äº sliceï¼Œmapï¼Œchannel ä¸‰ç§ç±»å‹ï¼Œmake(T, args) è¿”å›çš„æ˜¯åˆå§‹åŒ–ä¹‹åçš„ T ç±»å‹çš„å€¼ï¼Œè¿™ä¸ªæ–°å€¼å¹¶ä¸æ˜¯ T ç±»å‹çš„é›¶å€¼ï¼Œä¹Ÿä¸æ˜¯æŒ‡é’ˆ *Tï¼Œæ˜¯ç»è¿‡åˆå§‹åŒ–ä¹‹åçš„ T çš„å¼•ç”¨ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 []<span class="type">int</span></span><br><span class="line"><span class="keyword">if</span> s1 == <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;s1 is nil --&gt; %#v \n &quot;</span>, s1) <span class="comment">// []int(nil)</span></span><br><span class="line">&#125;</span><br><span class="line">s2 := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">if</span> s2 == <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;s2 is nil --&gt; %#v \n &quot;</span>, s2)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;s2 is not nill --&gt; %#v \n &quot;</span>, s2)<span class="comment">// []int&#123;0, 0, 0&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>slice çš„é›¶å€¼æ˜¯ nilï¼Œä½¿ç”¨ make ä¹‹å slice æ˜¯ä¸€ä¸ªåˆå§‹åŒ–çš„ sliceï¼Œå³ slice çš„é•¿åº¦ã€å®¹é‡ã€åº•å±‚æŒ‡å‘çš„ array éƒ½è¢« make å®Œæˆåˆå§‹åŒ–ï¼Œæ­¤æ—¶ slice å†…å®¹è¢«ç±»å‹ int çš„é›¶å€¼å¡«å……ï¼Œå½¢å¼æ˜¯ [0 0 0]ï¼Œmap å’Œ channel ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> m1 <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span></span><br><span class="line"><span class="keyword">if</span> m1 == <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;m1 is nil --&gt; %#v \n &quot;</span>, m1) <span class="comment">//map[int]string(nil)</span></span><br><span class="line">&#125;</span><br><span class="line">m2 := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span>)</span><br><span class="line"><span class="keyword">if</span> m2 == <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;m2 is nil --&gt; %#v \n &quot;</span>, m2)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;m2 is not nill --&gt; %#v \n &quot;</span>, m2) <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> c1 <span class="keyword">chan</span> <span class="type">string</span></span><br><span class="line"><span class="keyword">if</span> c1 == <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;c1 is nil --&gt; %#v \n &quot;</span>, c1) <span class="comment">//(chan string)(nil)</span></span><br><span class="line">&#125;</span><br><span class="line">c2 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line"><span class="keyword">if</span> c2 == <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;c2 is nil --&gt; %#v \n &quot;</span>, c2)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;c2 is not nill --&gt; %#v \n &quot;</span>, c2)<span class="comment">//(chan string)(0xc420016120)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="make-T-args-è¿”å›çš„æ˜¯-T-çš„-å¼•ç”¨"><a href="#make-T-args-è¿”å›çš„æ˜¯-T-çš„-å¼•ç”¨" class="headerlink" title="make(T, args) è¿”å›çš„æ˜¯ T çš„ å¼•ç”¨"></a><strong>make(T, args) è¿”å›çš„æ˜¯ T çš„ å¼•ç”¨</strong></h2><p>å¦‚æœä¸ç‰¹æ®Šå£°æ˜ï¼Œgo çš„å‡½æ•°é»˜è®¤éƒ½æ˜¯æŒ‰å€¼ç©¿å‚ï¼Œå³é€šè¿‡å‡½æ•°ä¼ é€’çš„å‚æ•°æ˜¯å€¼çš„å‰¯æœ¬ï¼Œåœ¨å‡½æ•°å†…éƒ¨å¯¹å€¼ä¿®æ”¹ä¸å½±å“å€¼çš„æœ¬èº«ï¼Œä½†æ˜¯ make(T, args) è¿”å›çš„å€¼é€šè¿‡å‡½æ•°ä¼ é€’å‚æ•°ä¹‹åå¯ä»¥ç›´æ¥ä¿®æ”¹ï¼Œå³ mapï¼Œsliceï¼Œchannel é€šè¿‡å‡½æ•°ç©¿å‚ä¹‹ååœ¨å‡½æ•°å†…éƒ¨ä¿®æ”¹å°†å½±å“å‡½æ•°å¤–éƒ¨çš„å€¼ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modifySlice</span><span class="params">(s []<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">	s[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">s2 := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">3</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;%#v&quot;</span>, s2) <span class="comment">//[]int&#123;0, 0, 0&#125;</span></span><br><span class="line">modifySlice(s2)</span><br><span class="line">fmt.Printf(<span class="string">&quot;%#v&quot;</span>, s2) <span class="comment">//[]int&#123;1, 0, 0&#125;</span></span><br></pre></td></tr></table></figure>

<p>è¿™è¯´æ˜ make(T, args) è¿”å›çš„æ˜¯å¼•ç”¨ç±»å‹ï¼Œåœ¨å‡½æ•°å†…éƒ¨å¯ä»¥ç›´æ¥æ›´æ”¹åŸå§‹å€¼ï¼Œå¯¹ map å’Œ channel ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modifyMap</span><span class="params">(m <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span>)</span></span> &#123;</span><br><span class="line">	m[<span class="number">0</span>] = <span class="string">&quot;string&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modifyChan</span><span class="params">(c <span class="keyword">chan</span> <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">	c &lt;- <span class="string">&quot;string&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">m2 := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span>)</span><br><span class="line"><span class="keyword">if</span> m2 == <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;m2 is nil --&gt; %#v \n &quot;</span>, m2)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;m2 is not nill --&gt; %#v \n &quot;</span>, m2) <span class="comment">//map[int]string&#123;&#125;</span></span><br><span class="line">&#125;</span><br><span class="line">modifyMap(m2)</span><br><span class="line">fmt.Printf(<span class="string">&quot;m2 is not nill --&gt; %#v \n &quot;</span>, m2) <span class="comment">// map[int]string&#123;0:&quot;string&quot;&#125;</span></span><br><span class="line">c2 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line"><span class="keyword">if</span> c2 == <span class="literal">nil</span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;c2 is nil --&gt; %#v \n &quot;</span>, c2)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;c2 is not nill --&gt; %#v \n &quot;</span>, c2)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">go</span> modifyChan(c2)</span><br><span class="line">fmt.Printf(<span class="string">&quot;c2 is not nill --&gt; %#v &quot;</span>, &lt;-c2) <span class="comment">//&quot;string&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="å¾ˆå°‘éœ€è¦ä½¿ç”¨-new"><a href="#å¾ˆå°‘éœ€è¦ä½¿ç”¨-new" class="headerlink" title="å¾ˆå°‘éœ€è¦ä½¿ç”¨ new"></a><strong>å¾ˆå°‘éœ€è¦ä½¿ç”¨ new</strong></h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Foo <span class="keyword">struct</span> &#123;</span><br><span class="line">name <span class="type">string</span></span><br><span class="line">age <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å£°æ˜åˆå§‹åŒ–</span></span><br><span class="line"><span class="keyword">var</span> foo1 Foo</span><br><span class="line">fmt.Printf(<span class="string">&quot;foo1 --&gt; %#v\n &quot;</span>, foo1) <span class="comment">//main.Foo&#123;age:0, name:&quot;&quot;&#125;</span></span><br><span class="line">foo1.age = <span class="number">1</span></span><br><span class="line">fmt.Println(foo1.age)</span><br><span class="line"><span class="comment">//struct literal åˆå§‹åŒ–</span></span><br><span class="line">foo2 := Foo&#123;&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;foo2 --&gt; %#v\n &quot;</span>, foo2) <span class="comment">//main.Foo&#123;age:0, name:&quot;&quot;&#125;</span></span><br><span class="line">foo2.age = <span class="number">2</span></span><br><span class="line">fmt.Println(foo2.age)</span><br><span class="line"><span class="comment">//æŒ‡é’ˆåˆå§‹åŒ–</span></span><br><span class="line">foo3 := &amp;Foo&#123;&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;foo3 --&gt; %#v\n &quot;</span>, foo3) <span class="comment">//&amp;main.Foo&#123;age:0, name:&quot;&quot;&#125;</span></span><br><span class="line">foo3.age = <span class="number">3</span></span><br><span class="line">fmt.Println(foo3.age)</span><br><span class="line"><span class="comment">//new åˆå§‹åŒ–</span></span><br><span class="line">foo4 := <span class="built_in">new</span>(Foo)</span><br><span class="line">fmt.Printf(<span class="string">&quot;foo4 --&gt; %#v\n &quot;</span>, foo4) <span class="comment">//&amp;main.Foo&#123;age:0, name:&quot;&quot;&#125;</span></span><br><span class="line">foo4.age = <span class="number">4</span></span><br><span class="line">fmt.Println(foo4.age)</span><br><span class="line"><span class="comment">//å£°æ˜æŒ‡é’ˆå¹¶ç”¨ new åˆå§‹åŒ–</span></span><br><span class="line"><span class="keyword">var</span> foo5 *Foo = <span class="built_in">new</span>(Foo)</span><br><span class="line">fmt.Printf(<span class="string">&quot;foo5 --&gt; %#v\n &quot;</span>, foo5) <span class="comment">//&amp;main.Foo&#123;age:0, name:&quot;&quot;&#125;</span></span><br><span class="line">foo5.age = <span class="number">5</span></span><br><span class="line">fmt.Println(foo5.age)</span><br></pre></td></tr></table></figure>

<p>foo1 å’Œ foo2 æ˜¯åŒæ ·çš„ç±»å‹ï¼Œéƒ½æ˜¯ Foo ç±»å‹çš„å€¼ï¼Œfoo1 æ˜¯é€šè¿‡ var å£°æ˜ï¼ŒFoo çš„ filed è‡ªåŠ¨åˆå§‹åŒ–ä¸ºæ¯ä¸ªç±»å‹çš„é›¶å€¼ï¼Œfoo2 æ˜¯é€šè¿‡å­—é¢é‡çš„å®Œæˆåˆå§‹åŒ–ã€‚foo3ï¼Œfoo4 å’Œ foo5 æ˜¯ä¸€æ ·çš„ç±»å‹ï¼Œéƒ½æ˜¯ Foo çš„æŒ‡é’ˆ <em>Fooã€‚</em>*<em>ä½†æ˜¯æ‰€æœ‰ foo éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ Foo çš„ filedï¼Œè¯»å–æˆ–ä¿®æ”¹ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</em>å¦‚æœ x æ˜¯å¯å¯»å€çš„ï¼Œ&amp;x çš„ filed é›†åˆåŒ…å« mï¼Œx.m å’Œ (&amp;x).m æ˜¯ç­‰åŒçš„ï¼Œgo è‡ªåŠ¨åšè½¬æ¢ï¼Œä¹Ÿå°±æ˜¯ foo1.age å’Œ foo3.age è°ƒç”¨æ˜¯ç­‰ä»·çš„ï¼Œgo åœ¨ä¸‹é¢è‡ªåŠ¨åšäº†è½¬æ¢ã€‚å› è€Œå¯ä»¥ç›´æ¥ä½¿ç”¨ struct literal çš„æ–¹å¼åˆ›å»ºå¯¹è±¡ï¼Œèƒ½è¾¾åˆ°å’Œ new åˆ›å»ºæ˜¯ä¸€æ ·çš„æƒ…å†µè€Œä¸éœ€è¦ä½¿ç”¨ newã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a><strong>å°ç»“</strong></h2><ul>
<li><p>new(T) è¿”å› T çš„æŒ‡é’ˆ *T å¹¶æŒ‡å‘ T çš„é›¶å€¼ã€‚</p>
</li>
<li><p>make(T) è¿”å›çš„åˆå§‹åŒ–çš„ Tï¼Œåªèƒ½ç”¨äº sliceï¼Œmapï¼Œchannelã€‚</p>
</li>
</ul>
]]></content>
      <categories>
        <category>go</category>
      </categories>
      <tags>
        <tag>Go</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨VPSä¸Šæ­å»ºvaultwarden</title>
    <url>/2023/09/23/%E5%9C%A8VPS%E4%B8%8A%E6%90%AD%E5%BB%BAvaultwarden/</url>
    <content><![CDATA[<h1 id="åœ¨VPSä¸Šæ­å»ºvaultwarden"><a href="#åœ¨VPSä¸Šæ­å»ºvaultwarden" class="headerlink" title="åœ¨VPSä¸Šæ­å»ºvaultwarden"></a>åœ¨VPSä¸Šæ­å»ºvaultwarden</h1><p>ä¹‹å‰ä¸€ç›´åœ¨å¯»æ‰¾ä¸€ä¸ªæ”¯æŒè·¨å¹³å°çš„å¯†ç ç®¡ç†å·¥å…·ï¼Œå…ˆåå°è¯•äº† 1Password å’Œ LastPassï¼Œè¿«äºè´«ç©·ï¼Œåˆ‡æ¢åˆ°äº†å¼€æºçš„Â <a href="https://bitwarden.com/">Bitwarden</a> æ”¯æŒè‡ªæ‰˜ç®¡æœåŠ¡ç«¯,ä½†æ˜¯ <a href="https://bitwarden.com/">Bitwarden</a> å¯¹æ€§èƒ½è¦æ±‚æ¯”è¾ƒé«˜ï¼Œ é€€è€Œæ±‚å…¶æ¬¡ï¼Œç”¨å®ƒçš„å¦ä¸€ä¸ªå®ç°Â <a href="https://github.com/dani-garcia/vaultwarden">Vaultwarden</a>ï¼ˆåŸå Bitwarden_rsï¼‰Â <a href="https://github.com/dani-garcia/vaultwarden">Vaultwarden</a> å®Œç¾å…¼å®¹<a href="https://bitwarden.com/">Bitwarden</a> ï¼Œè¿™æ ·æˆ‘ä»¬å°±åœ¨AWS çš„å…è´¹ä¸»æœºä¸Šå¾—åˆ°äº†ä¸€ä¸ª Â <a href="https://github.com/dani-garcia/vaultwarden">Vaultwarden</a> åšåç«¯ï¼Œ<a href="https://bitwarden.com/">Bitwarden</a>åšå‰ç«¯çš„ å…è´¹å¯†ç æ‰˜ç®¡æœåŠ¡ã€‚<br>æœ¬æ–‡è¯¦ç»†æ•´ç†äº†ä½¿ç”¨vps æ­å»º ç§æœ‰ vaultwardenæœåŠ¡ï¼Œå®ç° bitwardenè‡ªæ‰˜ç®¡çš„æ­¥éª¤ï¼Œè®¾ç½®çš„å†…å®¹æœ‰ï¼š#VPSï¼Œ#åå‘ä»£ç†ï¼Œrclone è‡ªåŠ¨æŒ‚è½½Google Driveç­‰ã€‚</p>
<span id="more"></span>
<h2 id="Vaultwarden-éƒ¨ç½²"><a href="#Vaultwarden-éƒ¨ç½²" class="headerlink" title="Vaultwarden éƒ¨ç½²"></a>Vaultwarden éƒ¨ç½²</h2><p>ä½¿ç”¨docker-compose  éƒ¨ç½²ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">vaultwarden:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">vaultwarden/server:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">vaultwarden</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">8080</span><span class="string">:80</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">3012</span><span class="string">:3012</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">ADMIN_TOKEN:</span> <span class="string">V9ZE7sCSfR9hx8Pi3M+GhiBTSG1gag0G</span></span><br><span class="line">      <span class="attr">WEBSOCKET_ENABLED:</span> <span class="string">&quot;true&quot;</span> <span class="comment"># Enable WebSocket notifications.</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/data/vaultwarden/:/data/</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">backup:</span></span><br><span class="line">    <span class="comment">#å¤‡ä»½æœåŠ¡</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">ttionya/vaultwarden-backup:latest</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">CRON:</span> <span class="string">&#x27;0 0 * * * ?&#x27;</span></span><br><span class="line">      <span class="attr">ZIP_ENABLE:</span> <span class="string">&#x27;TRUE&#x27;</span></span><br><span class="line">      <span class="attr">ZIP_PASSWORD:</span> <span class="string">&#x27;123456&#x27;</span></span><br><span class="line">      <span class="attr">ZIP_TYPE:</span> <span class="string">&#x27;zip&#x27;</span></span><br><span class="line">      <span class="attr">BACKUP_FILE_SUFFIX:</span> <span class="string">&#x27;%Y%m%d&#x27;</span></span><br><span class="line">      <span class="attr">ACKUP_KEEP_DAYS:</span> <span class="number">7</span></span><br><span class="line">      <span class="comment">#   PING_URL: &#x27;&#x27;</span></span><br><span class="line">      <span class="attr">MAIL_SMTP_ENABLE:</span> <span class="string">&#x27;TRUE&#x27;</span></span><br><span class="line">      <span class="attr">MAIL_SMTP_VARIABLES:</span> <span class="string">&#x27;  -S smtp-use-starttls \ -S smtp=smtp://smtp.164.com:587 \ -S smtp-auth=login \ -S smtp-auth-user=email-user \ -S smtp-auth-password=your-auth \ -S from=email-from(Vaultwarden_Backup)&#x27;</span></span><br><span class="line">      <span class="attr">MAIL_TO:</span> <span class="string">&#x27;example@gmail.com&#x27;</span></span><br><span class="line">      <span class="attr">MAIL_WHEN_SUCCESS:</span> <span class="string">&#x27;FALSE&#x27;</span></span><br><span class="line">      <span class="attr">MAIL_WHEN_FAILURE:</span> <span class="string">&#x27;TRUE&#x27;</span></span><br><span class="line">      <span class="attr">TIMEZONE:</span> <span class="string">&#x27;Asia/Shanghai&#x27;</span></span><br><span class="line">      <span class="attr">DATA_DIR:</span> <span class="string">&#x27;/data&#x27;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/data/vaultwarden/:/data/</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">vaultwarden-rclone-data:/config/</span></span><br><span class="line">    <span class="comment">#   - /path/to/env:/.env</span></span><br><span class="line"></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">vaultwarden-data:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">vaultwarden-data</span></span><br><span class="line">  <span class="attr">vaultwarden-rclone-data:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">vaultwarden-rclone-data</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªdocker-compose.yaml æ–‡ä»¶åŒ…å« äº† vaultwarden ï¼Œä»¥åŠvaultwarden-backup ä¸¤éƒ¨åˆ†ã€‚<br>è¿è¡Œè¿™ä¸ªå‰ï¼Œéœ€è¦è®¾ç½®ä¸€ä¸‹ rcloneï¼Œè¿™é‡Œä»¥ rclone è¿æ¥ google driveä¸ºä¾‹ã€‚</p>
<blockquote>
<p>rcloneæ˜¯ä¸€æ¬¾å¼€æºçš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºåœ¨ä¸åŒäº‘å­˜å‚¨æœåŠ¡ä¹‹é—´åŒæ­¥ã€å¤åˆ¶å’Œç®¡ç†æ–‡ä»¶ã€‚å®ƒæ”¯æŒå¤šç§äº‘å­˜å‚¨æä¾›å•†ï¼ŒåŒ…æ‹¬Google Driveã€Dropboxã€Amazon S3ç­‰ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡ç®€å•çš„å‘½ä»¤å®ç°æ–‡ä»¶çš„ä¸Šä¼ ã€ä¸‹è½½å’ŒåŒæ­¥ï¼Œè¿˜æä¾›äº†åŠ å¯†å’Œç¼“å­˜ç­‰åŠŸèƒ½ï¼Œæ˜¯ä¸€ä¸ªå¼ºå¤§çš„äº‘å­˜å‚¨ç®¡ç†å·¥å…·ã€‚</p>
</blockquote>
<p>è¿è¡Œ ä¸‹é¢çš„æŒ‡ä»¤ï¼Œè¿›å…¥é…ç½®é¡µé¢ï¼Œ å‚è€ƒæ–‡ç«  <a href="https://pickstar.today/2022/05/vps%e4%bd%bf%e7%94%a8rclone%e6%8c%82%e8%bd%bdgoogle-drive%e8%af%a6%e7%bb%86%e8%ae%b0%e5%bd%95/">vpsä½¿ç”¨rcloneæŒ‚è½½Google Driveè¯¦ç»†è®°å½•</a>è¿›è¡Œè®¾ç½®ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run --rm -it \</span><br><span class="line">  --mount type=volume,source=vaultwarden-rclone-data,target=/config/ \</span><br><span class="line">  ttionya/vaultwarden-backup:latest \</span><br><span class="line">  rclone config</span><br></pre></td></tr></table></figure>

<p>ç„¶åæŸ¥çœ‹ä¸€ä¸‹é…ç½®çš„å†…å®¹</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run --rm -it \</span><br><span class="line">  --mount type=volume,source=vaultwarden-rclone-data,target=/config/ \</span><br><span class="line">  ttionya/vaultwarden-backup:latest \</span><br><span class="line">  rclone config show</span><br></pre></td></tr></table></figure>

<p><img src="https://images.hxzhouh.com/blog-images/2023/09/3781bb366cac1dcc520970ff606ff536.png" alt="image.png"></p>
<p>è¿™æ ·å°±å¥½äº†ã€‚</p>
<p>å†ç”¨docker-compose å¯åŠ¨vaultwarden ä»¥åŠvaultwarden-backupã€‚</p>
<p><img src="https://images.hxzhouh.com/blog-images/2023/09/c79a80b302ac3bbaff32a97b0798ff81.png" alt="image.png"></p>
<h2 id="cloudflare-åå‘ä»£ç†"><a href="#cloudflare-åå‘ä»£ç†" class="headerlink" title="cloudflare åå‘ä»£ç†"></a>cloudflare åå‘ä»£ç†</h2><p>vaultwarden å¾ˆå¤šåŠŸèƒ½ä¾èµ– https å®ç°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç»™vps:8080ç«¯å£å¥—ä¸€ä¸ªåŸŸå + è¯ä¹¦ï¼Œ</p>
<h3 id="è¯ä¹¦"><a href="#è¯ä¹¦" class="headerlink" title="è¯ä¹¦"></a>è¯ä¹¦</h3><p>ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œè¿™é‡Œç›´æ¥ä½¿ç”¨äº† cloudflare ä»£ç†åŸŸåï¼ŒåŒæ—¶å¯ä»¥å‰å¾€ SSL&#x2F;TLS -&gt; æºæœåŠ¡å™¨ä¸‹è½½å…¶ç”Ÿæˆçš„ä¸»æœºè¯ä¹¦ï¼Œç”¨æ¥åŠ å¯† cloudflare ä¸ä¸»æœºé—´çš„é€šè®¯ã€‚</p>
<p>å°†ç§é’¥ä¸å…¬é’¥åˆ†åˆ«ä¿å­˜åœ¨Â <code>/etc/nginx/cert/private.key</code> <code>/etc/nginx/cert/public.pem</code>ã€‚<br>ç„¶åå†VPS nginx é‡Œé¢é…ç½®</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ubuntu@ip-172-31-20-69:~$ cat /etc/nginx/nginx.conf</span><br><span class="line">user www-data;</span><br><span class="line">worker_processes auto;</span><br><span class="line">pid /run/nginx.pid;</span><br><span class="line">include /etc/nginx/modules-enabled/*.conf;</span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">	worker_connections 768;</span><br><span class="line"><span class="meta prompt_">	# </span><span class="language-bash">multi_accept on;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">	sendfile on;</span><br><span class="line">	tcp_nopush on;</span><br><span class="line">	types_hash_max_size 2048;</span><br><span class="line">	include /etc/nginx/mime.types;</span><br><span class="line">	default_type application/octet-stream;</span><br><span class="line">	ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; # Dropping SSLv3, ref: POODLE</span><br><span class="line">	ssl_prefer_server_ciphers on;</span><br><span class="line">	access_log /var/log/nginx/access.log;</span><br><span class="line">	gzip on;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	include /etc/nginx/conf.d/*.conf;</span><br><span class="line">	include /etc/nginx/sites-enabled/*;</span><br><span class="line">	server &#123;</span><br><span class="line">    		listen 80;</span><br><span class="line">    		server_name vaultwarden.example.com;</span><br><span class="line">		return 301 https://$host$request_uri;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">	# </span><span class="language-bash">sslé…ç½®</span></span><br><span class="line"></span><br><span class="line">	server &#123;</span><br><span class="line">		listen 443 ssl default_server;</span><br><span class="line">		server_name vaultwarden.example.com;</span><br><span class="line">		ssl_certificate /etc/nginx/cert/public.pem;</span><br><span class="line">		ssl_certificate_key /etc/nginx/cert/private.key;</span><br><span class="line">		location / &#123;</span><br><span class="line">        		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">        		proxy_set_header Host $http_host;</span><br><span class="line">        		proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        		proxy_set_header Range $http_range;</span><br><span class="line">        		proxy_set_header If-Range $http_if_range;</span><br><span class="line">        		proxy_redirect off;</span><br><span class="line">        		proxy_pass http://127.0.0.1:8080;</span><br><span class="line">    		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å®¢æˆ·ç«¯è®¾ç½®"><a href="#å®¢æˆ·ç«¯è®¾ç½®" class="headerlink" title="å®¢æˆ·ç«¯è®¾ç½®"></a>å®¢æˆ·ç«¯è®¾ç½®</h2><p><a href="https://bitwarden.com/">Bitwarden</a> å®¢æˆ·ç«¯æ”¯æŒå…¨å¹³å°ï¼ŒåŒ…æ‹¬æµè§ˆå™¨ã€‚æ‰€ä»¥ å¯ä»¥æŠŠæ‰€æœ‰çš„å¯†ç éƒ½ä¿å­˜åˆ°vaultwarden ä¸­æ¥</p>
<p>å…·ä½“ä½¿ç”¨ ï¼Œè¯·å‚è€ƒ <a href="https://blog.tsinbei.com/archives/731/#4-4%E3%80%81%E4%BD%BF%E7%94%A8"># Vaultwardenï¼šå®‰å…¨ç§å¯†çš„ä¸ªäººå¯†ç ç®¡ç†å™¨</a></p>
<hr>
<p>Enjoy ğŸ˜„</p>
]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>åå‘ä»£ç†</tag>
        <tag>å¯†ç æ‰˜ç®¡</tag>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title>2023 å¹´åº¦æ€»ç»“</title>
    <url>/2023/12/29/2023%20%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<p>7ç‚¹10åˆ†ï¼Œä»å…¬å¸èµ°å‡ºå»ï¼Œ2023æœ€åä¸€ä¸ªå·¥ä½œæ—¥å·²ç»ç»“æŸäº†ï¼Œå¾ˆå¿«åˆä¸€å¹´è¿‡å»äº†ï¼Œå°è¯•å†™ä¸€ä¸‹ä¸€å¹´çš„ç›˜ç‚¹ï¼Œç•™ä¸‹ç‚¹è®°å¿†ã€‚</p>
<span id="more"></span>

<h1 id="å…³äºæˆ‘è‡ªå·±"><a href="#å…³äºæˆ‘è‡ªå·±" class="headerlink" title="å…³äºæˆ‘è‡ªå·±"></a>å…³äºæˆ‘è‡ªå·±</h1><p>æˆ¿å­ç»ˆäºäº¤æˆ¿äº†ï¼Œç¬¬ä¸€æ¬¡æ¬è¿›äº†å±äºè‡ªå·±çš„å®¶ï¼Œè£…ä¿®çš„ä¸æ˜¯å¾ˆå¥½ï¼Œä½ç½®ä¹Ÿä¸æ˜¯å¾ˆå¥½ï¼Œä½†æ˜¯è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªå®¶ï¼Œæˆ‘å¾ˆæ»¡è¶³äº†ã€‚ä»¥åä¼šè¶Šæ¥è¶Šå¥½çš„ã€‚<br>è·Ÿå¥³ç¥¨è¦è®¢å©šäº†ï¼Œæ˜å¹´ä¼šç»“å©šï¼ŒåŒå–œä¸´é—¨å§ï¼Œ2024å¹´å‡†å¤‡ç»“å©šã€‚</p>
<hr>
<p>å†ç»ˆç”Ÿå­¦ä¹ è¿™ä»¶äº‹æƒ…ä¸Šé¢ï¼Œæˆ‘è¿˜æ˜¯æ²¡æ‰¾åˆ°ä»€ä¹ˆç‰¹åˆ«é€‚åˆæˆ‘çš„æ–¹å¼ï¼Œä¸€ç›´å°è¯•åœ¨åŠªåŠ›ï¼Œå¥½åƒæ”¶è·ä¹Ÿä¸æ˜¯ç‰¹åˆ«å¤§ï¼Œä¸çŸ¥é“æ˜å¹´æˆ‘èƒ½ä¸èƒ½æ‰¾åˆ°ç­”æ¡ˆã€‚<br>2023å¹´çœ‹åˆ°ä¹¦ä¹Ÿæ¯”2022å¹´å°‘äº†å¾ˆå¤šï¼Œæ¯”ä»¥å‰æ›´å¿™äº†æ˜¯ä¸€ä¸ªç†ç”±ï¼Œä½†æ˜¯æˆ‘å¥½åƒå¤„ç†ä¸äº†å¾ˆå¤æ‚çš„äº‹åŠ¡ï¼Œä»Šå¹´å¥½å‡ æ¬¡è¢«æåˆ°æœ‰ç‚¹å´©æºƒäº†ã€‚</p>
<h1 id="å·¥ä½œæ–¹é¢"><a href="#å·¥ä½œæ–¹é¢" class="headerlink" title="å·¥ä½œæ–¹é¢"></a>å·¥ä½œæ–¹é¢</h1><p>åŸåœ°è¸æ­¥ï¼Œå¯ä»¥é¢„æ–™åˆ°ç»©æ•ˆæ¯”å»å¹´è¿˜å·®ã€‚å åŠ å¤§ç¯å¢ƒä¸å¥½ï¼Œå…¬å¸ä¸€ç›´åœ¨è£å‘˜ï¼Œä¸€æ½­æ­»æ°´ï¼Œè‡ªå·±çš„æŠ€æœ¯ä¹ŸåŸåœ°è¸æ­¥ï¼Œæ‹…å¿ƒ35å²å±æœºï¼Œå¦‚æœè¢«è£å‘˜ï¼Œé•¿æ²™å¤§æ¦‚ç‡å¾…ä¸ä¸‹å»äº†ï¼Œæ‰¾ä¸åˆ°å·¥ä½œã€‚</p>
<h1 id="Luck-in-2024"><a href="#Luck-in-2024" class="headerlink" title="Luck in 2024"></a>Luck in 2024</h1><ol>
<li>ç»§ç»­é˜…è¯»ï¼Œé˜…è¯»æ‰èƒ½è¿›æ­¥ã€‚</li>
<li>å­¦ä¼šè¿‡é¸¡è´¼å’ŒæŠ é—¨çš„æ—¥å­ã€‚</li>
<li>æŠŠè‹±è¯­ç”¨èµ·æ¥ </li>
<li>å­¦ä¼šNodeJS</li>
</ol>
]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>å¹´åº¦æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>How to Set Up ChatGPT-4 Service Using GitHub Copilot</title>
    <url>/2024/01/12/How%20to%20Set%20Up%20ChatGPT-4%20Service%20Using%20GitHub%20Copilot/</url>
    <content><![CDATA[<p>How to Set Up ChatGPT-4 Service Using GitHub Copilot</p>
<p>GitHub Copilot is a AI assistant developed by GitHub to help developers write code. It is a Visual Studio Code plugin based on OpenAI Codex, providing features such as code suggestions, auto-completion, auto-fixing, and auto-refactoring. Currently, GitHub Copilot also supports chat functionality, powered by GPT-4. However, it is only available within the context of VS Code. In this article, I will explain how to set up a chat service using GitHub Copilot, allowing you to use it anywhere.</p>
<span id="more"></span>

<h1 id="Open-Source-Components"><a href="#Open-Source-Components" class="headerlink" title="Open-Source Components"></a>Open-Source Components</h1><ul>
<li><p><a href="https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web">ChatGPT-Next-Web</a>: A well-designed, cross-platform ChatGPT web UI with support for GPT3, GPT4, and Gemini Pro.</p>
</li>
<li><p><a href="https://github.com/aaamoon/copilot-gpt4-service">copilot-gpt4-service</a></p>
</li>
<li><p>An AWS EC2 server is needed to run the copilot-gpt4-service, but you can choose any cloud service provider you prefer or run it locally.</p>
</li>
<li><p>Vercel: A free static website hosting service to deploy the ChatGPT-Next-Web service.</p>
</li>
<li><p>Cloudflare: A free CDN service used for domain name resolution.</p>
</li>
</ul>
<h1 id="Obtaining-the-GitHub-Copilot-Token"><a href="#Obtaining-the-GitHub-Copilot-Token" class="headerlink" title="Obtaining the GitHub Copilot Token"></a>Obtaining the GitHub Copilot Token</h1><p>Please refer to this document, <a href="https://github.com/aaamoon/copilot-gpt4-service/blob/master/README_CN.md#%E8%8E%B7%E5%8F%96-copilot-token">GitHub Copilot Token</a>. On a Mac, you can use the following command to obtain the token:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/aaamoon/copilot-gpt4-service/master/shells/get_copilot_token.sh)&quot;</span><br></pre></td></tr></table></figure>

<p><img src="https://images.hxzhouh.com/blog-images/2024/01/d3343f8fc1b209783fb653e11ff4577a.png" alt="Token"></p>
<p>As shown in the screenshot, you need to copy the token to the clipboard for later use.</p>
<h1 id="Running-the-copilot-gpt4-service"><a href="#Running-the-copilot-gpt4-service" class="headerlink" title="Running the copilot-gpt4-service"></a>Running the copilot-gpt4-service</h1><ol>
<li>The copilot-gpt4-service supports Docker deployment, and the official project provides a <a href="https://github.com/aaamoon/copilot-gpt4-service/blob/master/docker-compose.yml">docker-compose</a> file. You only need to modify the environment variables.<br><img src="https://images.hxzhouh.com/blog-images/2024/01/6807404147e2cf24aab940f711af877c.png" alt="Docker-compose"></li>
<li>Add a server block in NGINX:</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 443 ssl;</span><br><span class="line">    listen [::]:443 ssl;</span><br><span class="line">    server_name chat.example.com;</span><br><span class="line"></span><br><span class="line">    ssl_certificate /etc/nginx/cert/public.pem;</span><br><span class="line">    ssl_certificate_key /etc/nginx/cert/private.key;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass http://127.0.0.1:8086/;  # Replace with the copilot-gpt4-service address</span><br><span class="line">        rewrite ^/(.*)$ /$1 break;</span><br><span class="line">        proxy_redirect off;</span><br><span class="line">        proxy_set_header Host $host;</span><br><span class="line">        proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">        proxy_set_header Upgrade-Insecure-Requests 1;</span><br><span class="line">        proxy_set_header X-Forwarded-Proto https;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Donâ€™t forget to reload the NGINX configuration file.</p>
<ol start="3">
<li>Add a domain name resolution for â€œchat.example.comâ€ on Cloudflare, pointing to the IP address of your NGINX server.</li>
</ol>
<h1 id="Deploying-the-ChatGPT-Next-Web-Service-on-Vercel"><a href="#Deploying-the-ChatGPT-Next-Web-Service-on-Vercel" class="headerlink" title="Deploying the ChatGPT-Next-Web Service on Vercel"></a>Deploying the ChatGPT-Next-Web Service on Vercel</h1><p>ChatGPT-Next-Web supports one-click deployment to Vercel. You donâ€™t need to make any changes.</p>
<p>Once the deployment on Vercel is complete, you can add a custom domain name, such as â€œchatnext.example.comâ€.</p>
<h1 id="Testing"><a href="#Testing" class="headerlink" title="Testing"></a>Testing</h1><p>Open your browser and enter â€œchatnext.example.comâ€. Click on the settings button in the bottom left corner and select â€œCustom Interfaceâ€. Enter â€œ<a href="https://chat.example.com/">https://chat.example.com</a>â€œ as the API endpoint, and use the GitHub Copilot token copied in the first step as the API token. Click on â€œSaveâ€, and you can start chatting.</p>
<p>Note: I donâ€™t know if this approach complies with the usage agreement of GitHub Copilot. I am doing this for my own convenience and will not share it with others. If you deploy your own service, please refrain from sharing it with others.</p>
<hr>
<p>If you found this article helpful, please consider following and applauding me. Your support is greatly appreciated. Thank you!</p>
]]></content>
      <categories>
        <category>blog</category>
      </categories>
  </entry>
  <entry>
    <title>æ·±åº¦ä¼˜å…ˆç®—æ³•ä¸å¹¿åº¦ä¼˜å…ˆç®—æ³•</title>
    <url>/2022/09/30/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E7%AE%97%E6%B3%95%E4%B8%8E%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<h1 id="æ·±åº¦ä¼˜å…ˆç®—æ³•-ï¼ˆDepth-First-Searchï¼‰"><a href="#æ·±åº¦ä¼˜å…ˆç®—æ³•-ï¼ˆDepth-First-Searchï¼‰" class="headerlink" title="æ·±åº¦ä¼˜å…ˆç®—æ³• ï¼ˆDepth-First-Searchï¼‰"></a>æ·±åº¦ä¼˜å…ˆç®—æ³• ï¼ˆDepth-First-Searchï¼‰</h1><p>æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼ˆDepth-First-Searchï¼‰ï¼Œæ˜¯æœç´¢ç®—æ³•çš„ä¸€ç§ã€‚å®ƒæ²¿ç€æ ‘çš„æ·±åº¦éå†æ ‘çš„èŠ‚ç‚¹ï¼Œå°½å¯èƒ½æ·±çš„æœç´¢æ ‘çš„åˆ† æ”¯ã€‚<br> å½“èŠ‚ç‚¹vçš„æ‰€æœ‰è¾¹éƒ½å·±è¢«æ¢å¯»è¿‡ï¼Œæœç´¢å°†å›æº¯åˆ°å‘ç°èŠ‚ç‚¹vçš„é‚£æ¡è¾¹çš„èµ·å§‹èŠ‚ç‚¹ã€‚<br> è¿™ä¸€è¿‡ç¨‹ä¸€ç›´è¿›è¡Œåˆ°å·²å‘ç°ä»æºèŠ‚ç‚¹å¯è¾¾çš„æ‰€æœ‰èŠ‚ç‚¹ä¸ºæ­¢ã€‚<br> å¦‚æœè¿˜å­˜åœ¨æœªè¢«å‘ ç°çš„èŠ‚ç‚¹ï¼Œåˆ™é€‰æ‹©å…¶ä¸­ä¸€ä¸ªä½œä¸ºæºèŠ‚ç‚¹å¹¶é‡å¤ä»¥ä¸Šè¿‡ç¨‹ï¼Œæ•´ä¸ªè¿›ç¨‹åå¤è¿›è¡Œç›´åˆ°æ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«è®¿é—®ä¸ºæ­¢ã€‚</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢æ˜¯å›¾è®ºä¸­çš„ç»å…¸ç®—æ³•ï¼Œåˆ©ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•å¯ä»¥äº§ç”Ÿç›®æ ‡å›¾çš„ç›¸åº”æ‹“æ‰‘æ’åºè¡¨ï¼Œåˆ©ç”¨æ‹“æ‰‘æ’åºè¡¨å¯ä»¥æ–¹ä¾¿çš„è§£å†³å¾ˆå¤šç›¸å…³çš„å›¾è®ºé—®é¢˜ï¼Œå¦‚æœ€å¤§è·¯å¾„é—®é¢˜ç­‰ç­‰ã€‚ä¸€èˆ¬ç”¨å †æ•°æ®ç»“æ„æ¥è¾…åŠ©å®ç°DFSç®—æ³•ã€‚</p>
<p><strong>DFSå±äºç›²ç›®æœç´¢</strong></p>
<p>æ·±åº¦ä¼˜å…ˆéå†å›¾ç®—æ³•æ­¥éª¤ï¼š</p>
<ul>
<li>è®¿é—®é¡¶ç‚¹vï¼›</li>
<li>ä¾æ¬¡ä»vçš„æœªè¢«è®¿é—®çš„é‚»æ¥ç‚¹å‡ºå‘ï¼Œå¯¹å›¾è¿›è¡Œæ·±åº¦ä¼˜å…ˆéå†ï¼›ç›´è‡³å›¾ä¸­å’Œvæœ‰è·¯å¾„ç›¸é€šçš„é¡¶ç‚¹éƒ½è¢«è®¿é—®ï¼›</li>
<li>è‹¥æ­¤æ—¶å›¾ä¸­å°šæœ‰é¡¶ç‚¹æœªè¢«è®¿é—®ï¼Œåˆ™ä»ä¸€ä¸ªæœªè¢«è®¿é—®çš„é¡¶ç‚¹å‡ºå‘ï¼Œé‡æ–°è¿›è¡Œæ·±åº¦ä¼˜å…ˆéå†ï¼Œç›´åˆ°å›¾ä¸­æ‰€æœ‰é¡¶ç‚¹å‡è¢«è®¿é—®è¿‡ä¸ºæ­¢ã€‚</li>
</ul>
<p><strong>ä¸¾ä¸ªå®ä¾‹ï¼š</strong></p>
<p>DFS åœ¨è®¿é—®å›¾ä¸­æŸä¸€èµ·å§‹é¡¶ç‚¹ v åï¼Œç”± v å‡ºå‘ï¼Œè®¿é—®å®ƒçš„ä»»ä¸€é‚»æ¥é¡¶ç‚¹ w1ï¼›å†ä» w1 å‡ºå‘ï¼Œè®¿é—®ä¸ w1é‚» æ¥ä½†è¿˜æ²¡æœ‰è®¿é—®è¿‡çš„é¡¶ç‚¹ w2ï¼›ç„¶åå†ä» w2 å‡ºå‘ï¼Œè¿›è¡Œç±»ä¼¼çš„è®¿é—®ï¼Œâ€¦ å¦‚æ­¤è¿›è¡Œä¸‹å»ï¼Œç›´è‡³åˆ°è¾¾æ‰€æœ‰çš„é‚»æ¥é¡¶ç‚¹éƒ½è¢«è®¿é—®è¿‡çš„é¡¶ç‚¹ u ä¸ºæ­¢ã€‚<br> æ¥ç€ï¼Œé€€å›ä¸€æ­¥ï¼Œé€€åˆ°å‰ä¸€æ¬¡åˆšè®¿é—®è¿‡çš„é¡¶ç‚¹ï¼Œçœ‹æ˜¯å¦è¿˜æœ‰å…¶å®ƒæ²¡æœ‰è¢«è®¿é—®çš„é‚»æ¥é¡¶ç‚¹ã€‚å¦‚æœæœ‰ï¼Œåˆ™è®¿é—®æ­¤é¡¶ç‚¹ï¼Œä¹‹åå†ä»æ­¤é¡¶ç‚¹å‡ºå‘ï¼Œè¿›è¡Œä¸å‰è¿°ç±»ä¼¼çš„è®¿é—®ï¼›å¦‚æœæ²¡æœ‰ï¼Œå°±å†é€€å›ä¸€æ­¥è¿›è¡Œæœç´¢ã€‚é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°è¿é€šå›¾ä¸­æ‰€æœ‰é¡¶ç‚¹éƒ½è¢«è®¿é—®è¿‡ä¸ºæ­¢ã€‚</p>
<p>ä¾‹å¦‚ä¸‹å›¾ï¼Œå…¶æ·±åº¦ä¼˜å…ˆéå†é¡ºåºä¸º 1-&gt;2-&gt;4-&gt;8-&gt;5-&gt;3-&gt;6-&gt;7</p>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200406213809.png" alt="æ·±åº¦ä¼˜å…ˆç®—æ³•"></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dfs</span><span class="params">(root *TreeNode)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Print(root.Val)</span><br><span class="line">	dfs(root.Left)</span><br><span class="line">	dfs(root.Right)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼ˆBreadth-First-Searchï¼‰"><a href="#å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼ˆBreadth-First-Searchï¼‰" class="headerlink" title="å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼ˆBreadth-First-Searchï¼‰"></a>å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼ˆBreadth-First-Searchï¼‰</h1><p><strong>å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼ˆBreadth-First-Searchï¼‰ï¼Œæ˜¯ä¸€ç§å›¾å½¢æœç´¢ç®—æ³•</strong></p>
<p>ç®€å•çš„è¯´ï¼ŒBFSæ˜¯ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œæ²¿ç€æ ‘(å›¾)çš„å®½åº¦éå†æ ‘(å›¾)çš„èŠ‚ç‚¹ã€‚å¦‚æœæ‰€æœ‰èŠ‚ç‚¹å‡è¢«è®¿é—®ï¼Œåˆ™ç®—æ³•ä¸­æ­¢ã€‚<br>BFSåŒæ ·å±äºç›²ç›®æœç´¢ã€‚ä¸€èˆ¬ç”¨é˜Ÿåˆ—æ•°æ®ç»“æ„æ¥è¾…åŠ©å®ç°BFSç®—æ³•ã€‚</p>
<p>ç®—æ³•æ­¥éª¤ï¼š</p>
<ol>
<li>é¦–å…ˆå°†æ ¹èŠ‚ç‚¹æ”¾å…¥é˜Ÿåˆ—ä¸­ã€‚</li>
<li>ä»é˜Ÿåˆ—ä¸­å–å‡ºç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶æ£€éªŒå®ƒæ˜¯å¦ä¸ºç›®æ ‡ã€‚å¦‚æœæ‰¾åˆ°ç›®æ ‡ï¼Œåˆ™ç»“æŸæœå¯»å¹¶å›ä¼ ç»“æœã€‚å¦åˆ™å°†å®ƒæ‰€æœ‰å°šæœªæ£€éªŒè¿‡çš„ç›´æ¥å­èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ä¸­ã€‚</li>
<li>è‹¥é˜Ÿåˆ—ä¸ºç©ºï¼Œè¡¨ç¤ºæ•´å¼ å›¾éƒ½æ£€æŸ¥è¿‡äº†â€”â€”äº¦å³å›¾ä¸­æ²¡æœ‰æ¬²æœå¯»çš„ç›®æ ‡ã€‚ç»“æŸæœå¯»å¹¶å›ä¼ â€œæ‰¾ä¸åˆ°ç›®æ ‡â€ã€‚</li>
<li>é‡å¤æ­¥éª¤2ã€‚</li>
</ol>
<p>å¦‚ä¸Šå›¾ï¼Œå…¶å¹¿åº¦ä¼˜å…ˆç®—æ³•çš„éå†é¡ºåºä¸ºï¼š1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;6-&gt;7-&gt;8</p>
<p>ä»£ç å®ç°</p>
<h3 id="leetcode-çœŸé¢˜"><a href="#leetcode-çœŸé¢˜" class="headerlink" title="leetcode çœŸé¢˜"></a>leetcode çœŸé¢˜</h3><h4 id="662-äºŒå‰æ ‘æœ€å¤§å®½åº¦"><a href="#662-äºŒå‰æ ‘æœ€å¤§å®½åº¦" class="headerlink" title="662. äºŒå‰æ ‘æœ€å¤§å®½åº¦"></a><a href="https://leetcode-cn.com/problems/maximum-width-of-binary-tree/">662. äºŒå‰æ ‘æœ€å¤§å®½åº¦</a></h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> AnnotatedNode <span class="keyword">struct</span> &#123;</span><br><span class="line">	node *TreeNode</span><br><span class="line">	dept,</span><br><span class="line">	ops <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> linkNode <span class="keyword">struct</span> &#123;</span><br><span class="line">	value *AnnotatedNode</span><br><span class="line">	next  *linkNode</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é“¾è¡¨</span></span><br><span class="line"><span class="keyword">type</span> linkedAnnotatedNodeList <span class="keyword">struct</span> &#123;</span><br><span class="line">	head  *linkNode <span class="comment">//é˜Ÿé¦–</span></span><br><span class="line">	tail  *linkNode <span class="comment">//é˜Ÿå°¾</span></span><br><span class="line">	count <span class="type">int</span>       <span class="comment">//é•¿åº¦</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–é“¾è¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewLinkedAnnotatedNodeList</span><span class="params">()</span></span> *linkedAnnotatedNodeList &#123;</span><br><span class="line">	<span class="keyword">return</span> &amp;linkedAnnotatedNodeList&#123;head: <span class="literal">nil</span>, tail: <span class="literal">nil</span>, count: <span class="number">0</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *linkedAnnotatedNodeList)</span></span> IsEmpty() <span class="type">bool</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> this.count == <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *linkedAnnotatedNodeList)</span></span> Add(value *AnnotatedNode) &#123;</span><br><span class="line">	node := <span class="built_in">new</span>(linkNode)</span><br><span class="line">	node.value = value</span><br><span class="line"></span><br><span class="line">	this.count++</span><br><span class="line">	<span class="keyword">if</span> this.tail == <span class="literal">nil</span> &#123;</span><br><span class="line">		this.head = node</span><br><span class="line">		this.tail = node</span><br><span class="line">		node.next = <span class="literal">nil</span></span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	this.tail.next = node</span><br><span class="line">	node.next = <span class="literal">nil</span></span><br><span class="line">	this.tail = node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *linkedAnnotatedNodeList)</span></span> Delete() *linkNode &#123;</span><br><span class="line">	<span class="keyword">if</span> this.head == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	this.count--</span><br><span class="line">	<span class="keyword">if</span> this.head == this.tail &#123;</span><br><span class="line">		node := this.head</span><br><span class="line">		this.head = <span class="literal">nil</span></span><br><span class="line">		this.tail = <span class="literal">nil</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> node</span><br><span class="line">	&#125;</span><br><span class="line">	node := this.head</span><br><span class="line">	this.head = this.head.next</span><br><span class="line">	<span class="keyword">return</span> node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Queue <span class="keyword">struct</span> &#123;</span><br><span class="line">	link *linkedAnnotatedNodeList</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewQueue</span><span class="params">()</span></span> *Queue &#123;</span><br><span class="line">	<span class="keyword">return</span> &amp;Queue&#123;link: NewLinkedAnnotatedNodeList()&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŠ å…¥é˜Ÿåˆ—</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Queue)</span></span> Put(value *AnnotatedNode) &#123;</span><br><span class="line">	this.link.Add(value)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//popå‡ºé˜Ÿåˆ—</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Queue)</span></span> Pop() *linkNode &#123;</span><br><span class="line">	<span class="keyword">return</span> this.link.Delete()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å¾—é˜Ÿåˆ—çš„é•¿åº¦</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Queue)</span></span> GetSize() <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> this.link.count</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Queue)</span></span> IsEmpty() <span class="type">bool</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> this.GetSize() == <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">widthOfBinaryTree</span><span class="params">(root *TreeNode)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	query := NewQueue()</span><br><span class="line">	query.Put(&amp;AnnotatedNode&#123;</span><br><span class="line">		node: root,</span><br><span class="line">		dept: <span class="number">0</span>,</span><br><span class="line">		ops:  <span class="number">0</span>,</span><br><span class="line">	&#125;)</span><br><span class="line">	curDepth := <span class="number">0</span></span><br><span class="line">	left := <span class="number">0</span></span><br><span class="line">	ans := <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> query.GetSize() != <span class="number">0</span> &#123;</span><br><span class="line">		a := query.Pop().value</span><br><span class="line">		<span class="keyword">if</span> a.node != <span class="literal">nil</span> &#123;</span><br><span class="line">			query.Put(&amp;AnnotatedNode&#123;</span><br><span class="line">				node: a.node.Left,</span><br><span class="line">				dept: a.dept + <span class="number">1</span>,</span><br><span class="line">				ops:  a.ops * <span class="number">2</span>,</span><br><span class="line">			&#125;)</span><br><span class="line">			query.Put(&amp;AnnotatedNode&#123;</span><br><span class="line">				node: a.node.Right,</span><br><span class="line">				dept: a.dept + <span class="number">1</span>,</span><br><span class="line">				ops:  a.ops*<span class="number">2</span> + <span class="number">1</span>,</span><br><span class="line">			&#125;)</span><br><span class="line">			<span class="keyword">if</span> curDepth != a.dept &#123;</span><br><span class="line">				curDepth = a.dept</span><br><span class="line">				left = a.ops</span><br><span class="line">			&#125;</span><br><span class="line">			ans = Max(ans, a.ops-left+<span class="number">1</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Max</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line">		<span class="keyword">return</span> a</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> b</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="103-äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚æ¬¡éå†"><a href="#103-äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚æ¬¡éå†" class="headerlink" title="103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚æ¬¡éå†"></a><a href="https://leetcode-cn.com/problems/binary-tree-zigzag-level-order-traversal/">103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚æ¬¡éå†</a></h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * type TreeNode struct &#123;</span></span><br><span class="line"><span class="comment"> *     Val int</span></span><br><span class="line"><span class="comment"> *     Left *TreeNode</span></span><br><span class="line"><span class="comment"> *     Right *TreeNode</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">type</span> AnnotatedNode <span class="keyword">struct</span> &#123;</span><br><span class="line">	node  *TreeNode</span><br><span class="line">	dept, <span class="comment">//æ·±åº¦</span></span><br><span class="line">	ops <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> linkNode <span class="keyword">struct</span> &#123;</span><br><span class="line">	value *AnnotatedNode</span><br><span class="line">	next  *linkNode</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é“¾è¡¨</span></span><br><span class="line"><span class="keyword">type</span> linkedAnnotatedNodeList <span class="keyword">struct</span> &#123;</span><br><span class="line">	head  *linkNode <span class="comment">//é˜Ÿé¦–</span></span><br><span class="line">	tail  *linkNode <span class="comment">//é˜Ÿå°¾</span></span><br><span class="line">	count <span class="type">int</span>       <span class="comment">//é•¿åº¦</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–é“¾è¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewLinkedAnnotatedNodeList</span><span class="params">()</span></span> *linkedAnnotatedNodeList &#123;</span><br><span class="line">	<span class="keyword">return</span> &amp;linkedAnnotatedNodeList&#123;head: <span class="literal">nil</span>, tail: <span class="literal">nil</span>, count: <span class="number">0</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *linkedAnnotatedNodeList)</span></span> IsEmpty() <span class="type">bool</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> this.count == <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *linkedAnnotatedNodeList)</span></span> Add(value *AnnotatedNode) &#123;</span><br><span class="line">	node := <span class="built_in">new</span>(linkNode)</span><br><span class="line">	node.value = value</span><br><span class="line"></span><br><span class="line">	this.count++</span><br><span class="line">	<span class="keyword">if</span> this.tail == <span class="literal">nil</span> &#123;</span><br><span class="line">		this.head = node</span><br><span class="line">		this.tail = node</span><br><span class="line">		node.next = <span class="literal">nil</span></span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	this.tail.next = node</span><br><span class="line">	node.next = <span class="literal">nil</span></span><br><span class="line">	this.tail = node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *linkedAnnotatedNodeList)</span></span> Delete() *linkNode &#123;</span><br><span class="line">	<span class="keyword">if</span> this.head == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	this.count--</span><br><span class="line">	<span class="keyword">if</span> this.head == this.tail &#123;</span><br><span class="line">		node := this.head</span><br><span class="line">		this.head = <span class="literal">nil</span></span><br><span class="line">		this.tail = <span class="literal">nil</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> node</span><br><span class="line">	&#125;</span><br><span class="line">	node := this.head</span><br><span class="line">	this.head = this.head.next</span><br><span class="line">	<span class="keyword">return</span> node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Queue <span class="keyword">struct</span> &#123;</span><br><span class="line">	link *linkedAnnotatedNodeList</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewQueue</span><span class="params">()</span></span> *Queue &#123;</span><br><span class="line">	<span class="keyword">return</span> &amp;Queue&#123;link: NewLinkedAnnotatedNodeList()&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŠ å…¥é˜Ÿåˆ—</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Queue)</span></span> Put(value *AnnotatedNode) &#123;</span><br><span class="line">	this.link.Add(value)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//popå‡ºé˜Ÿåˆ—</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Queue)</span></span> Pop() *linkNode &#123;</span><br><span class="line">	<span class="keyword">return</span> this.link.Delete()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å¾—é˜Ÿåˆ—çš„é•¿åº¦</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Queue)</span></span> GetSize() <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> this.link.count</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Queue)</span></span> IsEmpty() <span class="type">bool</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> this.GetSize() == <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">zigzagLevelOrder</span><span class="params">(root *TreeNode)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line">	result := <span class="built_in">make</span>([][]<span class="type">int</span>, <span class="number">0</span>)</span><br><span class="line">	query := NewQueue()</span><br><span class="line"></span><br><span class="line">	query.Put(&amp;AnnotatedNode&#123;node: root, dept: <span class="number">0</span>, ops: <span class="number">0</span>&#125;)</span><br><span class="line">	<span class="keyword">for</span> query.GetSize() != <span class="number">0</span> &#123;</span><br><span class="line">		a := query.Pop().value</span><br><span class="line">		<span class="keyword">if</span> a.node != <span class="literal">nil</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> <span class="built_in">len</span>(result) &lt;= a.dept &#123; <span class="comment">//å°äºå±‚æ•°</span></span><br><span class="line">				temp := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">0</span>)</span><br><span class="line">				temp = <span class="built_in">append</span>(temp, a.node.Val)</span><br><span class="line">				result = <span class="built_in">append</span>(result, temp)</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				result[a.dept] = <span class="built_in">append</span>(result[a.dept], a.node.Val)</span><br><span class="line">			&#125;</span><br><span class="line">			query.Put(&amp;AnnotatedNode&#123;a.node.Left, a.dept + <span class="number">1</span>, <span class="number">0</span>&#125;)</span><br><span class="line">			query.Put(&amp;AnnotatedNode&#123;a.node.Right, a.dept + <span class="number">1</span>, <span class="number">0</span>&#125;)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="keyword">for</span> k, v := <span class="keyword">range</span> result &#123;</span><br><span class="line">		<span class="keyword">if</span> k%<span class="number">2</span> == <span class="number">1</span> &#123;</span><br><span class="line">			result[k] = stringReverse(v)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">stringReverse</span><span class="params">(src []<span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> src == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(fmt.Errorf(<span class="string">&quot;the src can&#x27;t be empty!&quot;</span>))</span><br><span class="line">	&#125;</span><br><span class="line">	count := <span class="built_in">len</span>(src)</span><br><span class="line">	mid := count / <span class="number">2</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; mid; i++ &#123;</span><br><span class="line">		tmp := src[i]</span><br><span class="line">		src[i] = src[count<span class="number">-1</span>]</span><br><span class="line">		src[count<span class="number">-1</span>] = tmp</span><br><span class="line">		count--</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> src</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„&amp;ç®—æ³•</category>
        <category>leetCode</category>
      </categories>
      <tags>
        <tag>DFS</tag>
        <tag>BFS</tag>
      </tags>
  </entry>
  <entry>
    <title>èŠèŠRedis  é“¾è¡¨</title>
    <url>/2022/09/30/%E8%81%8A%E8%81%8ARedis%20%20%E9%93%BE%E8%A1%A8/</url>
    <content><![CDATA[<p>é“¾è¡¨æä¾›äº†é«˜æ•ˆçš„èŠ‚ç‚¹é‡æ’èƒ½åŠ›ï¼Œ ä»¥åŠé¡ºåºæ€§çš„èŠ‚ç‚¹è®¿é—®æ–¹å¼ï¼Œ å¹¶ä¸”å¯ä»¥é€šè¿‡å¢åˆ èŠ‚ç‚¹æ¥çµæ´»åœ°è°ƒæ•´é“¾è¡¨çš„é•¿åº¦ã€‚</p>
<p>é“¾è¡¨åœ¨ Redis ä¸­çš„åº”ç”¨éå¸¸å¹¿æ³›ï¼Œ æ¯”å¦‚åˆ—è¡¨é”®çš„åº•å±‚å®ç°ä¹‹ä¸€å°±æ˜¯é“¾è¡¨ï¼š å½“ä¸€ä¸ªåˆ—è¡¨é”®åŒ…å«äº†æ•°é‡æ¯”è¾ƒå¤šçš„å…ƒç´ ï¼Œ åˆæˆ–è€…åˆ—è¡¨ä¸­åŒ…å«çš„å…ƒç´ éƒ½æ˜¯æ¯”è¾ƒé•¿çš„å­—ç¬¦ä¸²æ—¶ï¼Œ Redis å°±ä¼šä½¿ç”¨é“¾è¡¨ä½œä¸ºåˆ—è¡¨é”®çš„åº•å±‚å®ç°ã€‚</p>
<span id="more"></span>

<p>ç”±äºCè¯­è¨€è‡ªèº«æ²¡æœ‰é“¾è¡¨çš„å®ç°ï¼Œredis è‡ªå®šå®šä¹‰äº†ä¸€å¥—é“¾è¡¨çš„å®ç°</p>
<h1 id="é“¾è¡¨çš„å®šä¹‰"><a href="#é“¾è¡¨çš„å®šä¹‰" class="headerlink" title="é“¾è¡¨çš„å®šä¹‰"></a>é“¾è¡¨çš„å®šä¹‰</h1><p>æ¯ä¸ªé“¾è¡¨èŠ‚ç‚¹ä½¿ç”¨ä¸€ä¸ª <code>adlist.h/listNode</code> ç»“æ„æ¥è¡¨ç¤ºï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">listNode</span> &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‰ç½®èŠ‚ç‚¹</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">listNode</span> *<span class="title">prev</span>;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åç½®èŠ‚ç‚¹</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">listNode</span> *<span class="title">next</span>;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// èŠ‚ç‚¹çš„å€¼</span></span><br><span class="line">    <span class="type">void</span> *value;</span><br><span class="line"></span><br><span class="line">&#125; listNode;</span><br></pre></td></tr></table></figure>

<p>å¤šä¸ª <code>listNode</code> å¯ä»¥é€šè¿‡ <code>prev</code> å’Œ <code>next</code> æŒ‡é’ˆç»„æˆåŒç«¯é“¾è¡¨</p>
<img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200316215937.png" alt="é“¾è¡¨" style="zoom:200%;" />

<p>redis è¿˜æœ‰ä¸€ä¸ªæ•°æ®ç»“æ„æ¥ç®€åŒ–é“¾è¡¨çš„æ“ä½œ</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">ypedef <span class="class"><span class="keyword">struct</span> <span class="title">list</span> &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¡¨å¤´èŠ‚ç‚¹</span></span><br><span class="line">    listNode *head;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¡¨å°¾èŠ‚ç‚¹</span></span><br><span class="line">    listNode *tail;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é“¾è¡¨æ‰€åŒ…å«çš„èŠ‚ç‚¹æ•°é‡</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">long</span> len;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èŠ‚ç‚¹å€¼å¤åˆ¶å‡½æ•°</span></span><br><span class="line">    <span class="type">void</span> *(*dup)(<span class="type">void</span> *ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èŠ‚ç‚¹å€¼é‡Šæ”¾å‡½æ•°</span></span><br><span class="line">    <span class="type">void</span> (*<span class="built_in">free</span>)(<span class="type">void</span> *ptr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èŠ‚ç‚¹å€¼å¯¹æ¯”å‡½æ•°</span></span><br><span class="line">    <span class="type">int</span> (*match)(<span class="type">void</span> *ptr, <span class="type">void</span> *key);</span><br><span class="line"></span><br><span class="line">&#125; <span class="built_in">list</span>;</span><br></pre></td></tr></table></figure>

<p><code>list</code> ç»“æ„ä¸ºé“¾è¡¨æä¾›äº†è¡¨å¤´æŒ‡é’ˆ <code>head</code> ã€è¡¨å°¾æŒ‡é’ˆ <code>tail</code> ï¼Œ ä»¥åŠé“¾è¡¨é•¿åº¦è®¡æ•°å™¨ <code>len</code> ï¼Œ è€Œ <code>dup</code> ã€ <code>free</code> å’Œ <code>match</code> æˆå‘˜åˆ™æ˜¯ç”¨äºå®ç°å¤šæ€é“¾è¡¨æ‰€éœ€çš„ç±»å‹ç‰¹å®šå‡½æ•°ï¼š</p>
<ul>
<li><code>dup</code> å‡½æ•°ç”¨äºå¤åˆ¶é“¾è¡¨èŠ‚ç‚¹æ‰€ä¿å­˜çš„å€¼ï¼›</li>
<li><code>free</code> å‡½æ•°ç”¨äºé‡Šæ”¾é“¾è¡¨èŠ‚ç‚¹æ‰€ä¿å­˜çš„å€¼ï¼›</li>
<li><code>match</code> å‡½æ•°åˆ™ç”¨äºå¯¹æ¯”é“¾è¡¨èŠ‚ç‚¹æ‰€ä¿å­˜çš„å€¼å’Œå¦ä¸€ä¸ªè¾“å…¥å€¼æ˜¯å¦ç›¸ç­‰ã€‚</li>
</ul>
<p><img src="https://blog-image-1253555052.cos.ap-guangzhou.myqcloud.com/20200316220205.png"></p>
<p>Redis çš„é“¾è¡¨å®ç°çš„ç‰¹æ€§å¯ä»¥æ€»ç»“å¦‚ä¸‹ï¼š</p>
<ul>
<li>åŒç«¯ï¼š é“¾è¡¨èŠ‚ç‚¹å¸¦æœ‰ <code>prev</code> å’Œ <code>next</code> æŒ‡é’ˆï¼Œ è·å–æŸä¸ªèŠ‚ç‚¹çš„å‰ç½®èŠ‚ç‚¹å’Œåç½®èŠ‚ç‚¹çš„å¤æ‚åº¦éƒ½æ˜¯ O(1) ã€‚</li>
<li>æ— ç¯ï¼š è¡¨å¤´èŠ‚ç‚¹çš„ <code>prev</code> æŒ‡é’ˆå’Œè¡¨å°¾èŠ‚ç‚¹çš„ <code>next</code> æŒ‡é’ˆéƒ½æŒ‡å‘ <code>NULL</code> ï¼Œ å¯¹é“¾è¡¨çš„è®¿é—®ä»¥ <code>NULL</code> ä¸ºç»ˆç‚¹ã€‚</li>
<li>å¸¦è¡¨å¤´æŒ‡é’ˆå’Œè¡¨å°¾æŒ‡é’ˆï¼š é€šè¿‡ <code>list</code> ç»“æ„çš„ <code>head</code> æŒ‡é’ˆå’Œ <code>tail</code> æŒ‡é’ˆï¼Œ ç¨‹åºè·å–é“¾è¡¨çš„è¡¨å¤´èŠ‚ç‚¹å’Œè¡¨å°¾èŠ‚ç‚¹çš„å¤æ‚åº¦ä¸º O(1) ã€‚</li>
<li>å¸¦é“¾è¡¨é•¿åº¦è®¡æ•°å™¨ï¼š ç¨‹åºä½¿ç”¨ <code>list</code> ç»“æ„çš„ <code>len</code> å±æ€§æ¥å¯¹ <code>list</code> æŒæœ‰çš„é“¾è¡¨èŠ‚ç‚¹è¿›è¡Œè®¡æ•°ï¼Œ ç¨‹åºè·å–é“¾è¡¨ä¸­èŠ‚ç‚¹æ•°é‡çš„å¤æ‚åº¦ä¸º O(1) ã€‚</li>
<li>å¤šæ€ï¼š é“¾è¡¨èŠ‚ç‚¹ä½¿ç”¨ <code>void*</code> æŒ‡é’ˆæ¥ä¿å­˜èŠ‚ç‚¹å€¼ï¼Œ å¹¶ä¸”å¯ä»¥é€šè¿‡ <code>list</code> ç»“æ„çš„ <code>dup</code> ã€ <code>free</code> ã€ <code>match</code> ä¸‰ä¸ªå±æ€§ä¸ºèŠ‚ç‚¹å€¼è®¾ç½®ç±»å‹ç‰¹å®šå‡½æ•°ï¼Œ æ‰€ä»¥é“¾è¡¨å¯ä»¥ç”¨äºä¿å­˜å„ç§ä¸åŒç±»å‹çš„å€¼ã€‚</li>
</ul>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><ul>
<li>é“¾è¡¨è¢«å¹¿æ³›ç”¨äºå®ç° Redis çš„å„ç§åŠŸèƒ½ï¼Œ æ¯”å¦‚åˆ—è¡¨é”®ï¼Œ å‘å¸ƒä¸è®¢é˜…ï¼Œ æ…¢æŸ¥è¯¢ï¼Œ ç›‘è§†å™¨ï¼Œ ç­‰ç­‰ã€‚</li>
<li>æ¯ä¸ªé“¾è¡¨èŠ‚ç‚¹ç”±ä¸€ä¸ª <code>listNode</code> ç»“æ„æ¥è¡¨ç¤ºï¼Œ æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªæŒ‡å‘å‰ç½®èŠ‚ç‚¹å’Œåç½®èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œ æ‰€ä»¥ Redis çš„é“¾è¡¨å®ç°æ˜¯åŒç«¯é“¾è¡¨ã€‚</li>
<li>æ¯ä¸ªé“¾è¡¨ä½¿ç”¨ä¸€ä¸ª <code>list</code> ç»“æ„æ¥è¡¨ç¤ºï¼Œ è¿™ä¸ªç»“æ„å¸¦æœ‰è¡¨å¤´èŠ‚ç‚¹æŒ‡é’ˆã€è¡¨å°¾èŠ‚ç‚¹æŒ‡é’ˆã€ä»¥åŠé“¾è¡¨é•¿åº¦ç­‰ä¿¡æ¯ã€‚</li>
<li>å› ä¸ºé“¾è¡¨è¡¨å¤´èŠ‚ç‚¹çš„å‰ç½®èŠ‚ç‚¹å’Œè¡¨å°¾èŠ‚ç‚¹çš„åç½®èŠ‚ç‚¹éƒ½æŒ‡å‘ <code>NULL</code> ï¼Œ æ‰€ä»¥ Redis çš„é“¾è¡¨å®ç°æ˜¯æ— ç¯é“¾è¡¨ã€‚</li>
<li>é€šè¿‡ä¸ºé“¾è¡¨è®¾ç½®ä¸åŒçš„ç±»å‹ç‰¹å®šå‡½æ•°ï¼ˆæŒ‡é’ˆï¼‰ï¼Œ Redis çš„é“¾è¡¨å¯ä»¥ç”¨äºä¿å­˜å„ç§ä¸åŒç±»å‹çš„å€¼ã€‚</li>
</ul>
<p>å‚è€ƒæ–‡æ¡£ï¼š</p>
<ol>
<li>ã€Š<a href="http://redisbook.com/preview/adlist/implementation.html">redis è®¾è®¡ä¸å®ç°</a>ã€‹</li>
</ol>
]]></content>
      <categories>
        <category>redis</category>
      </categories>
      <tags>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•åˆ©ç”¨ github copilotæ­å»º chatgpt-4  æœåŠ¡</title>
    <url>/2024/01/12/%E5%A6%82%E4%BD%95%E5%88%A9%E7%94%A8%20github%20copilot%E6%90%AD%E5%BB%BA%20chatgpt-4%20%20%E6%9C%8D%E5%8A%A1/</url>
    <content><![CDATA[<h1 id="å¦‚ä½•åˆ©ç”¨-github-copilotæ­å»º-chatgpt-4-æœåŠ¡"><a href="#å¦‚ä½•åˆ©ç”¨-github-copilotæ­å»º-chatgpt-4-æœåŠ¡" class="headerlink" title="å¦‚ä½•åˆ©ç”¨ github copilotæ­å»º chatgpt-4  æœåŠ¡"></a>å¦‚ä½•åˆ©ç”¨ github copilotæ­å»º chatgpt-4  æœåŠ¡</h1><p>Github Copilot æ˜¯ GitHub å¼€å‘ AI åŠ©æ‰‹ï¼Œå®ƒå¯ä»¥å¸®åŠ©å¼€å‘è€…ç¼–å†™ä»£ç ã€‚å®ƒæ˜¯ä¸€ä¸ªåŸºäº OpenAI Codex çš„ Visual Studio Code æ’ä»¶ï¼Œå®ƒå¯ä»¥ä¸ºä½ æä¾›ä»£ç æç¤ºã€è‡ªåŠ¨è¡¥å…¨ã€è‡ªåŠ¨ä¿®å¤ã€è‡ªåŠ¨é‡æ„ç­‰åŠŸèƒ½ã€‚ç°åœ¨ Github Copilot è¿˜æ”¯æŒchatåŠŸèƒ½ï¼Œå®ƒçš„åº•å±‚é€»è¾‘åŸºäºGPT-4ï¼Œä½†æ˜¯ç›®å‰ä»…æ”¯æŒåœ¨vs code ä¸­ä½¿ç”¨ï¼Œ ä½†æ˜¯æˆ‘æ—¥å¸¸å¼€å‘ç¯å¢ƒæ˜¯Golangï¼Œæœ¬æ–‡å°†ä»‹ç»å¦‚ä½•åˆ©ç”¨github copilotæ­å»ºchatgpt-4æœåŠ¡ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨chatgpt-4ã€‚</p>
<span id="more"></span>

<h1 id="æœ¬æ–‡æ¶‰åŠçš„å¼€æºç»„å»º"><a href="#æœ¬æ–‡æ¶‰åŠçš„å¼€æºç»„å»º" class="headerlink" title="æœ¬æ–‡æ¶‰åŠçš„å¼€æºç»„å»º"></a>æœ¬æ–‡æ¶‰åŠçš„å¼€æºç»„å»º</h1><ul>
<li><p><a href="https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web">ChatGPT-Next-Web</a> One-Click to get a well-designed cross-platform ChatGPT web UI, with GPT3, GPT4 &amp; Gemini Pro support.</p>
</li>
<li><p><a href="https://github.com/aaamoon/copilot-gpt4-service">copilot-gpt4-service</a></p>
</li>
<li><p>ä¸€ä¸ª aws ec2 æœåŠ¡å™¨ï¼Œ æˆ‘ä»¬éœ€è¦å†ä¸Šé¢è¿è¡Œ copilot-gpt4-service æœåŠ¡ï¼Œæ‚¨ä¹Ÿå¯ä»¥é€‰æ‹©æ‚¨å–œæ¬¢çš„äº‘æœåŠ¡å•†ã€‚æˆ–è€…åœ¨æœ¬åœ°è¿è¡Œéƒ½å¯ä»¥ã€‚</p>
</li>
<li><p>Vercel ä¸€ä¸ªå…è´¹çš„é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡ï¼Œæˆ‘ä»¬éœ€è¦å†ä¸Šé¢éƒ¨ç½² ChatGPT-Next-Web æœåŠ¡</p>
</li>
<li><p>cloudflare ä¸€ä¸ªå…è´¹çš„cdnæœåŠ¡ï¼Œæˆ‘ä»¬ç”¨æ¥è§£æåŸŸåã€‚</p>
</li>
</ul>
<h1 id="è·å–-GitHub-Copilot-token"><a href="#è·å–-GitHub-Copilot-token" class="headerlink" title="è·å– GitHub Copilot token"></a>è·å– GitHub Copilot token</h1><p>è¯·å‚è€ƒè¿™ä¸ªæ–‡æ¡£ [GitHub Copilot token](<a href="https://github.com/aaamoon/copilot-gpt4-service/blob/master/README_CN.md#%E8%8E%B7%E5%8F%96-copilot-token%EF%BC%89">https://github.com/aaamoon/copilot-gpt4-service/blob/master/README_CN.md#%E8%8E%B7%E5%8F%96-copilot-tokenï¼‰</a><br>åœ¨ mac ç”µè„‘ä¸Šï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è·å– token</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/aaamoon/copilot-gpt4-service/master/shells/get_copilot_token.sh)&quot;</span><br></pre></td></tr></table></figure>
<p><img src="https://images.hxzhouh.com/blog-images/2024/01/d3343f8fc1b209783fb653e11ff4577a.png"></p>
<p>å¦‚å›¾æ‰€ç¤ºã€‚æ‚¨éœ€è¦å°†token å¤åˆ¶åˆ°å‰ªåˆ‡æ¿ï¼Œåé¢ä¼šç”¨åˆ°ã€‚</p>
<h1 id="è¿è¡Œ-copilot-gpt4-service-æœåŠ¡"><a href="#è¿è¡Œ-copilot-gpt4-service-æœåŠ¡" class="headerlink" title="è¿è¡Œ copilot-gpt4-service æœåŠ¡"></a>è¿è¡Œ copilot-gpt4-service æœåŠ¡</h1><ol>
<li>copilot-gpt4-service  æ”¯æŒdockeréƒ¨ç½²ï¼Œå®˜æ–¹æä¾› <a href="https://github.com/aaamoon/copilot-gpt4-service/blob/master/docker-compose.yml">docker-compose</a> æ–‡ä»¶ï¼Œæˆ‘ä»¬åªéœ€è¦ä¿®æ”¹ä¸€ä¸‹ç¯å¢ƒå˜é‡å³å¯ã€‚<br><img src="https://images.hxzhouh.com/blog-images/2024/01/6807404147e2cf24aab940f711af877c.png" alt="image-20240112110203576"></li>
<li>å†nginx ä¸Šæ·»åŠ ä¸€ä¸ªserver<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">        listen 443 ssl;</span><br><span class="line">        listen [::]:443 ssl;</span><br><span class="line">        server_name chat.example.com;</span><br><span class="line"></span><br><span class="line">        ssl_certificate /etc/nginx/cert/public.pem;</span><br><span class="line">        ssl_certificate_key /etc/nginx/cert/private.key;</span><br><span class="line">        location / &#123;</span><br><span class="line">                proxy_pass http://127.0.0.1:8086/;  # copilot-gpt4-service  addr </span><br><span class="line">                rewrite ^/(.*)$ /$1 break;</span><br><span class="line">                proxy_redirect off;</span><br><span class="line">                proxy_set_header Host $host;</span><br><span class="line">                proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line">                proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">                proxy_set_header Upgrade-Insecure-Requests 1;</span><br><span class="line">                proxy_set_header X-Forwarded-Proto https;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
åˆ«å¿˜è®° é‡æ–°åŠ è½½nginx é…ç½®æ–‡ä»¶  </li>
<li>å†cloudflare ä¸Šæ·»åŠ ä¸€ä¸ªåŸŸåè§£æ chat.example.com  è§£æåˆ°nginx æœåŠ¡å™¨çš„ipåœ°å€</li>
</ol>
<h1 id="å†-Vercel-ä¸Šéƒ¨ç½²-ChatGPT-Next-Web-æœåŠ¡"><a href="#å†-Vercel-ä¸Šéƒ¨ç½²-ChatGPT-Next-Web-æœåŠ¡" class="headerlink" title="å† Vercel ä¸Šéƒ¨ç½² ChatGPT-Next-Web æœåŠ¡"></a>å† Vercel ä¸Šéƒ¨ç½² ChatGPT-Next-Web æœåŠ¡</h1><p>ChatGPT-Next-Web æ”¯æŒ ä¸€é”®éƒ¨ç½²åˆ°vercelã€‚ æ‚¨ä¸ç”¨æ”¹åŠ¨ä»»ä½•ä¸œè¥¿ã€‚</p>
<p><img src="https://images.hxzhouh.com/blog-images/2024/01/53e4d610736d7d7784c66113bfee8cf1.png">éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å¯ä»¥åœ¨vercel ä¸Šæ·»åŠ ä¸€ä¸ªä¸ªæ€§åŒ–çš„åŸŸåã€‚æ¯”å¦‚ chatnext.example.com</p>
<h1 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h1><p>æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ chatnext.example.comï¼Œ ç‚¹å‡»å·¦ä¸‹è§’çš„è®¾ç½®æŒ‰é’®ï¼Œé€‰æ‹©è‡ªå®šä¹‰æ¥å£ï¼Œè¾“å…¥ <a href="https://chat.example.com,/">https://chat.example.comï¼Œ</a> api token ä½¿ç”¨ ç¬¬ä¸€æ­¥å¤åˆ¶çš„ GitHub Copilot tokenï¼Œ ç‚¹å‡»ä¿å­˜ï¼Œç„¶åå°±å¯ä»¥å¼€å§‹èŠå¤©äº†ã€‚</p>
<p>psï¼š æˆ‘ä¸çŸ¥é“è¿™ç§åšæ³•æ˜¯ä¸æ˜¯ç¬¦åˆgithub copilot çš„ä½¿ç”¨åè®®ï¼Œä½†æ˜¯æˆ‘è¿™ä¹ˆåšåªæ˜¯ä¸ºäº†æ–¹ä¾¿æˆ‘çš„ä½¿ç”¨ï¼Œæˆ‘ä¸ä¼šåˆ†äº«ç»™å…¶ä»–äººä½¿ç”¨ï¼Œå¦‚æœæ‚¨ä¹Ÿéƒ¨ç½²äº† è‡ªå·±çš„æœåŠ¡ï¼Œä¹Ÿè¯·ä¸è¦åˆ†äº«ç»™å…¶ä»–äººä½¿ç”¨ã€‚</p>
<hr>
<p>å¦‚æœæ‚¨å–œæ¬¢æˆ‘çš„æ–‡ç« ï¼Œéº»çƒ¦ç»™æˆ‘followã€é¼“æŒï¼Œè¿™å¯¹æˆ‘å¾ˆæœ‰å¸®åŠ©ã€‚è°¢è°¢ï¼</p>
]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>github</tag>
        <tag>copilot</tag>
        <tag>chatgpt-4</tag>
      </tags>
  </entry>
  <entry>
    <title>aws ec2 åˆ‡æ¢åˆ°ipv6</title>
    <url>/2023/12/12/aws%20ec2%20%E5%88%87%E6%8D%A2%E5%88%B0ipv6/</url>
    <content><![CDATA[<p>ipv6 å‡ºæ¥å·²ç»å¾ˆä¹…äº†ï¼Œå·¥ä½œä¸­ä¹Ÿå¤„ç†è¿‡å¾ˆå¤šæ¬¡ipv6çš„taskï¼Œä½†æ˜¯ä»æ¥æ²¡æƒ³è¿‡æŠŠè‡ªå·±çš„ec2åˆ‡æ¢åˆ°ipv4ï¼Œæ˜¨å¤©å†é‚®ä»¶å›æ”¶ç«™é‡Œé¢çœ‹åˆ°äº†ä¸€ä¸ªé‚®ä»¶ï¼Œaws çš„ipv4 2024.2.1 è¦æ”¶è´¹äº†ï¼Œè¿™å°±ä¸èƒ½å¿½ç•¥äº†ğŸ˜„ï¼Œåˆšå¥½ä»Šå¤©æœ‰ç©ºå°±æŠŠä»–åˆ‡æ¢æˆäº†ipv6ï¼Œè¿‡ç¨‹æœ‰ç‚¹æŠ˜è…¾ã€‚ æœ¬æ–‡ä¸ä»…é€‚ç”¨ec2ï¼Œå…¶ä»–linux ä¸»æœºåº”è¯¥ä¹Ÿæ”¯æŒã€‚</p>
<p><img src="https://images.hxzhouh.com/blog-images/2023/12/c08e861b12930298c2ed4aea11b1c523.png" alt="image-20231212145049883"><span id="more"></span></p>
<h1 id="ä¸ºec2-æ·»åŠ ä¸€ä¸ªipv6-åœ°å€"><a href="#ä¸ºec2-æ·»åŠ ä¸€ä¸ªipv6-åœ°å€" class="headerlink" title="ä¸ºec2 æ·»åŠ ä¸€ä¸ªipv6 åœ°å€"></a>ä¸ºec2 æ·»åŠ ä¸€ä¸ªipv6 åœ°å€</h1><p>æˆ‘çš„ec2 çš„dns è§£æåœ¨Cloudflareï¼Œæ‰€ä»¥ä¸»è¦æ˜¯å‚è€ƒè¿™ç¯‡åšå®¢ã€‚<a href="https://blog.cloudflare.com/zh-cn/amazon-2bn-ipv4-tax-how-avoid-paying-zh-cn/">Amazon çš„ 20 äº¿ IPv4 ç¨è´¹ â€” ä»¥åŠå¦‚ä½•é¿å…æ”¯ä»˜è¿™ç¬”è´¹ç”¨</a></p>
<p>ä»¥åŠ<a href="https://docs.aws.amazon.com/zh_cn/vpc/latest/userguide/vpc-migrate-ipv6.html">å°† VPC ä» IPv4 è¿ç§»åˆ° IPv6</a>ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯<a href="https://docs.aws.amazon.com/zh_cn/vpc/latest/userguide/vpc-migrate-ipv6.html">å°† VPC ä» IPv4 è¿ç§»åˆ° IPv6</a>ã€‚è¿™ä¸ªdemoä¸­vpcæ˜¯æœ‰ä¸€ä¸ªå…¬æœ‰å­ç½‘ä»¥åŠä¸€ä¸ªç§æœ‰å­ç½‘ï¼Œå¦‚æœæ‚¨åƒæˆ‘ä¸€æ ·åªæœ‰ä¸€ä¸ªå…¬æœ‰å­ç½‘ï¼Œé‚£è¿™éƒ¨åˆ†å°±ä¸éœ€è¦è®¾ç½®äº†ã€‚</p>
<p><img src="https://images.hxzhouh.com/blog-images/2023/12/7c757c6ffdd0c2d7ffff2f4c00e93f29.png" alt="image-20231212145739848"></p>
<p>ä¸å¾—ä¸è¯´ï¼Œaws çš„æ–‡æ¡£å†™çš„çœŸå¥½ï¼Œè¿™ä¸€ç‚¹ï¼Œéœ€è¦å¤šå¤šå­¦ä¹ ã€‚</p>
<p>è®¾ç½®å®Œæˆçš„ç»“æœåº”è¯¥æ˜¯è¿™æ ·çš„ã€‚åŒæ—¶æœ‰ipv4 ä¸ipv6 åœ°å€ã€‚åœ¨å®‰å…¨ç»„ä¸­ä¹Ÿä¸ºipv6æ·»åŠ ç›¸åŒçš„è§„åˆ™ã€‚</p>
<p><img src="https://images.hxzhouh.com/blog-images/2023/12/68699f4797ea3c86c62c3964407c0e3b.png" alt="image-20231212150653820"></p>
<h1 id="åº”ç”¨æ”¯æŒ"><a href="#åº”ç”¨æ”¯æŒ" class="headerlink" title="åº”ç”¨æ”¯æŒ"></a>åº”ç”¨æ”¯æŒ</h1><p>æˆ‘çš„ec2 ä¸Šåªè·‘äº†ä¸€ä¸ªnginx + dockerï¼Œå¹³æ—¶ç”¨sshç™»å½•ã€‚æ‰€ä»¥éœ€è¦ä¸ºNginx ä¸sshd æ·»åŠ  ipv6æ”¯æŒã€‚</p>
<h2 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h2><p>å¯¹äºæ‚¨çš„ HTTP æœåŠ¡å™¨å—ï¼ˆç›‘å¬ç«¯å£ 80 çš„é‚£ä¸ªï¼‰ï¼Œæ·»åŠ ä¸€è¡Œ <code>listen [::]:80;</code>ã€‚è¿™ä½¿å¾— Nginx åŒæ—¶ç›‘å¬ IPv4 å’Œ IPv6 çš„ HTTP æµé‡ã€‚ä¿®æ”¹åçš„æœåŠ¡å™¨å—åº”è¯¥åƒè¿™æ ·ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    listen [::]:80;</span><br><span class="line">    server_name hexo.hxzhouh.com;</span><br><span class="line">    return 301 https://$host$request_uri;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹äºæ¯ä¸ª HTTPS æœåŠ¡å™¨å—ï¼ˆç›‘å¬ç«¯å£ 443 çš„é‚£äº›ï¼‰ï¼Œåœ¨æ¯ä¸ªå—ä¸­æ·»åŠ  <code>listen [::]:443 ssl;</code>ã€‚è¿™å°†ä½¿å¾— Nginx ç›‘å¬ IPv6 ä¸Šçš„ HTTPS æµé‡ã€‚ä¾‹å¦‚ï¼Œå¯¹äºç¬¬ä¸€ä¸ª HTTPS æœåŠ¡å™¨å—ï¼Œä½ éœ€è¦åšå¦‚ä¸‹ä¿®æ”¹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 443 ssl;</span><br><span class="line">    listen [::]:443 ssl;</span><br><span class="line">    server_name hexo.hxzhouh.com;</span><br><span class="line">    # å…¶ä½™é…ç½®...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹æ¯ä¸ª HTTPS <code>server</code> å—è¿›è¡Œè¿™æ ·çš„ä¿®æ”¹ã€‚ç„¶åæµ‹è¯•ä¸€ä¸‹ <code>Nginx -t</code> å¦‚æœæ²¡é—®é¢˜å°±é‡æ–°åŠ è½½Nginxé…ç½® <code>systemctl reload nginx</code></p>
<h2 id="sshd"><a href="#sshd" class="headerlink" title="sshd"></a>sshd</h2><p>å†sshd_config ä¿®æ”¹ï¼Œåˆ é™¤å¯¹<code>AddressFamily any</code>çš„æ³¨é‡Šï¼ˆå³åˆ é™¤å‰é¢çš„<code>#</code>ï¼‰ï¼Œä¸º ssh ç­‰åº”ç”¨ç¨‹åºå¼€å¯ IPv6 ç›‘å¬ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vim /etc/ssh/sshd_config </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Port 22</span></span><br><span class="line">AddressFamily any</span><br><span class="line">AddressFamily inet</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ListenAddress 0.0.0.0</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ListenAddress ::</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åé‡å¯ sshd <code>sudo systemctl reload sshd </code>ï¼Œæ‰§è¡Œ<code>netstat -tupln</code>å‘½ä»¤ï¼Œè‹¥å‡ºç°ä»¥ä¸‹æŠ¥æ–‡ï¼Œè¡¨ç¤ºæŸ¥ ssh å·²æˆåŠŸç›‘å¬ IPv6ã€‚</p>
<p><img src="https://images.hxzhouh.com/blog-images/2023/12/1b5feee3b3f881dbbb252e82e789838e.png" alt="image-20231212152302361"></p>
<p>è¿™æ ·åº”ç”¨å±‚å°±ä¿®æ”¹å¥½äº†ã€‚</p>
<h1 id="dns-è®¾ç½®"><a href="#dns-è®¾ç½®" class="headerlink" title="dns è®¾ç½®"></a>dns è®¾ç½®</h1><p>æœ€åï¼Œåœ¨Cloudflare é‡Œé¢è®¾ç½® ä¸€ä¸‹dnsï¼ŒæŠŠä»¥å‰çš„ipv4 çš„Aè®°å½•å…¨éƒ¨æ”¹æˆAAAA çš„ipv6  å°±å¯ä»¥äº†ã€‚</p>
<p><img src="https://images.hxzhouh.com/blog-images/2023/12/1df24903dda8dbb4996968d55286d099.png" alt="image-20231212151550030"></p>
<h2 id="å¤§åŠŸå‘Šæˆï¼Œæµ‹è¯•ä¸€ä¸‹å¦‚æœæ²¡é—®é¢˜çš„è¯ï¼Œå°±å¯ä»¥æŠŠipv4åœ°å€åˆ äº†ã€‚çœçš„æ‰£é’±ã€‚"><a href="#å¤§åŠŸå‘Šæˆï¼Œæµ‹è¯•ä¸€ä¸‹å¦‚æœæ²¡é—®é¢˜çš„è¯ï¼Œå°±å¯ä»¥æŠŠipv4åœ°å€åˆ äº†ã€‚çœçš„æ‰£é’±ã€‚" class="headerlink" title="å¤§åŠŸå‘Šæˆï¼Œæµ‹è¯•ä¸€ä¸‹å¦‚æœæ²¡é—®é¢˜çš„è¯ï¼Œå°±å¯ä»¥æŠŠipv4åœ°å€åˆ äº†ã€‚çœçš„æ‰£é’±ã€‚"></a>å¤§åŠŸå‘Šæˆï¼Œæµ‹è¯•ä¸€ä¸‹å¦‚æœæ²¡é—®é¢˜çš„è¯ï¼Œå°±å¯ä»¥æŠŠipv4åœ°å€åˆ äº†ã€‚çœçš„æ‰£é’±ã€‚</h2><p>æ›´æ–°ï¼š æ­£åœ¨è¿è¡Œçš„å®ä¾‹æ— æ³•åˆ é™¤ipv4åœ°å€ï¼Œåªèƒ½é€šè¿‡AMI é‡å»ºï¼ŒæŠ˜è…¾å‘€ï¼Œä½†æ˜¯aws ä¸å†ç»™æˆ‘å‘é‚®ä»¶äº†ã€‚âœŒï¸  </p>
<p><a href="https://repost.aws/questions/QUVmpO9BWGSuGwQh5tXk3f5w/how-to-remove-ipv4-public-ip-address-from-ec2-instances-before-february-2024-ipv6">How to remove IPv4 public IP address from ec2 instances before February 2024? (IPv6)</a></p>
]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>ipv6</tag>
      </tags>
  </entry>
  <entry>
    <title>èŠèŠredis sds</title>
    <url>/2022/09/30/%E8%81%8A%E8%81%8Aredis%20sds/</url>
    <content><![CDATA[<p>SDSå…¨æ‹¼ä¸ºï¼š<code>simple dynamic string</code>ï¼Œè§£é‡Šä¸ºï¼šç®€å•åŠ¨æ€å­—ç¬¦ä¸²</p>
<p>â€‹    Cè¯­è¨€å­—ç¬¦ä¸²ä½¿ç”¨é•¿åº¦ä¸ºn+1çš„å­—ç¬¦æ•°ç»„æ¥è¡¨ç¤ºé•¿åº¦ä¸ºnçš„å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”å­—ç¬¦æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ æ€»æ˜¯ç©ºå­—ç¬¦â€™\0â€™ï¼Œå› ä¸ºè¿™ç§å­—ç¬¦ä¸²è¡¨ç¤ºæ–¹å¼ä¸èƒ½æ»¡è¶³Rediså¯¹å­—ç¬¦ä¸²åœ¨å®‰å…¨æ€§ã€æ•ˆç‡ä»¥åŠåŠŸèƒ½æ–¹é¢çš„è¦æ±‚ï¼Œæ‰€ä»¥Redisè‡ªå·±æ„å»ºäº†SDSï¼Œç”¨äºæ»¡è¶³å…¶éœ€æ±‚ã€‚åœ¨Redisé‡Œï¼ŒCè¯­è¨€å­—ç¬¦ä¸²åªç”¨äºä¸€äº›æ— é¡»å¯¹å­—ç¬¦ä¸²å€¼è¿›è¡Œä¿®æ”¹çš„åœ°æ–¹ï¼Œæ¯”å¦‚ï¼šæ—¥å¿—ã€‚åœ¨Redisä¸­ï¼ŒåŒ…å«å­—ç¬¦ä¸²å€¼çš„é”®å€¼å¯¹éƒ½æ˜¯ä½¿ç”¨SDSå®ç°çš„ï¼Œé™¤æ­¤ä¹‹å¤–ï¼ŒSDSè¿˜è¢«ç”¨äºAOFç¼“å†²åŒºã€å®¢æˆ·ç«¯çŠ¶æ€çš„è¾“å…¥ç¼“å†²åŒºã€‚</p>
<span id="more"></span>

<h1 id="SDSå®šä¹‰"><a href="#SDSå®šä¹‰" class="headerlink" title="SDSå®šä¹‰"></a>SDSå®šä¹‰</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">struct sdshdr&#123;</span><br><span class="line">     //å­—èŠ‚æ•°ç»„</span><br><span class="line">     char buf[]; </span><br><span class="line">     //bufæ•°ç»„ä¸­å·²ä½¿ç”¨å­—èŠ‚æ•°é‡</span><br><span class="line">     int len;</span><br><span class="line">     //bufæ•°ç»„ä¸­æœªä½¿ç”¨å­—èŠ‚æ•°é‡</span><br><span class="line">     int free;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/../../../%E6%88%91%E7%9A%84%E5%9D%9A%E6%9E%9C%E4%BA%91/Typro%20%E6%96%87%E6%A1%A3%E5%BA%93/%E5%9B%BE%E7%89%87/20200313213825.png"></p>
<p>â€‹    ä¸Šå›¾å±•ç¤ºäº†ä¸€ä¸ªSDSå®ä¾‹ï¼Œlenè¡¨ç¤ºè¯¥SDSä¿å­˜äº†ä¸€ä¸ª5å­—èŠ‚é•¿åº¦ï¼ˆä¸åŒ…å«ç»“æŸç¬¦ï¼‰çš„å­—ç¬¦ä¸²ï¼Œfreeè¡¨ç¤ºè¯¥SDSè¿˜æœ‰5ä¸ªå­—èŠ‚çš„æœªä½¿ç”¨ç©ºé—´ï¼Œbufæ˜¯ä¸€ä¸ªcharç±»å‹çš„æ•°ç»„ï¼Œä¿å­˜äº†è¯¥SDSæ‰€å­˜å‚¨çš„å­—ç¬¦ä¸²å€¼</p>
<h1 id="ä¸ºä»€ä¹ˆä½¿ç”¨SDS"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨SDS" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨SDS"></a><strong>ä¸ºä»€ä¹ˆä½¿ç”¨SDS</strong></h1><h2 id="1-ç›¸æ¯”Cè¯­è¨€å­—ç¬¦ä¸²ï¼Œä½¿è·å–å­—ç¬¦ä¸²é•¿åº¦æ—¶é—´å¤æ‚åº¦é™ä¸ºO-1"><a href="#1-ç›¸æ¯”Cè¯­è¨€å­—ç¬¦ä¸²ï¼Œä½¿è·å–å­—ç¬¦ä¸²é•¿åº¦æ—¶é—´å¤æ‚åº¦é™ä¸ºO-1" class="headerlink" title="1. ç›¸æ¯”Cè¯­è¨€å­—ç¬¦ä¸²ï¼Œä½¿è·å–å­—ç¬¦ä¸²é•¿åº¦æ—¶é—´å¤æ‚åº¦é™ä¸ºO(1)"></a><strong>1. ç›¸æ¯”Cè¯­è¨€å­—ç¬¦ä¸²ï¼Œä½¿è·å–å­—ç¬¦ä¸²é•¿åº¦æ—¶é—´å¤æ‚åº¦é™ä¸ºO(1)</strong></h2><p>â€‹    Cè¯­è¨€å­—ç¬¦ä¸²ä¸è®°å½•è‡ªèº«é•¿åº¦ï¼Œå¦‚æœæƒ³è·å–è‡ªèº«é•¿åº¦å¿…é¡»éå†æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹æ¯ä¸ªå­—ç¬¦è¿›è¡Œè®¡æ•°ï¼Œè¿™ä¸ªæ“ä½œæ—¶é—´å¤æ‚åº¦æ˜¯O(n)ã€‚ç›¸æ¯”è¾ƒè€Œè¨€ï¼ŒRedisç¨‹åºåªè¦è®¿é—®SDSçš„lenå±æ€§å°±å¯ä»¥ç›´æ¥è·å–åˆ°å­—ç¬¦ä¸²é•¿åº¦ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œç¡®ä¿è·å–å­—ç¬¦ä¸²é•¿åº¦ä¸ä¼šæˆä¸ºRedisæ€§èƒ½ç“¶é¢ˆï¼Œæ¯”å¦‚å¯¹å­—ç¬¦ä¸²é”®åå¤æ‰§è¡Œstrlenå‘½ä»¤ã€‚å¦‚ï¼šè·å–â€œRedisâ€å­—ç¬¦ä¸²é•¿åº¦æ—¶ç¨‹åºä¼šç›´æ¥è®¿é—®lenå±æ€§å³å¯ï¼Œè¯¥å­—ç¬¦ä¸²é•¿åº¦ä¸º5ã€‚</p>
<h2 id="2-æœç»ç¼“å†²åŒºæº¢å‡º"><a href="#2-æœç»ç¼“å†²åŒºæº¢å‡º" class="headerlink" title="2. æœç»ç¼“å†²åŒºæº¢å‡º"></a><strong>2. æœç»ç¼“å†²åŒºæº¢å‡º</strong></h2><p>â€‹    å‡è®¾ç¨‹åºé‡Œæœ‰ä¸¤ä¸ªåœ¨å†…å­˜ä¸­ç´§é‚»çš„å­—ç¬¦ä¸²s1å’Œs2ï¼Œs1çš„å€¼ä¸ºRedisï¼Œåº•å±‚æ•°ç»„çš„å€¼ä¸º[â€˜Râ€™,â€™eâ€™,â€™dâ€™,â€™iâ€™,â€™sâ€™,â€™\0â€™]ï¼Œs2çš„å€¼ä¸ºMemcacheï¼Œåº•å±‚æ•°ç»„çš„å€¼ä¸º[â€˜Mâ€™,â€™eâ€™,â€™mâ€™,â€™câ€™,â€™aâ€™,â€™câ€™,â€™hâ€™,â€™eâ€™,â€™\0â€™]ï¼Œåœ¨Cè¯­è¨€ä¸­å¦‚æœè¦æ‰§è¡Œstrcat(s1, â€œ clusterâ€)æŠŠs1ä¿®æ”¹ä¸ºRedis clusterï¼Œå¦‚æœå¿˜è®°åœ¨æ‰§è¡Œstrcatå‘½ä»¤ä¹‹å‰ä¸ºs1é‡æ–°åˆ†é…ç©ºé—´ï¼Œé‚£ä¹ˆåœ¨æ‰§è¡Œå®Œstrcatå‘½ä»¤ä¹‹åï¼Œs1åº•å±‚æ•°ç»„çš„å€¼å˜ä¸º[â€˜Râ€™,â€™eâ€™,â€™dâ€™,â€™iâ€™,â€™sâ€™,â€™ â€˜,â€™câ€™,â€™lâ€™,â€™uâ€™,â€™sâ€™,â€™tâ€™,â€™eâ€™,â€™râ€™,â€™\0â€™]ï¼Œs2åº•å±‚æ•°ç»„çš„å€¼å˜ä¸º[â€˜câ€™,â€™lâ€™,â€™uâ€™,â€™sâ€™,â€™tâ€™,â€™eâ€™,â€™râ€™,â€™\0â€™,â€™\0â€™]ï¼Œs1çš„æ•°æ®æº¢å‡ºåˆ°s2æ‰€åœ¨çš„å†…å­˜ç©ºé—´ï¼Œs2çš„å€¼è¢«æ„å¤–ä¿®æ”¹ã€‚ä¸Cè¯­è¨€ä¸åŒï¼Œå½“SDS APIéœ€è¦å¯¹SDSè¿›è¡Œä¿®æ”¹æ—¶ï¼ŒAPIä¼šå…ˆæ£€æŸ¥SDSå½“å‰å‰©ä½™ç©ºé—´æ˜¯å¦æ»¡è¶³ä¿®æ”¹ä¹‹åæ‰€éœ€çš„ç©ºé—´ï¼Œå¦‚æœä¸æ»¡è¶³çš„è¯APIä¼šè‡ªåŠ¨å°†SDSçš„ç©ºé—´æ‰©å±•è‡³ä¿®æ”¹ä¹‹åæ‰€éœ€ç©ºé—´å¤§å°ï¼Œç„¶åå†æ‰§è¡Œå®é™…çš„ä¿®æ”¹æ“ä½œï¼Œæ‰€ä»¥SDSä¸ä¼šå‡ºç°ç¼“å†²åŒºæº¢å‡ºé—®é¢˜ã€‚ï¼ˆç¼“å†²åŒºæ‰©å……å¹¶éæ˜¯ç›´æ¥æ‰©å……åˆ°æ‰€éœ€è¦çš„ç©ºé—´å¤§å°ï¼Œå®ƒå’ŒSDSç©ºé—´åˆ†é…ç­–ç•¥æœ‰å…³ï¼Œå‚è§ä¸‹ä¸€å°èŠ‚ï¼‰</p>
<h2 id="3-å‡å°‘ä¿®æ”¹å­—ç¬¦ä¸²æ—¶å¸¦æ¥çš„å†…å­˜é‡åˆ†é…æ¬¡æ•°"><a href="#3-å‡å°‘ä¿®æ”¹å­—ç¬¦ä¸²æ—¶å¸¦æ¥çš„å†…å­˜é‡åˆ†é…æ¬¡æ•°" class="headerlink" title="3. å‡å°‘ä¿®æ”¹å­—ç¬¦ä¸²æ—¶å¸¦æ¥çš„å†…å­˜é‡åˆ†é…æ¬¡æ•°"></a><strong>3. å‡å°‘ä¿®æ”¹å­—ç¬¦ä¸²æ—¶å¸¦æ¥çš„å†…å­˜é‡åˆ†é…æ¬¡æ•°</strong></h2><p>â€‹    Cè¯­è¨€å­—ç¬¦ä¸²åº•å±‚æ˜¯ä½¿ç”¨ä¸€ä¸ªn+1ä¸ªå­—ç¬¦é•¿åº¦çš„charç±»å‹æ•°æ®å®ç°çš„ï¼Œæ‰€ä»¥æ¯æ¬¡å¢é•¿æˆ–ç¼©çŸ­ä¸€ä¸ªCè¯­è¨€å­—ç¬¦ä¸²ï¼Œç¨‹åºéƒ½è¦å¯¹è¿™ä¸ªå­—ç¬¦ä¸²æ•°ç»„è¿›è¡Œä¸€æ¬¡å†…å­˜é‡åˆ†é…æ“ä½œï¼š</p>
<ol>
<li>å¦‚æœç¨‹åºæ‰§è¡Œçš„æ˜¯å¢é•¿å­—ç¬¦ä¸²æ“ä½œï¼Œæ¯”å¦‚strcatæ“ä½œï¼Œåœ¨æ‰§è¡Œè¿™ä¸ªæ“ä½œä¹‹å‰éœ€è¦é€šè¿‡å†…å­˜é‡åˆ†é…æ‰©å±•åº•å±‚æ•°ç»„ï¼Œå¦‚æœå¿˜è®°äº†åˆ™ä¼šé€ æˆç¼“å†²åŒºæº¢å‡ºã€‚</li>
<li>å¦‚æœç¨‹åºæ‰§è¡Œçš„æ˜¯ç¼©çŸ­å­—ç¬¦ä¸²æ“ä½œï¼Œæ¯”å¦‚trimæ“ä½œï¼Œåœ¨æ‰§è¡Œè¿™ä¸ªæ“ä½œä¹‹å‰éœ€è¦é€šè¿‡å†…å­˜é‡åˆ†é…é‡Šæ”¾å­—ç¬¦ä¸²ä¸å†ä½¿ç”¨çš„å†…å­˜ç©ºé—´ï¼Œå¦‚æœå¿˜è®°äº†åˆ™ä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚</li>
</ol>
<p>â€‹            å› ä¸ºå†…å­˜é‡åˆ†é…æ¶‰åŠå¤æ‚çš„ç®—æ³•ï¼Œå¹¶ä¸”å¯èƒ½éœ€è¦æ‰§è¡Œç³»ç»Ÿè°ƒç”¨ï¼Œæ‰€ä»¥å®ƒé€šå¸¸æ˜¯ä¸€ä¸ªæ¯”è¾ƒè€—æ—¶çš„æ“ä½œã€‚Redisç»å¸¸è¢«ç”¨äºé€Ÿåº¦è¦æ±‚ä¸¥è‹›ã€æ•°æ®è¢«é¢‘ç¹ä¿®æ”¹çš„åœºåˆï¼Œå¦‚æœæ¯æ¬¡ä¿®æ”¹å­—ç¬¦ä¸²éƒ½éœ€è¦æ‰§è¡Œä¸€æ¬¡å†…å­˜é‡åˆ†é…çš„è¯ï¼Œé‚£ä¹ˆå¯¹äºæ€§èƒ½ä¼šé€ æˆå¾ˆå¤§å½±å“ã€‚</p>
<p>â€‹            åœ¨SDSä¸­é€šè¿‡æœªä½¿ç”¨ç©ºé—´è§£é™¤äº†å­—ç¬¦ä¸²é•¿åº¦å’Œåº•å±‚æ•°ç»„é•¿åº¦ä¹‹é—´çš„å…³è”ï¼Œåœ¨SDSä¸­ï¼Œbufæ•°ç»„é•¿åº¦ä¸ä¸€å®šæ˜¯å­—ç¬¦ä¸²é•¿åº¦åŠ 1ï¼Œæ•°ç»„ä¸­å¯èƒ½åŒ…å«æœªä½¿ç”¨çš„å­—èŠ‚ï¼Œè¿™äº›å­—èŠ‚çš„æ•°é‡å°±æ˜¯ç”±SDSçš„freeå±æ€§è®°å½•ã€‚é€šè¿‡æœªä½¿ç”¨ç©ºé—´ï¼ŒSDSå®ç°äº†ç©ºé—´é¢„åˆ†é…å’Œæƒ°æ€§ç©ºé—´é‡Šæ”¾ä¸¤ç§ä¼˜åŒ–ç­–ç•¥ã€‚</p>
<h3 id="3-1-ç©ºé—´é¢„åˆ†é…"><a href="#3-1-ç©ºé—´é¢„åˆ†é…" class="headerlink" title="3.1 ç©ºé—´é¢„åˆ†é…"></a><strong>3.1 ç©ºé—´é¢„åˆ†é…</strong></h3><p>â€‹    ç”¨äºå­—ç¬¦ä¸²å¢é•¿æ“ä½œï¼Œå½“å­—ç¬¦ä¸²å¢é•¿æ—¶ï¼Œç¨‹åºä¼šå…ˆæ£€æŸ¥éœ€ä¸éœ€è¦å¯¹SDSç©ºé—´è¿›è¡Œæ‰©å±•ï¼Œå¦‚æœéœ€è¦æ‰©å±•ï¼Œç¨‹åºä¸ä»…ä¼šä¸ºSDSåˆ†é…ä¿®æ”¹æ‰€å¿…è¦çš„ç©ºé—´ï¼Œè¿˜ä¼šä¸ºSDSåˆ†é…é¢å¤–çš„æœªä½¿ç”¨ç©ºé—´ï¼Œé¢å¤–åˆ†é…çš„æœªä½¿ç”¨ç©ºé—´å…¬å¼å¦‚ä¸‹ï¼š</p>
<ol>
<li>å¦‚æœå¯¹SDSä¿®æ”¹ä¹‹åï¼ŒSDSçš„é•¿åº¦ï¼ˆä¿®æ”¹ä¹‹ålenå±æ€§çš„å€¼ï¼‰å°äº1MBï¼Œé‚£ä¹ˆåˆ™åˆ†é…å’Œlenå±æ€§åŒæ ·å¤§å°çš„æœªä½¿ç”¨ç©ºé—´ï¼Œè¿™æ—¶SDSçš„lenå±æ€§å’Œfreeå±æ€§çš„å€¼ç›¸åŒã€‚å¦‚ï¼šå¦‚æœä¿®æ”¹ä¹‹åSDSçš„lenå°†å˜ä¸º10å­—èŠ‚ï¼Œé‚£ä¹ˆç¨‹åºä¹Ÿä¼šåˆ†é…10å­—èŠ‚çš„æœªä½¿ç”¨ç©ºé—´ï¼ŒSDSçš„bufæ•°ç»„å®é™…é•¿åº¦å˜ä¸º10 + 10 + 1 &#x3D; 21ï¼ˆé¢å¤–ä¸€ä¸ªå­—èŠ‚ç”¨äºä¿å­˜ç»“æŸç¬¦\nï¼‰</li>
<li>å¦‚æœå¯¹SDSä¿®æ”¹ä¹‹åï¼ŒSDSçš„é•¿åº¦å¤§äºç­‰äº1MBï¼Œé‚£ä¹ˆç¨‹åºä¼šåˆ†é…1MBçš„æœªä½¿ç”¨ç©ºé—´ã€‚å¦‚ï¼šä¿®æ”¹ä¹‹åçš„lenå°†å˜ä¸º10MBï¼Œé‚£ä¹ˆç¨‹åºä¼šåˆ†é…1MBçš„æœªä½¿ç”¨ç©ºé—´ï¼ŒSDSçš„bugæ•°ç»„é•¿åº¦ä¸º10MB + 1MB + 1byte</li>
</ol>
<h3 id="3-2-æƒ°æ€§ç©ºé—´é‡Šæ”¾"><a href="#3-2-æƒ°æ€§ç©ºé—´é‡Šæ”¾" class="headerlink" title="3.2 æƒ°æ€§ç©ºé—´é‡Šæ”¾"></a><strong>3.2 æƒ°æ€§ç©ºé—´é‡Šæ”¾</strong></h3><p>â€‹    ç”¨äºä¼˜åŒ–SDSçš„å­—ç¬¦ä¸²æ”¶ç¼©æ“ä½œï¼Œå½“å­—ç¬¦ä¸²æ”¶ç¼©æ—¶ï¼Œç¨‹åºä¸ä¼šç«‹å³æ‰§è¡Œå†…å­˜é‡åˆ†é…æ¥å›æ”¶æ”¶ç¼©åå†…å­˜å¤šå‡ºæ¥çš„ç©ºé—´ï¼Œè€Œæ˜¯ä½¿ç”¨freeå±æ€§è®°å½•ä¸‹æ¥ï¼Œä»¥å¤‡å°†æ¥ä½¿ç”¨ã€‚</p>
<p><img src="/../../../%E6%88%91%E7%9A%84%E5%9D%9A%E6%9E%9C%E4%BA%91/Typro%20%E6%96%87%E6%A1%A3%E5%BA%93/%E5%9B%BE%E7%89%87/20200313213934.png"></p>
<p><img src="/../../../%E6%88%91%E7%9A%84%E5%9D%9A%E6%9E%9C%E4%BA%91/Typro%20%E6%96%87%E6%A1%A3%E5%BA%93/%E5%9B%BE%E7%89%87/20200313213920.png"></p>
<p>â€‹    é€šè¿‡ç©ºé—´é¢„åˆ†é…ï¼ŒRediså¯ä»¥å‡å°‘è¿ç»­æ‰§è¡Œå­—ç¬¦ä¸²å¢é•¿æ“ä½œæ‰€éœ€çš„å†…å­˜é‡åˆ†é…æ¬¡æ•°ï¼Œé€šè¿‡æƒ°æ€§ç©ºé—´é‡Šæ”¾ï¼ŒSDSé¿å…äº†ç¼©çŸ­å­—ç¬¦ä¸²æ—¶æ‰€éœ€çš„å†…å­˜é‡åˆ†é…æ“ä½œï¼Œå¹¶ä¸ºå°†æ¥ç”±å¯èƒ½çš„å¢é•¿æ“ä½œæä¾›äº†ä¼˜åŒ–ã€‚</p>
<h3 id="3-3-äºŒè¿›åˆ¶å®‰å…¨"><a href="#3-3-äºŒè¿›åˆ¶å®‰å…¨" class="headerlink" title="3.3 äºŒè¿›åˆ¶å®‰å…¨"></a>3.3 äºŒè¿›åˆ¶å®‰å…¨</h3><p>Cè¯­è¨€çš„å­—ç¬¦ä¸²ä¸èƒ½ä½¿ç”¨\0ç»“å°¾ï¼Œå¯¼è‡´Cè¯­è¨€å­—ç¬¦ä¸²ä¸èƒ½ä¿å­˜ å›¾ç‰‡ç­‰äºŒè¿›åˆ¶æ•°æ®ã€‚</p>
<p>redis ä½¿ç”¨å­—ç¬¦æ•°ç»„æ¥ä¿å­˜å­—ç¬¦ä¸²ï¼Œä¸ä¼šå¯¹æ•°æ®åšä»»ä½•é™åˆ¶ã€è¿‡æ»¤ã€å‡è®¾ï¼Œä½¿å¾—rediså…¼å®¹æ€§æ›´å¼ºã€‚</p>
]]></content>
      <categories>
        <category>redis</category>
      </categories>
      <tags>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title>nå¦‚ä½•ç”¨æ±‡ç¼–åˆ†æGoä»£ç </title>
    <url>/2024/01/16/%E5%A6%82%E4%BD%95%E7%94%A8%E6%B1%87%E7%BC%96%E5%88%86%E6%9E%90Go%E4%BB%A3%E7%A0%81/</url>
    <content><![CDATA[<p>ä»Šå¤©ä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„æŸ¥çœ‹ Go æ±‡ç¼–ä»£ç ã€è°ƒè¯• Go ç¨‹åºçš„å‘½ä»¤å’Œå·¥å…·ï¼Œ</p>
<p>æ¯”è¾ƒè¿™ä¸¤æ®µä»£ç </p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</span><br><span class="line">	Class <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> a = &amp;Student&#123;<span class="number">1</span>&#125;</span><br><span class="line">	<span class="built_in">println</span>(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>çš„æ‰§è¡Œæ•ˆç‡è¦é«˜äºä¸‹é¢è¿™æ®µä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</span><br><span class="line">	Class <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> a = Student&#123;<span class="number">1</span>&#125;</span><br><span class="line">	<span class="keyword">var</span> b = &amp;a</span><br><span class="line">	<span class="built_in">println</span>(b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¹¶ä¸”ç»™ä½ è®²äº†ä¸€é€šé“ç†ï¼Œä½ å¥½åƒæ²¡æ³•è¾©èµ¢ä»–ã€‚æ€ä¹ˆåŠï¼Ÿ<br>ç›´æ¥ç”¨ä¸€è¡Œå‘½ä»¤ç”Ÿæˆæ±‡ç¼–ä»£ç ï¼Œé©¬ä¸Šå¯ä»¥æˆ³ç©¿ä»–ï¼Œæ‰“ä»–çš„è„¸ã€‚</p>
<h1 id="go-tool-ç”Ÿæˆæ±‡ç¼–"><a href="#go-tool-ç”Ÿæˆæ±‡ç¼–" class="headerlink" title="go tool ç”Ÿæˆæ±‡ç¼–"></a>go tool ç”Ÿæˆæ±‡ç¼–</h1><p>å…¶å®å¾ˆç®€å•ï¼Œæœ‰ä¸¤ä¸ªå‘½ä»¤å¯ä»¥åšåˆ°ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">go tool compile -S main.go</span><br></pre></td></tr></table></figure>

<p>å’Œï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">go build main.go &amp;&amp; go tool objdump ./main</span><br></pre></td></tr></table></figure>

<p> å‰è€…æ˜¯ç¼–è¯‘ï¼Œå³å°†æºä»£ç ç¼–è¯‘æˆÂ <code>.o</code>Â ç›®æ ‡æ–‡ä»¶ï¼Œå¹¶è¾“å‡ºæ±‡ç¼–ä»£ç ã€‚</p>
<p>åè€…æ˜¯åæ±‡ç¼–ï¼Œå³ä»å¯æ‰§è¡Œæ–‡ä»¶åç¼–è¯‘æˆæ±‡ç¼–ï¼Œæ‰€ä»¥è¦å…ˆç”¨Â <code>go build</code>Â å‘½ä»¤ç¼–è¯‘å‡ºå¯æ‰§è¡Œæ–‡ä»¶ã€‚</p>
<p>äºŒè€…ä¸å°½ç›¸åŒï¼Œä½†éƒ½èƒ½çœ‹åˆ°å‰é¢ä¸¤ä¸ªç¤ºä¾‹ä»£ç å¯¹åº”çš„æ±‡ç¼–ä»£ç æ˜¯ä¸€è‡´çš„ã€‚åŒäº‹çš„â€œè°£è¨€â€ä¸æ”»è‡ªç ´ï¼Œè„¸éƒ½è¢«ä½ æ‰“ç–¼äº†ã€‚</p>
<h1 id="æ‰¾åˆ°-runtime-æºç "><a href="#æ‰¾åˆ°-runtime-æºç " class="headerlink" title="æ‰¾åˆ° runtime æºç "></a>æ‰¾åˆ° runtime æºç </h1><p>Go æ˜¯ä¸€é—¨æœ‰ runtime çš„è¯­è¨€ï¼Œä»€ä¹ˆæ˜¯ runtimeï¼Ÿå…¶å®å°±æ˜¯ä¸€æ®µè¾…åŠ©ç¨‹åºï¼Œç”¨æˆ·æ²¡æœ‰å†™çš„ä»£ç ï¼Œruntime æ›¿æˆ‘ä»¬å†™äº†ï¼Œæ¯”å¦‚ Go è°ƒåº¦å™¨çš„ä»£ç ã€‚</p>
<p>æˆ‘ä»¬åªéœ€è¦çŸ¥é“ç”¨ go å…³é”®å­—åˆ›å»º goroutineï¼Œå°±å¯ä»¥ç–¯ç‹‚å †ä¸šåŠ¡äº†ã€‚è‡³äº goroutine æ˜¯æ€ä¹ˆè¢«è°ƒåº¦çš„ï¼Œæ ¹æœ¬ä¸éœ€è¦å…³å¿ƒï¼Œè¿™äº›æ˜¯ runtime è°ƒåº¦å™¨çš„å·¥ä½œã€‚</p>
<p>é‚£æˆ‘ä»¬è‡ªå·±å†™çš„ä»£ç å¦‚ä½•å’Œ runtime é‡Œçš„ä»£ç å¯¹åº”èµ·æ¥å‘¢ï¼Ÿ</p>
<p>å‰é¢ä»‹ç»çš„æ–¹æ³•å°±å¯ä»¥åšåˆ°ï¼Œåªéœ€è¦åŠ ä¸€ä¸ªÂ <code>grep</code>Â å°±å¯ä»¥ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘æƒ³çŸ¥é“ go å…³é”®å­—å¯¹åº” runtime é‡Œçš„å“ªä¸ªå‡½æ•°ï¼Œäºæ˜¯å†™äº†ä¸€æ®µæµ‹è¯•ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		<span class="built_in">println</span>(<span class="number">1</span>+<span class="number">2</span>)</span><br><span class="line">	&#125;()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å› ä¸ºÂ <code>go func()&#123;&#125;()</code>Â é‚£ä¸€è¡Œä»£ç åœ¨ç¬¬ 4 è¡Œï¼Œæ‰€ä»¥ï¼Œgrep çš„æ—¶å€™åŠ ä¸€ä¸ªæ¡ä»¶ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">go tool compile -S main.go | grep <span class="string">&quot;main.go:4&quot;</span></span><br><span class="line"></span><br><span class="line">// æˆ–</span><br><span class="line"></span><br><span class="line">go build main.go &amp;&amp; go tool objdump ./main | grep <span class="string">&quot;main.go:4&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://images.hxzhouh.com/blog-images/2024/01/ddda1a97dad5e145c1b83e0cf89bf1f7.png" alt="Pasted image 20240116112336"></p>
<p>é©¬ä¸Šå°±èƒ½çœ‹åˆ°Â <code>go func()&#123;&#125;()</code>Â å¯¹åº”Â <code>newproc()</code>Â å‡½æ•°ï¼Œè¿™æ—¶å†æ·±å…¥ç ”ç©¶ä¸‹Â <code>newproc()</code>Â å‡½æ•°å°±å¤§æ¦‚çŸ¥é“ goroutine æ˜¯å¦‚ä½•è¢«åˆ›å»ºçš„ã€‚</p>
<h1 id="ä¸dlvè°ƒè¯•ä»£ç "><a href="#ä¸dlvè°ƒè¯•ä»£ç " class="headerlink" title="ä¸dlvè°ƒè¯•ä»£ç "></a>ä¸dlvè°ƒè¯•ä»£ç </h1><p>é‚£æœ‰åŒå­¦é—®äº†ï¼Œæœ‰æ²¡æœ‰å…¶ä»–å¯ä»¥è°ƒè¯• Goã€ä»¥åŠå’Œ Go ç¨‹åºäº’åŠ¨çš„æ–¹æ³•å‘¢ï¼Ÿå…¶å®æ˜¯æœ‰çš„ï¼è¿™å°±æ˜¯æˆ‘ä»¬è¦ä»‹ç»çš„ dlv è°ƒè¯•å·¥å…·ï¼Œç›®å‰å®ƒå¯¹è°ƒè¯• Go çš„ç¨‹åºæ”¯æŒæ˜¯æœ€å¥½çš„ã€‚</p>
<p>ä¹‹å‰æ²¡æˆ‘æ€ä¹ˆç ”ç©¶å®ƒï¼Œåªä¼šä¸€äº›éå¸¸ç®€å•çš„å‘½ä»¤ï¼Œè¿™æ¬¡å­¦ä¼šäº†å‡ ä¸ªè¿›é˜¶çš„æŒ‡ä»¤ï¼Œå¨åŠ›æŒºå¤§ï¼Œä¹Ÿè¿›ä¸€æ­¥åŠ æ·±äº†å¯¹ Go çš„ç†è§£ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬å¸¦ç€ä¸€ä¸ªä»»åŠ¡æ¥è®²è§£ dlv å¦‚ä½•ä½¿ç”¨ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œå‘ä¸€ä¸ª nil çš„ slice append å…ƒç´ ï¼Œä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ã€‚ä½†æ˜¯å‘ä¸€ä¸ª nil çš„ map æ’å…¥æ–°å…ƒç´ ï¼Œé©¬ä¸Šå°±ä¼šæŠ¥ panicã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿåˆæ˜¯åœ¨å“ª panic å‘¢ï¼Ÿ</p>
<p>é¦–å…ˆå†™å‡ºè®© map äº§ç”Ÿ panic çš„ç¤ºä¾‹ç¨‹åºï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> m <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span></span><br><span class="line">	m[<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€ç”¨Â <code>go build</code>Â å‘½ä»¤ç¼–è¯‘ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">go build main.go</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œä½¿ç”¨ dlv è¿›å…¥è°ƒè¯•çŠ¶æ€ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">dlv <span class="built_in">exec</span> ./main</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨Â <code>b</code>Â è¿™ä¸ªå‘½ä»¤æ‰“æ–­ç‚¹ï¼Œæœ‰ä¸‰ç§æ–¹æ³•ï¼š</p>
<ol>
<li>b + åœ°å€</li>
<li>b + ä»£ç è¡Œæ•°</li>
<li>b + å‡½æ•°å</li>
</ol>
<p>æˆ‘ä»¬è¦åœ¨å¯¹ map èµ‹å€¼çš„åœ°æ–¹åŠ ä¸ªæ–­ç‚¹ã€‚ä½ç½®æ˜¯ç¬¬äº”è¡Œï¼Œæˆ‘ä»¬åœ¨ç¬¬äº”è¡ŒåŠ ä¸€ä¸ªæ–­ç‚¹ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">(dlv) b main.go:5</span><br><span class="line">Breakpoint 1 <span class="built_in">set</span> at 0x104203070 <span class="keyword">for</span> main.main() ./main.go:5</span><br><span class="line">(dlv)</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡ŒÂ <code>c</code>Â å‘½ä»¤ï¼Œç›´æ¥è¿è¡Œåˆ°æ–­ç‚¹å¤„,æ‰§è¡ŒÂ <code>disass</code>Â å‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°æ±‡ç¼–æŒ‡ä»¤ï¼š<br><img src="https://images.hxzhouh.com/blog-images/2024/01/108eac7ada0934c2e59e6405c399e3ca.png" alt="Pasted image 20240116165330"></p>
<p>è¿™æ—¶ä½¿ç”¨Â <code>si</code>Â å‘½ä»¤ï¼Œæ‰§è¡Œå•æ¡æŒ‡ä»¤ï¼Œå¤šæ¬¡æ‰§è¡ŒÂ <code>si</code>ï¼Œå°±ä¼šæ‰§è¡Œåˆ° map èµ‹å€¼å‡½æ•°Â &#96;mapassign_fast64:<br><img src="https://images.hxzhouh.com/blog-images/2024/01/df61dc4321789a163071d054e2d40f4b.png" alt="Pasted image 20240116165429"><br><img src="https://images.hxzhouh.com/blog-images/2024/01/c9223b5250b9fdf891adfaeee8493633.png" alt="Pasted image 20240116170428"><br>ç„¶åæˆ‘ä»¬åœ¨ map_fast64.goä¸Šé¢æ·»åŠ ä¸€ä¸ªæ–­ç‚¹ï¼Œ</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">b /opt/homebrew/Cellar/go/1.21.6/libexec/src/runtime/map_fast64.go:93</span><br></pre></td></tr></table></figure>
<p>è¿™æ—¶å†ç”¨å•æ­¥å‘½ä»¤Â <code>s</code>ï¼Œå°±ä¼šè¿›å…¥åˆ¤æ–­ h çš„å€¼ä¸º nil çš„åˆ†æ”¯ï¼Œç„¶åæ‰§è¡ŒÂ <code>panic</code>Â å‡½æ•°ï¼š<br><img src="https://images.hxzhouh.com/blog-images/2024/01/3c305ca7f39d3b6bd35f5d640d5d7ef1.png" alt="Pasted image 20240116170619"></p>
<p><img src="https://images.hxzhouh.com/blog-images/2024/01/123a0062745492be1a90b5028331faea.png" alt="Pasted image 20240116170945"><br>è‡³æ­¤ï¼Œå‘ nil çš„ map èµ‹å€¼æ—¶ï¼Œäº§ç”Ÿ panic çš„ä»£ç å°±è¢«æˆ‘ä»¬æ‰¾åˆ°äº†ã€‚æ¥ç€ï¼ŒæŒ‰å›¾ç´¢éª¥æ‰¾åˆ°å¯¹åº” runtime æºç çš„ä½ç½®ï¼Œå°±å¯ä»¥è¿›ä¸€æ­¥æ¢ç´¢äº†ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨Â <code>bt</code>Â å‘½ä»¤çœ‹åˆ°è°ƒç”¨æ ˆï¼š<br><img src="https://images.hxzhouh.com/blog-images/2024/01/6cd9f5f16328f257c5020ac976a8ba42.png" alt="Pasted image 20240116171018"><br>ä½¿ç”¨Â <code>frame 1</code>Â å‘½ä»¤å¯ä»¥è·³è½¬åˆ°ç›¸åº”ä½ç½®ã€‚è¿™é‡ŒÂ <code>1</code>Â å¯¹åº”å›¾ä¸­çš„Â <code>main.go:5</code>ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å‰é¢æ‰“æ–­ç‚¹çš„åœ°æ–¹ï¼Œæ˜¯ä¸æ˜¯éå¸¸é…·ç‚«ã€‚</p>
<p>ä¸Šé¢è¿™å¼ å›¾é‡Œæˆ‘ä»¬ä¹Ÿèƒ½æ¸…æ¥šåœ°çœ‹åˆ°ï¼Œç”¨æˆ· goroutine å…¶å®æ˜¯è¢« goexit å‡½æ•°ä¸€è·¯è°ƒç”¨è¿‡æ¥çš„ã€‚å½“ç”¨æˆ· goroutine æ‰§è¡Œå®Œæ¯•åï¼Œå°±ä¼šå›åˆ° goexit å‡½æ•°åšä¸€äº›æ”¶å°¾å·¥ä½œã€‚å½“ç„¶ï¼Œè¿™æ˜¯é¢˜å¤–è¯äº†ã€‚</p>
<h2 id="å¦å¤–ï¼Œç”¨-dlv-ä¹Ÿèƒ½å¹²ç¬¬äºŒéƒ¨åˆ†â€œæ‰¾åˆ°-runtime-æºç â€çš„æ´»ã€‚-æ€»ç»“ä»Šå¤©ç³»ç»Ÿåœ°è®²äº†å‡ æ‹›é€šè¿‡å‘½ä»¤å’Œå·¥å…·æŸ¥çœ‹ç”¨æˆ·ä»£ç å¯¹åº”çš„-runtime-æºç æˆ–è€…æ±‡ç¼–ä»£ç çš„æ–¹æ³•ï¼Œéå¸¸å®ç”¨ã€‚æœ€åå†æ±‡æ€»ä¸€ä¸‹ï¼š1-go-tool-compile2-go-tool-objdump3-dlvåé¢ï¼Œæˆ‘ä»¬ä¼šç”¨è¿™äº›å·¥å…·ç»§ç»­åˆ†æ-goè¯­è¨€çš„æºç ï¼Œæ¯”å¦‚map-slice-ç­‰ï¼Œæœ‰äº†è¿™äº›å·¥å…·ï¼Œæˆ‘ä»¬çš„å­¦ä¹ è¿‡ç¨‹ä¼šäº‹åŠåŠŸå€ã€‚"><a href="#å¦å¤–ï¼Œç”¨-dlv-ä¹Ÿèƒ½å¹²ç¬¬äºŒéƒ¨åˆ†â€œæ‰¾åˆ°-runtime-æºç â€çš„æ´»ã€‚-æ€»ç»“ä»Šå¤©ç³»ç»Ÿåœ°è®²äº†å‡ æ‹›é€šè¿‡å‘½ä»¤å’Œå·¥å…·æŸ¥çœ‹ç”¨æˆ·ä»£ç å¯¹åº”çš„-runtime-æºç æˆ–è€…æ±‡ç¼–ä»£ç çš„æ–¹æ³•ï¼Œéå¸¸å®ç”¨ã€‚æœ€åå†æ±‡æ€»ä¸€ä¸‹ï¼š1-go-tool-compile2-go-tool-objdump3-dlvåé¢ï¼Œæˆ‘ä»¬ä¼šç”¨è¿™äº›å·¥å…·ç»§ç»­åˆ†æ-goè¯­è¨€çš„æºç ï¼Œæ¯”å¦‚map-slice-ç­‰ï¼Œæœ‰äº†è¿™äº›å·¥å…·ï¼Œæˆ‘ä»¬çš„å­¦ä¹ è¿‡ç¨‹ä¼šäº‹åŠåŠŸå€ã€‚" class="headerlink" title="å¦å¤–ï¼Œç”¨ dlv ä¹Ÿèƒ½å¹²ç¬¬äºŒéƒ¨åˆ†â€œæ‰¾åˆ° runtime æºç â€çš„æ´»ã€‚# æ€»ç»“ä»Šå¤©ç³»ç»Ÿåœ°è®²äº†å‡ æ‹›é€šè¿‡å‘½ä»¤å’Œå·¥å…·æŸ¥çœ‹ç”¨æˆ·ä»£ç å¯¹åº”çš„ runtime æºç æˆ–è€…æ±‡ç¼–ä»£ç çš„æ–¹æ³•ï¼Œéå¸¸å®ç”¨ã€‚æœ€åå†æ±‡æ€»ä¸€ä¸‹ï¼š1. go tool compile2. go tool objdump3. dlvåé¢ï¼Œæˆ‘ä»¬ä¼šç”¨è¿™äº›å·¥å…·ç»§ç»­åˆ†æ goè¯­è¨€çš„æºç ï¼Œæ¯”å¦‚map slice ç­‰ï¼Œæœ‰äº†è¿™äº›å·¥å…·ï¼Œæˆ‘ä»¬çš„å­¦ä¹ è¿‡ç¨‹ä¼šäº‹åŠåŠŸå€ã€‚ "></a>å¦å¤–ï¼Œç”¨ dlv ä¹Ÿèƒ½å¹²ç¬¬äºŒéƒ¨åˆ†â€œæ‰¾åˆ° runtime æºç â€çš„æ´»ã€‚<br># æ€»ç»“<br>ä»Šå¤©ç³»ç»Ÿåœ°è®²äº†å‡ æ‹›é€šè¿‡å‘½ä»¤å’Œå·¥å…·æŸ¥çœ‹ç”¨æˆ·ä»£ç å¯¹åº”çš„ runtime æºç æˆ–è€…æ±‡ç¼–ä»£ç çš„æ–¹æ³•ï¼Œéå¸¸å®ç”¨ã€‚æœ€åå†æ±‡æ€»ä¸€ä¸‹ï¼š<br>1. go tool compile<br>2. go tool objdump<br>3. dlv<br>åé¢ï¼Œæˆ‘ä»¬ä¼šç”¨è¿™äº›å·¥å…·ç»§ç»­åˆ†æ goè¯­è¨€çš„æºç ï¼Œæ¯”å¦‚map slice ç­‰ï¼Œæœ‰äº†è¿™äº›å·¥å…·ï¼Œæˆ‘ä»¬çš„å­¦ä¹ è¿‡ç¨‹ä¼šäº‹åŠåŠŸå€ã€‚ </h2><p>å¦‚æœä½ å–œæ¬¢æˆ‘çš„æ–‡ç« ï¼Œæ¬¢è¿ç»™æˆ‘followingè·Ÿ ğŸ‘ï¼Œè¿™å¯¹æˆ‘å¾ˆæœ‰å¸®åŠ©ã€‚</p>
]]></content>
      <categories>
        <category>go</category>
      </categories>
      <tags>
        <tag>Go</tag>
      </tags>
  </entry>
  <entry>
    <title>ç©è½¬memos</title>
    <url>/2023/11/26/%E7%8E%A9%E8%BD%ACmemos/</url>
    <content><![CDATA[<p>memos æ˜¯ä¸€ä¸ªå¼€æºçš„ï¼Œç±»ä¼¼flomo çš„ ç¬”è®°æœåŠ¡ï¼ŒåŒæ—¶æ”¯æŒï¼Œå¾®ä¿¡å°ç¨‹åºã€Obsidianã€logseq ç­‰æ•ˆç‡å·¥å…·çš„è”åŠ¨ï¼Œå¯ç©æ€§æ¯”è¾ƒå¥½ã€‚</p>
<span id="more"></span>
<h2 id="æ­å»º"><a href="#æ­å»º" class="headerlink" title="æ­å»º"></a>æ­å»º</h2><p>memos å®˜æ–¹æä¾›dockerï¼Œæ‰€ä»¥åªéœ€è¦å†ä»»æ„ä¸€å°æœ‰å®‰è£…docker çš„æœºå™¨ä¸Šå°±å¯ä»¥å®‰è£…è¿è¡Œã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -d --name memos -p 5230:5230 -v ~/.memos/:/var/opt/memos ghcr.io/usememos/memos:latest</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line">version: <span class="string">&#x27;3&#x27;</span></span><br><span class="line">services:</span><br><span class="line">  memos:</span><br><span class="line">    image: ghcr.io/usememos/memos:latest</span><br><span class="line">    container_name: memos</span><br><span class="line">    ports:</span><br><span class="line">      - <span class="number">5230</span>:<span class="number">5230</span></span><br><span class="line">    volumes:</span><br><span class="line">      - ~/.memos/:/var/opt/memos</span><br><span class="line">    restart: always</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­<code>~/.memos/</code> sqllite ç­‰æ•°æ®æ–‡ä»¶çš„ç›®å½•ï¼Œå¯ä»¥æŒ‡å®šæˆä»»æ„çš„ç›®å½•ã€‚<br>è¿™æ ·memos å°±èƒ½æ­å»ºäº†ï¼Œé€šè¿‡ <a href="http://127.0.0.1:5230/">http://127.0.0.1:5230</a> å°±å¯ä»¥è®¿é—®äº†ã€‚<br>æ•ˆæœå¦‚ä¸‹<br><img src="https://images.hxzhouh.com/blog-images/2023/11/a0575a5f76c15cfde90390fff6fc5595.png"></p>
<h3 id="å¯ç”¨-https"><a href="#å¯ç”¨-https" class="headerlink" title="å¯ç”¨ https"></a>å¯ç”¨ https</h3><p>ä¸ºäº†å®‰å…¨å¯ä»¥nginx + dns è§£æ æ”¯æŒhttpsã€‚è¿™é‡Œä¸å±•å¼€ï¼Œå¯ä»¥å‚è€ƒ å…¶ä»–åšå®¢æˆ–è€…<a href="https://hexo.hxzhouh.com/2023/09/23/%E5%9C%A8VPS%E4%B8%8A%E6%90%AD%E5%BB%BAvaultwarden/">åœ¨VPSä¸Šæ­å»ºvaultwarden</a>ï¼Œæˆ‘çš„é…ç½®æ˜¯</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">                listen 443 ssl;</span><br><span class="line">                server_name memos.hxzhouh.com;</span><br><span class="line"></span><br><span class="line">                ssl_certificate /etc/nginx/cert/public.pem;</span><br><span class="line">                ssl_certificate_key /etc/nginx/cert/private.key;</span><br><span class="line">                #ssl_certificate /path/to/your/ssl_certificate.pem; # æ‚¨çš„ SSL è¯ä¹¦è·¯å¾„</span><br><span class="line">                #ssl_certificate_key /path/to/your/ssl_certificate_key.key; # æ‚¨çš„ SSL å¯†é’¥è·¯å¾„</span><br><span class="line">                location / &#123;</span><br><span class="line">                        proxy_pass http://127.0.0.1:5230/;</span><br><span class="line">                        rewrite ^/(.*)$ /$1 break;</span><br><span class="line">                        proxy_redirect off;</span><br><span class="line">                        proxy_set_header Host $host;</span><br><span class="line">                        proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line">                        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">                        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">                        proxy_set_header Upgrade-Insecure-Requests 1;</span><br><span class="line">                        proxy_set_header X-Forwarded-Proto https;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ•°æ®å¤‡ä»½"><a href="#æ•°æ®å¤‡ä»½" class="headerlink" title="æ•°æ®å¤‡ä»½"></a>æ•°æ®å¤‡ä»½</h2><p>æ•°æ®å¤‡ä»½ï¼Œå¯ä»¥ä½¿ç”¨<code>rclone</code> å·¥å…·ï¼Œå¤‡ä»½<code>~/.memos/</code> ç›®å½•ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨ memos æä¾›çš„å°†æ•°æ®å­˜å‚¨åˆ°S3</p>
<h2 id="æ‹“å±•åŠŸèƒ½"><a href="#æ‹“å±•åŠŸèƒ½" class="headerlink" title="æ‹“å±•åŠŸèƒ½"></a>æ‹“å±•åŠŸèƒ½</h2><h3 id="æ‰“é€š-Obsidian"><a href="#æ‰“é€š-Obsidian" class="headerlink" title="æ‰“é€š Obsidian"></a>æ‰“é€š Obsidian</h3><h3 id="æ‰“é€šå¾®ä¿¡"><a href="#æ‰“é€šå¾®ä¿¡" class="headerlink" title="æ‰“é€šå¾®ä¿¡"></a>æ‰“é€šå¾®ä¿¡</h3><p>æ‰“é€šå¾®ä¿¡æ˜¯ç”¨ä¸€ä¸ªå°ç¨‹åºå®ç°çš„ï¼Œå…·ä½“å¯ä»¥å‚è€ƒè¿™ä¸ªé¡¹ç›®**<a href="https://github.com/Rabithua/memos_wmp">memos_wmp</a>**<br>ä½†æ˜¯ï¼Œæˆ‘æ²¡æœ‰å·²ç»å¤‡æ¡ˆçš„åŸŸåï¼Œæ‰€ä»¥è¿™æ­¥å°±æ”¾å¼ƒäº†ã€‚</p>
<h3 id="raycast"><a href="#raycast" class="headerlink" title="raycast"></a>raycast</h3><p>raycast æ”¯æŒ memos <a href="https://www.raycast.com/JakeYu/memos">æ’ä»¶</a>ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„åœ¨raycastä¸­ä½¿ç”¨ memos</p>
<h3 id="telegram"><a href="#telegram" class="headerlink" title="telegram"></a>telegram</h3><p>æ”¯æŒtelegramè½¬å‘æ¶ˆæ¯ä¿å­˜åˆ°memos ä¸­ï¼Œå‚è€ƒè¿™ä¸ª<a href="https://www.usememos.com/docs/integration/telegram-bot">Integration with Telegram Bot</a></p>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>memos</tag>
      </tags>
  </entry>
  <entry>
    <title>ARTS 0914-0920</title>
    <url>/2023/09/21/arts/ARTS%200914-0920/</url>
    <content><![CDATA[<p>RTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚</p>
<blockquote>
<p>æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š</p>
<p>Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜ï¼Œ</p>
<p>Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« ï¼Œ</p>
<p>Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯ï¼Œ</p>
<p>Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<h1 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm:"></a>Algorithm:</h1><p>leetCode: </p>
<p>82</p>
<p>83</p>
<h1 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h1><ul>
<li><a href="https://blog.pixielabs.ai/blog/ebpf-function-tracing/post/">https://blog.pixielabs.ai/blog/ebpf-function-tracing/post/</a></li>
<li></li>
</ul>
]]></content>
      <categories>
        <category>arts</category>
      </categories>
      <tags>
        <tag>arts</tag>
      </tags>
  </entry>
  <entry>
    <title>ARTS 0907-0913</title>
    <url>/2022/09/30/arts/ARTS%200907-0913/</url>
    <content><![CDATA[<p>ARTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚</p>
<blockquote>
<p>æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š</p>
<p>Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜ï¼Œ</p>
<p>Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« ï¼Œ</p>
<p>Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯ï¼Œ</p>
<p>Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<h1 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm:"></a>Algorithm:</h1><ul>
<li>leetcode <a href="https://leetcode-cn.com/problems/reverse-linked-list/">206 </a></li>
<li>leetcode <a href="https://leetcode-cn.com/problems/linked-list-cycle/solution/">141</a></li>
<li>leetcode 19</li>
</ul>
<h1 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h1><p><a href="https://tech.meituan.com/2020/08/13/openstack-to-kubernetes-in-meituan.html">Kuberneteså¦‚ä½•æ”¹å˜ç¾å›¢çš„äº‘åŸºç¡€è®¾æ–½ï¼Ÿ</a></p>
]]></content>
      <categories>
        <category>arts</category>
      </categories>
      <tags>
        <tag>arts</tag>
      </tags>
  </entry>
  <entry>
    <title>ARTS-2023-40</title>
    <url>/2023/10/02/arts/ARTS-2023-40/</url>
    <content><![CDATA[<blockquote>
<p>ARTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚ æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜ï¼Œ Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« ï¼Œ Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯ï¼Œ Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h2><p>#ç®—æ³• #leetcode</p>
<ol>
<li><a href="https://leetcode.cn/problems/excel-sheet-column-title/">168.Â Excelè¡¨åˆ—åç§°</a><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">convertToTitle</span><span class="params">(columnNumber <span class="type">int</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line"><span class="keyword">var</span> res <span class="type">string</span></span><br><span class="line"><span class="keyword">for</span> columnNumber &gt; <span class="number">0</span> &#123;</span><br><span class="line">	columnNumber-- <span class="comment">// 0-25</span></span><br><span class="line">	res = <span class="type">string</span>(<span class="type">rune</span>(columnNumber%<span class="number">26</span>+<span class="string">&#x27;A&#x27;</span>)) + res</span><br><span class="line">	columnNumber /= <span class="number">26</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
å°±æ˜¯æŠŠ int è½¬26è¿›åˆ¶ï¼Œè¾—è½¬ç›¸é™¤æ³•ï¼Ÿ å¥½åƒæ˜¯è¿™ä¸ªåå­—æŠŠï¼Ÿ</li>
</ol>
<h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><h2 id="å¥½æ–‡-é˜…è¯»1-https-buildkite-com-blog-goodbye-integers-hello-uuidsä½¿ç”¨uuid-ä½œä¸ºæ•°æ®åº“çš„ä¸»é”®Idï¼Œå…¼é¡¾æ€§èƒ½ä»¥åŠå¯ç”¨æ€§ï¼Œmongodb-çš„-uuid-å‰å…«ä½æ˜¯æ—¶é—´æˆ³ï¼Œå¯ä»¥ç”¨æ¥è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ã€‚-Technique-Tips"><a href="#å¥½æ–‡-é˜…è¯»1-https-buildkite-com-blog-goodbye-integers-hello-uuidsä½¿ç”¨uuid-ä½œä¸ºæ•°æ®åº“çš„ä¸»é”®Idï¼Œå…¼é¡¾æ€§èƒ½ä»¥åŠå¯ç”¨æ€§ï¼Œmongodb-çš„-uuid-å‰å…«ä½æ˜¯æ—¶é—´æˆ³ï¼Œå¯ä»¥ç”¨æ¥è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ã€‚-Technique-Tips" class="headerlink" title="#å¥½æ–‡ #é˜…è¯»1. https://buildkite.com/blog/goodbye-integers-hello-uuidsä½¿ç”¨uuid ä½œä¸ºæ•°æ®åº“çš„ä¸»é”®Idï¼Œå…¼é¡¾æ€§èƒ½ä»¥åŠå¯ç”¨æ€§ï¼Œmongodb çš„ uuid å‰å…«ä½æ˜¯æ—¶é—´æˆ³ï¼Œå¯ä»¥ç”¨æ¥è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ã€‚## Technique&#x2F;Tips"></a>#å¥½æ–‡ #é˜…è¯»<br>1. <a href="https://buildkite.com/blog/goodbye-integers-hello-uuids">https://buildkite.com/blog/goodbye-integers-hello-uuids</a><br>ä½¿ç”¨uuid ä½œä¸ºæ•°æ®åº“çš„ä¸»é”®Idï¼Œå…¼é¡¾æ€§èƒ½ä»¥åŠå¯ç”¨æ€§ï¼Œ<br>mongodb çš„ uuid å‰å…«ä½æ˜¯æ—¶é—´æˆ³ï¼Œå¯ä»¥ç”¨æ¥è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ã€‚<br>## Technique&#x2F;Tips</h2><p>#å·¥å…·  </p>
<ol>
<li>#æµè§ˆå™¨æ’ä»¶ <a href="https://www.trancy.org/zh-cn">trancy</a> ä¸€ä¸ªæ²‰æµ¸å¼çš„ç¿»è¯‘æ’ä»¶ï¼Œé›†æˆäº†aiåŠŸèƒ½ï¼Œç›®å‰è¿™ç§æ’ä»¶è¶Šæ¥è¶Šå¤šäº†ã€‚</li>
</ol>
<h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2><p>#ç¢ç¢å¿µ #è§‚ç‚¹</p>
<ol>
<li>æˆ‘è¦åšæŒå†™é•¿æ–‡åšå®¢ã€‚ã€‚</li>
<li>çœ‹åˆ°å¥½çœ‹çš„åšå®¢ï¼Œè¿˜æ˜¯è¦æ”¶è—èµ·æ¥ï¼Œæˆ‘çš„è®°å¿†åŠ›åº”è¯¥åªæœ‰ä¸ƒç§’ã€‚</li>
</ol>
]]></content>
      <categories>
        <category>arts</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>leetcode</tag>
        <tag>å¥½æ–‡</tag>
        <tag>é˜…è¯»</tag>
        <tag>å·¥å…·</tag>
        <tag>ç¢ç¢å¿µ</tag>
        <tag>è§‚ç‚¹</tag>
      </tags>
  </entry>
  <entry>
    <title>ARTS-2023-38</title>
    <url>/2023/09/22/arts/ARTS-2023-38/</url>
    <content><![CDATA[<h1 id="ARTS-2023-38"><a href="#ARTS-2023-38" class="headerlink" title="ARTS-2023-38"></a>ARTS-2023-38</h1><blockquote>
<p>ARTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚ æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜ï¼Œ Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« ï¼Œ Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯ï¼Œ Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<span id="more"></span>
<h2 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h2><hr>
<p>#ç®—æ³• #leetcode</p>
<p><a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/description/?envType=study-plan-v2&envId=top-interview-150">leetCode 122  </a><br>ç”¨[[åŠ¨æ€è§„åˆ’]]  æ¥åšè¿™ä¸ªé¢˜ç›®</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxProfit</span><span class="params">(prices []<span class="type">int</span>)</span></span> (ans <span class="type">int</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="built_in">len</span>(prices); i++ &#123;</span><br><span class="line">        ans += max(<span class="number">0</span>, prices[i]-prices[i<span class="number">-1</span>])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>[[55. è·³è·ƒæ¸¸æˆ]]</p>
<h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><hr>
<p>#å¥½æ–‡ #é˜…è¯»</p>
<p><a href="https://go.googlesource.com/proposal/+/master/design/11502-securitypolicy.md">https://go.googlesource.com/proposal/+/master/design/11502-securitypolicy.md</a></p>
<p>æœ€è¿‘å¼€å§‹çœ‹ go çš„ä¸€äº›è®¾è®¡æ–‡æ¡£ï¼Œ è€ƒå¤çš„ï¼Œ æ–°çš„éƒ½çœ‹ï¼Œçœ‹ç€ç°åœ¨ä¸€äº›ç†Ÿæ‚‰çš„ä¸œè¥¿ä»¥å‰æ˜¯æ€ä¹ˆè¢«è®¾è®¡å‡ºæ¥çš„ï¼Œ å¾ˆæœ‰æ„æ€</p>
<h2 id="Technique-Tips"><a href="#Technique-Tips" class="headerlink" title="Technique&#x2F;Tips"></a>Technique&#x2F;Tips</h2><hr>
<p>#å·¥å…·  </p>
<p>[[omnivore]] ä¸€ä¸ªå¼€æºçš„ç¨åé˜…è¯»è½¯ä»¶ï¼Œæœ‰ç‚¹ç±»ä¼¼readwise çš„readerï¼Œç›®å‰å±äºèµ·æ­¥é˜¶æ®µæŠŠï¼Œæœ‰æ´»è·ƒçš„å¼€å‘åœˆå­ï¼Œä¼šä¸€ç›´å…³æ³¨è¿™ä¸ªè½¯ä»¶ã€‚</p>
<ul>
<li><a href="https://linux.cn/article-16102-1.html">https://linux.cn/article-16102-1.html</a></li>
<li><a href="https://blog.omnivore.app/p/getting-started-with-omnivore">https://blog.omnivore.app/p/getting-started-with-omnivore</a></li>
</ul>
<p>ä¸€é”®å±è”½Twitterä¸Šçš„ é»„æ¨ï¼Œå—å¤Ÿäº†ã€‚ã€‚<br><a href="https://github.com/daymade/Twitter-Block-Porn">https://github.com/daymade/Twitter-Block-Porn</a></p>
<h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2><hr>
<p>#ç¢ç¢å¿µ #è§‚ç‚¹</p>
]]></content>
      <categories>
        <category>arts</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>arts</tag>
        <tag>leetcode</tag>
        <tag>å¥½æ–‡</tag>
        <tag>é˜…è¯»</tag>
        <tag>å·¥å…·</tag>
        <tag>ç¢ç¢å¿µ</tag>
        <tag>è§‚ç‚¹</tag>
      </tags>
  </entry>
  <entry>
    <title>ARTS-2023-42</title>
    <url>/2023/10/16/arts/ARTS-2023-42/</url>
    <content><![CDATA[<blockquote>
<p>ARTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚ æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š<br>Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜<br>Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« <br>Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯<br>Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><p>#ç®—æ³• #leetcode  </p>
<ol>
<li>leetcode 45 <figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">jump</span><span class="params">(nums []<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;  </span><br><span class="line">    length := <span class="built_in">len</span>(nums)  </span><br><span class="line">    end := <span class="number">0</span>  </span><br><span class="line">    maxPosition := <span class="number">0</span>  </span><br><span class="line">    steps := <span class="number">0</span>  </span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; length<span class="number">-1</span>; i++ &#123;  </span><br><span class="line">       maxPosition = max(maxPosition, i+nums[i])  </span><br><span class="line">       <span class="keyword">if</span> i == end &#123;  </span><br><span class="line">          end = maxPosition  </span><br><span class="line">          steps++  </span><br><span class="line">       &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> steps  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><p>#å¥½æ–‡ #é˜…è¯»<br><a href="https://substack.com/redirect/5c83001c-e5fb-4213-8871-41e93c28dfb1?j=eyJ1IjoibHNxdmoifQ.3oGmLofndxScvklxajPKu05xrXKSE0fYF651WfgCv6U">å¦‚ä½•åšå‡ºä¼Ÿå¤§çš„å·¥ä½œï¼Ÿ</a> </p>
<ul>
<li><input checked="" disabled="" type="checkbox"> <a href="things:///show?id=NU7XfixHt1ewVSJ3hXEteZ">é˜…è¯»</a> âœ… 2023-11-08<br><a href="https://www.brendangregg.com/linuxperf.html">Linux Performance</a></li>
</ul>
<h2 id="Technique-Tips"><a href="#Technique-Tips" class="headerlink" title="Technique&#x2F;Tips"></a>Technique&#x2F;Tips</h2><p>#å·¥å…·  </p>
<h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2><p>#ç¢ç¢å¿µ #è§‚ç‚¹</p>
]]></content>
      <categories>
        <category>arts</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>leetcode</tag>
        <tag>å¥½æ–‡</tag>
        <tag>é˜…è¯»</tag>
        <tag>å·¥å…·</tag>
        <tag>ç¢ç¢å¿µ</tag>
        <tag>è§‚ç‚¹</tag>
      </tags>
  </entry>
  <entry>
    <title>ARTS-2023-41</title>
    <url>/2023/10/09/arts/ARTS-2023-41/</url>
    <content><![CDATA[<blockquote>
<p>ARTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚ æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜ï¼Œ Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« ï¼Œ Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯ï¼Œ Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h2><p>#ç®—æ³• #leetcode<br>leetcod 344 ç¿»è½¬å­—ç¬¦ä¸² æ°´äº†ä¸€é“é¢˜</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseString</span><span class="params">(s []<span class="type">byte</span>)</span></span> &#123;  </span><br><span class="line">    <span class="keyword">for</span> i, j := <span class="number">0</span>, <span class="built_in">len</span>(s)<span class="number">-1</span>; i &lt; j; i, j = i+<span class="number">1</span>, j<span class="number">-1</span> &#123;  </span><br><span class="line">       s[i], s[j] = s[j], s[i]  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseString1</span><span class="params">(s []<span class="type">byte</span>)</span></span> &#123;  </span><br><span class="line">    l := <span class="number">0</span>  </span><br><span class="line">    r := <span class="built_in">len</span>(s) - <span class="number">1</span>  </span><br><span class="line">    <span class="keyword">for</span> l &lt; r &#123;  </span><br><span class="line">       s[l] ^= s[r]  </span><br><span class="line">       s[r] ^= s[l]  </span><br><span class="line">       s[l] ^= s[r]  </span><br><span class="line">       r--  </span><br><span class="line">       l++  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><p>#å¥½æ–‡ #é˜…è¯»<br><a href="https://xargin.com/misc/">https://xargin.com/misc/</a>  æ›¹å¤§çš„æ–‡ç« ï¼Œ</p>
<h2 id="Technique-Tips"><a href="#Technique-Tips" class="headerlink" title="Technique&#x2F;Tips"></a>Technique&#x2F;Tips</h2><p>#å·¥å…·  </p>
<p>åˆ†äº«ä¸€ä¸ªå‘½ä»¤ã€‚ç”¨æ¥æŸ¥æ—¥å¿—ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cat log.2023-10-13-15 |grep ERROR |grep &quot;.onEventWithoutMerge:93&quot; |awk -F&#x27;reqid&#x27; &#x27;&#123;print $2&#125;&#x27; |awk &#x27;&#123;print $1&#125;&#x27; |xargs -P 4 -I &#123;&#125; grep &#123;&#125; log.2023-10-13-15 &gt;allerr.log</span><br></pre></td></tr></table></figure>
<h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2><p>#ç¢ç¢å¿µ #è§‚ç‚¹</p>
<p>å†æˆ‘å¸å·¥ä½œï¼Œè§‰å¾—æ•ˆç‡æ˜¯æ²¡ç”¨çš„ï¼Œç»å¤§å¤šæ•°å·¥ä½œï¼Œéƒ½æ˜¯å¾ˆç®€å•çš„åŸºæœ¬å·¥ä½œã€‚ä½†æ˜¯ï¼Œè¿™ç§æƒ…å†µèƒ½æŒç»­å¤šä¹…ï¼Ÿè¿˜æ˜¯è¦é‡è§†æ•ˆç‡èµ·æ¥ã€‚</p>
]]></content>
      <categories>
        <category>arts</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>leetcode</tag>
        <tag>å¥½æ–‡</tag>
        <tag>é˜…è¯»</tag>
        <tag>å·¥å…·</tag>
        <tag>ç¢ç¢å¿µ</tag>
        <tag>è§‚ç‚¹</tag>
      </tags>
  </entry>
  <entry>
    <title>ARTS-2023-44</title>
    <url>/2023/10/30/arts/ARTS-2023-44/</url>
    <content><![CDATA[<blockquote>
<p>ARTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚ æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š<br>Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜<br>Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« <br>Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯<br>Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><p>#ç®—æ³• #leetcode</p>
<h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><p>#å¥½æ–‡ #é˜…è¯»<br><a href="https://github.com/ZachGoldberg/Startup-CTO-Handbook">https://github.com/ZachGoldberg/Startup-CTO-Handbook</a>  </p>
<h2 id="Technique-Tips"><a href="#Technique-Tips" class="headerlink" title="Technique&#x2F;Tips"></a>Technique&#x2F;Tips</h2><p>#å·¥å…·  </p>
<h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2><p>#ç¢ç¢å¿µ #è§‚ç‚¹</p>
]]></content>
      <categories>
        <category>arts</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>leetcode</tag>
        <tag>å¥½æ–‡</tag>
        <tag>é˜…è¯»</tag>
        <tag>å·¥å…·</tag>
        <tag>ç¢ç¢å¿µ</tag>
        <tag>è§‚ç‚¹</tag>
      </tags>
  </entry>
  <entry>
    <title>ARTS-2023-45</title>
    <url>/2023/11/06/arts/ARTS-2023-45/</url>
    <content><![CDATA[<blockquote>
<p>ARTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚ æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š<br>Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜<br>Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« <br>Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯<br>Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><p>#ç®—æ³• #leetcode</p>
<h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><p>#å¥½æ–‡ #é˜…è¯»</p>
<p><a href="http://pf.bigpixel.cn/zh-CN/city/1.html">http://pf.bigpixel.cn/zh-CN/city/1.html</a><br>ä¸€ä¸ªæŒºæœ‰è¶£çš„ç½‘ç«™ï¼Œç”¨åƒäº¿åƒç´ çœ‹ä¸–ç•Œå„ä¸ªåŸå¸‚<br><a href="https://netflixtechblog.com/linux-performance-analysis-in-60-000-milliseconds-accc10403c55">60000 æ¯«ç§’ Linux æ€§èƒ½åˆ†æ</a><br>è¿™ç¯‡æ–‡ç« ä»‹ç»äº†åœ¨ 60 ç§’å†…åˆ†æ Linux æ€§èƒ½é—®é¢˜çš„æ–¹æ³•ã€‚ä½œè€…é¦–å…ˆä»‹ç»äº†ä¸€äº›åŸºæœ¬çš„æ€§èƒ½æŒ‡æ ‡ï¼ŒåŒ…æ‹¬ CPU ä½¿ç”¨ç‡ã€å†…å­˜ä½¿ç”¨ç‡ã€ç½‘ç»œæµé‡å’Œ I&#x2F;O æ“ä½œã€‚ç„¶åï¼Œä½œè€…ä»‹ç»äº†ä¸€äº›ç”¨äºç›‘æ§è¿™äº›æŒ‡æ ‡çš„å·¥å…·ï¼ŒåŒ…æ‹¬ topã€htopã€vmstatã€iostat å’Œ netstatã€‚</p>
<h2 id="Technique-Tips"><a href="#Technique-Tips" class="headerlink" title="Technique&#x2F;Tips"></a>Technique&#x2F;Tips</h2><p>#å·¥å…·<br>æ‰¹é‡é‡å‘½å æ–‡ä»¶åç¼€</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">for file in *.md; do mv &quot;$file&quot; &quot;$&#123;file%.md&#125;.txt&quot;; done</span><br></pre></td></tr></table></figure>
<h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2><p>#ç¢ç¢å¿µ #è§‚ç‚¹</p>
]]></content>
      <categories>
        <category>arts</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>leetcode</tag>
        <tag>å¥½æ–‡</tag>
        <tag>é˜…è¯»</tag>
        <tag>å·¥å…·</tag>
        <tag>ç¢ç¢å¿µ</tag>
        <tag>è§‚ç‚¹</tag>
      </tags>
  </entry>
  <entry>
    <title>ARTS-2023-46</title>
    <url>/2023/11/13/arts/ARTS-2023-46/</url>
    <content><![CDATA[<blockquote>
<p>ARTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚ æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š<br>Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜<br>Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« <br>Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯<br>Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><p>#ç®—æ³• #leetcode</p>
<ol>
<li><a href="https://leetcode.cn/problems/roman-to-integer/description/?envType=study-plan-v2&envId=top-interview-150">leetcode 13 </a><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> symbolValues = <span class="keyword">map</span>[<span class="type">byte</span>]<span class="type">int</span>&#123;<span class="string">&#x27;I&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;V&#x27;</span>: <span class="number">5</span>, <span class="string">&#x27;X&#x27;</span>: <span class="number">10</span>, <span class="string">&#x27;L&#x27;</span>: <span class="number">50</span>, <span class="string">&#x27;C&#x27;</span>: <span class="number">100</span>, <span class="string">&#x27;D&#x27;</span>: <span class="number">500</span>, <span class="string">&#x27;M&#x27;</span>: <span class="number">1000</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ€è·¯</span></span><br><span class="line"><span class="comment">// æ­£å¸¸æ¥è¯´ï¼Œå–å‡ºæ¯ä¸ªå­—ç¬¦å¯¹åº”çš„å€¼ï¼Œç„¶ååˆ¤æ–­å‰åå¤§å°ï¼Œå¦‚æœå‰é¢çš„æ¯”åé¢çš„å°ï¼Œé‚£ä¹ˆå°±æ˜¯å‡å»å‰é¢çš„å€¼ï¼Œå¦åˆ™å°±æ˜¯åŠ ä¸Šå‰é¢çš„å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">romanToInt</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	n := <span class="built_in">len</span>(s)</span><br><span class="line">	ans := <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="keyword">range</span> s &#123;</span><br><span class="line">		value := symbolValues[s[i]]</span><br><span class="line">		<span class="keyword">if</span> i &lt; n<span class="number">-1</span> &amp;&amp; value &lt; symbolValues[s[i+<span class="number">1</span>]] &#123;</span><br><span class="line">			ans -= value</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			ans += value</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><p>å­¦ä¹ èµ„æ–™::<a href="https://braydie.gitbooks.io/how-to-be-a-programmer/content/zh/"># How to be a Programmer ä¸­æ–‡ç‰ˆ</a></p>
<p>#å¥½æ–‡ #é˜…è¯»</p>
<h2 id="Technique-Tips"><a href="#Technique-Tips" class="headerlink" title="Technique&#x2F;Tips"></a>Technique&#x2F;Tips</h2><p>#å·¥å…·  </p>
<ol>
<li>Microsoft InShellisenseæ’ä»¶<br><a href="https://github.com/microsoft/inshellisense">inshellisense</a> ä¸º shell æä¾› IDE é£æ ¼çš„è‡ªåŠ¨å®ŒæˆåŠŸèƒ½ã€‚å®ƒæ˜¯ä¸€ä¸ªç”¨äºè‡ªåŠ¨å®Œæˆçš„ç»ˆç«¯æœ¬æœºè¿è¡Œæ—¶ï¼Œæ”¯æŒ 600 å¤šä¸ªå‘½ä»¤è¡Œå·¥å…·ã€‚ inshellisense æ”¯æŒ Windowsã€Linux å’Œ MacOSã€‚</li>
</ol>
<p>è¿™ä¸ªæ’ä»¶ éœ€è¦é€‚åº”ä¸€ä¸‹ï¼Œå“ˆå“ˆï¼Œå¯¹ä»¥å‰çš„ä¸€äº›ä¹ æƒ¯ä¾µå…¥è›®å¤§çš„ã€‚<br> 2. gitåˆ é™¤æ²¡è¢«è·Ÿè¸ªçš„ æ–‡ä»¶<br> git clean -f -d -x  git åˆ é™¤ æ²¡è¢«è·Ÿè¸ªçš„æ–‡ä»¶ï¼Œæœ‰æ—¶å€™æœ‰ç”¨æŠŠã€‚æ¯”å¦‚é¢‘ç¹åˆ‡æ¢åˆ†æ”¯ã€‚</p>
<h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2><p>#ç¢ç¢å¿µ #è§‚ç‚¹</p>
<ol>
<li>æ˜¨æ™šï¼ˆ2023-11-12ï¼‰ é˜¿é‡Œäº‘æ•…éšœäº†ï¼Œå½“æ—¶åœ¨åšé¥­ï¼Œå¬åˆ°è¿™ä¸ªäº‹æƒ…åï¼Œè§‰å¾—ä¸å¯æ€è®®ï¼Œåé¢æœ‰å“ˆå“ˆå¤§ç¬‘ï¼Œå˜²è®½maxï¼Œåˆ°äº†ä»Šå¤©ï¼Œæ„Ÿè§‰æˆ‘æœ‰ä»€ä¹ˆèµ„æ ¼ç¬‘çš„å‡ºæ¥ï¼Œé˜¿é‡Œäº‘å·²ç»å¾ˆä¼Ÿå¤§äº†ï¼Œæˆ‘èƒ½å†™å‡ºè¿™æ ·çš„ç³»ç»Ÿï¼Ÿä¸è¿‡è¿˜æ˜¯å¾—å‡ºä¸‹é¢çš„æ•™è®­<ol>
<li>äº‘ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œäº‘ä¹Ÿå¾ˆè´µã€‚</li>
<li>ä¿æŒæ•¬ç•ã€‚</li>
</ol>
</li>
<li>æœ¬å‘¨è¯»å®Œäº†ã€Šä»£ç æ•´æ´ä¹‹é“ï¼šç¨‹åºå‘˜çš„èŒä¸šç´ å…»ã€‹æ…¢æ…¢çš„å›åˆ°äº†æ­£å¸¸çš„èŠ‚å¥äº†ï¼Œçœ‹ä¹¦å†™æ–‡å­—ï¼ŒObsidiançš„æ‘¸ç´¢ä¹Ÿå¼€å§‹æœ‰ç‚¹é—¨é“äº†ï¼Œä¸€åˆ‡å¼€å§‹æ…¢æ…¢çš„å¥½è½¬ã€‚<a href=""></a></li>
</ol>
]]></content>
      <categories>
        <category>arts</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>leetcode</tag>
        <tag>å¥½æ–‡</tag>
        <tag>é˜…è¯»</tag>
        <tag>å·¥å…·</tag>
        <tag>ç¢ç¢å¿µ</tag>
        <tag>è§‚ç‚¹</tag>
      </tags>
  </entry>
  <entry>
    <title>ARTS-2023-43</title>
    <url>/2023/10/23/arts/ARTS-2023-43/</url>
    <content><![CDATA[<blockquote>
<p>ARTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚ æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š<br>Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜<br>Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« <br>Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯<br>Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<span id="more"></span>

<p>æœ¬å‘¨å†å¤‡è€ƒä»¥åŠäº¤æ¥çš„äº‹æƒ…ï¼Œarts åŸºæœ¬ä¸Šéƒ½æç½®äº†ã€‚ã€‚ã€‚ã€‚ã€‚ ğŸ¤”</p>
<h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><p>#ç®—æ³• #leetcode</p>
<h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><p>#å¥½æ–‡ #é˜…è¯»</p>
<h2 id="Technique-Tips"><a href="#Technique-Tips" class="headerlink" title="Technique&#x2F;Tips"></a>Technique&#x2F;Tips</h2><p>#å·¥å…·  </p>
<h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2><p>#ç¢ç¢å¿µ #è§‚ç‚¹</p>
<p>æœ€åï¼Œæˆ‘æƒ³è¯´æœ‰æ—¶å€™ç¬¨åŠæ³•æ‰æ˜¯æœ€èªæ˜çš„ï¼Œæ…¢æ…¢æ¥æ‰æ˜¯æœ€å¿«çš„ã€‚è¯»æ–‡æ¡£ä¸ä¸€å®šèƒ½ç›´æ¥ç»™æˆ‘ä»¬ç”Ÿæ´»çš„æœ€ä¼˜è§£ï¼Œä½†æ˜¯ä»–èƒ½è®©æˆ‘ä»¬è¶‹è¿‘äºçŸ¥é“æœ€ä¼˜è§£çš„è·¯å¾„ã€‚ç”Ÿæ´»å°±åƒä¸€åœºå†’é™©ï¼Œä¹Ÿè®¸æ–‡æ¡£å°±æ˜¯æˆ‘ä»¬æ‰‹ä¸­çš„åœ°å›¾å’ŒæŒ‡å—é’ˆã€‚  æ…¢æ…¢æ¥ä¸ç€æ€¥ï¼Œæ—¶é—´è¿˜å¾ˆé•¿ã€‚</p>
]]></content>
      <categories>
        <category>arts</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>leetcode</tag>
        <tag>å¥½æ–‡</tag>
        <tag>é˜…è¯»</tag>
        <tag>å·¥å…·</tag>
        <tag>ç¢ç¢å¿µ</tag>
        <tag>è§‚ç‚¹</tag>
      </tags>
  </entry>
  <entry>
    <title>ARTS-2023-39</title>
    <url>/2023/09/27/arts/ARTS-2023-39/</url>
    <content><![CDATA[<blockquote>
<p>ARTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚ æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜ï¼Œ Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« ï¼Œ Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯ï¼Œ Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h2><hr>
<h2 id="ç®—æ³•-leetcodeæœ¬å‘¨æ”¾å‡å‰ä¸€å‘¨ï¼Œæ¯”è¾ƒé¢“åºŸï¼Œå¾ˆå¤šéƒ½æ²¡å®Œæˆã€‚-Review"><a href="#ç®—æ³•-leetcodeæœ¬å‘¨æ”¾å‡å‰ä¸€å‘¨ï¼Œæ¯”è¾ƒé¢“åºŸï¼Œå¾ˆå¤šéƒ½æ²¡å®Œæˆã€‚-Review" class="headerlink" title="#ç®—æ³• #leetcodeæœ¬å‘¨æ”¾å‡å‰ä¸€å‘¨ï¼Œæ¯”è¾ƒé¢“åºŸï¼Œå¾ˆå¤šéƒ½æ²¡å®Œæˆã€‚## Review"></a>#ç®—æ³• #leetcode<br>æœ¬å‘¨æ”¾å‡å‰ä¸€å‘¨ï¼Œæ¯”è¾ƒé¢“åºŸï¼Œå¾ˆå¤šéƒ½æ²¡å®Œæˆã€‚<br>## Review</h2><p>#å¥½æ–‡ #é˜…è¯»</p>
<h2 id="Technique-Tips"><a href="#Technique-Tips" class="headerlink" title="Technique&#x2F;Tips"></a>Technique&#x2F;Tips</h2><hr>
<p>#å·¥å…·  </p>
<ol>
<li>åœ¨æœ¬åœ°ç”Ÿæˆæµ‹è¯•è¯ä¹¦ã€‚ <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é¦–å…ˆï¼Œç”Ÿæˆä¸€ä¸ªRSAç§é’¥æ–‡ä»¶ï¼ˆ`server.key`ï¼‰ï¼š</span></span><br><span class="line">openssl genpkey -algorithm RSA -out server.key</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ¥ä¸‹æ¥ï¼Œç”Ÿæˆä¸€ä¸ªè‡ªç­¾åè¯ä¹¦è¯·æ±‚ï¼ˆCSRï¼‰ï¼š</span></span><br><span class="line">openssl req -new -key server.key -out server.csr</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åœ¨æ‰§è¡Œæ­¤å‘½ä»¤æ—¶ï¼Œæ‚¨å°†è¢«è¦æ±‚æä¾›ä¸€äº›è¯ä¹¦ä¿¡æ¯ï¼Œä¾‹å¦‚å›½å®¶ã€å·ã€åŸå¸‚ã€å…¬å¸ç­‰ã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€è¦æä¾›è¿™äº›ä¿¡æ¯ï¼Œæˆ–è€…æŒ‰ç…§é»˜è®¤å€¼ç•™ç©ºã€‚</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç°åœ¨ï¼Œä½¿ç”¨ç”Ÿæˆçš„ç§é’¥å’Œè¯ä¹¦è¯·æ±‚æ¥ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ï¼š</span></span><br><span class="line">openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt</span><br></pre></td></tr></table></figure>
å¦‚æœè¿™ä¸ªè¯ä¹¦å†æµè§ˆå™¨é‡Œé¢æ˜¾ç¤ºä¸å®‰å…¨ï¼Œå¯ä»¥å°è¯•ä¿¡ä»»æœ¬åœ°è¯ä¹¦</li>
</ol>
<blockquote>
<ol>
<li>æ‰“å¼€Chromeæµè§ˆå™¨ã€‚  </li>
<li>åœ¨åœ°å€æ ä¸­è¾“å…¥ <code>chrome://flags/#allow-insecure-localhost/</code> å¹¶æŒ‰ Enter é”®ã€‚  </li>
<li>æ‰¾åˆ°å¹¶å¯ç”¨ â€œAllow invalid certificates for resources loaded from localhostâ€ é€‰é¡¹ã€‚ </li>
<li>é‡æ–°å¯åŠ¨Chromeæµè§ˆå™¨ã€‚<br><img src="https://images.hxzhouh.com/blog-images/2023/09/c72bb8fc1990bb18c394ae237d8b4ad9.png" alt="image.png"></li>
</ol>
</blockquote>
<h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2><hr>
<p>#ç¢ç¢å¿µ #è§‚ç‚¹</p>
]]></content>
      <categories>
        <category>arts</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>leetcode</tag>
        <tag>å¥½æ–‡</tag>
        <tag>é˜…è¯»</tag>
        <tag>å·¥å…·</tag>
        <tag>ç¢ç¢å¿µ</tag>
        <tag>è§‚ç‚¹</tag>
      </tags>
  </entry>
  <entry>
    <title>ARTS-2023-47</title>
    <url>/2023/11/20/arts/ARTS-2023-47/</url>
    <content><![CDATA[<blockquote>
<p>ARTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚ æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š<br>Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜<br>Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« <br>Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯<br>Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><h3 id="leetcode-383"><a href="#leetcode-383" class="headerlink" title="leetcode 383"></a>leetcode 383</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">canConstruct</span><span class="params">(ransomNote <span class="type">string</span>, magazine <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;  </span><br><span class="line">    h := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">26</span>)  </span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> magazine &#123;  </span><br><span class="line">       h[v-<span class="string">&#x27;a&#x27;</span>]++  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> ransomNote &#123;  </span><br><span class="line">       <span class="keyword">if</span> h[v-<span class="string">&#x27;a&#x27;</span>] &gt; <span class="number">0</span> &#123;  </span><br><span class="line">          h[v-<span class="string">&#x27;a&#x27;</span>]--  </span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span>  </span><br><span class="line">       &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="49"><a href="#49" class="headerlink" title="49"></a>49</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">groupAnagrams</span><span class="params">(strs []<span class="type">string</span>)</span></span> [][]<span class="type">string</span> &#123;  </span><br><span class="line">  </span><br><span class="line">    r := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>][]<span class="type">string</span>, <span class="number">1000</span>)  </span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> strs &#123;  </span><br><span class="line">       key := <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">26</span>, <span class="number">26</span>)  </span><br><span class="line">       <span class="keyword">for</span> _, v1 := <span class="keyword">range</span> v &#123;  </span><br><span class="line">          key[v1-<span class="string">&#x27;a&#x27;</span>]++  </span><br><span class="line">       &#125;  </span><br><span class="line">       <span class="keyword">if</span> _, ok := r[<span class="type">string</span>(key)]; ok &#123;  </span><br><span class="line">          r[<span class="type">string</span>(key)] = <span class="built_in">append</span>(r[<span class="type">string</span>(key)], v)  </span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">          r[<span class="type">string</span>(key)] = []<span class="type">string</span>&#123;v&#125;  </span><br><span class="line">       &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    result := [][]<span class="type">string</span>&#123;&#125;  </span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> r &#123;  </span><br><span class="line">       result = <span class="built_in">append</span>(result, v)  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> result  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><p>1.<a href="https://medium.com/gitconnected/awesome-terminal-applications-e4a06022dffa"> Awesome Terminal Applications</a><br>    åŸºäºmac ç³»ç»Ÿï¼Œä»‹ç»äº†ç»ˆç«¯å·¥å…·ï¼Œçœ‹ä¸Šå»è›®é…·çš„ï¼Œç›®å‰å†ç”¨ tldr</p>
<h2 id="Technique-Tips"><a href="#Technique-Tips" class="headerlink" title="Technique&#x2F;Tips"></a>Technique&#x2F;Tips</h2><p>#æµè§ˆå™¨æ’ä»¶ <strong><a href="https://chromewebstore.google.com/detail/egejbknaophaadmhijkepokfchkbnelc?hl=en">Medium Parser</a> - ä¸€ä¸ªç”¨äºæŸ¥çœ‹ Medium ä»˜è´¹æ–‡ç« çš„æµè§ˆå™¨æ’ä»¶</strong>å®ƒçš„åŸç†æ˜¯é€šè¿‡ Google Web ç¼“å­˜æŸ¥çœ‹ Medium ä»˜è´¹æ–‡ç« ã€‚</p>
<h3 id="linux-sar"><a href="#linux-sar" class="headerlink" title="#linux sar"></a>#linux sar</h3><p><strong>sarå‘½ä»¤</strong>Â æ˜¯Linuxä¸‹ç³»ç»Ÿè¿è¡ŒçŠ¶æ€ç»Ÿè®¡å·¥å…·ï¼Œå®ƒå°†æŒ‡å®šçš„æ“ä½œç³»ç»ŸçŠ¶æ€è®¡æ•°å™¨æ˜¾ç¤ºåˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ã€‚sarå·¥å…·å°†å¯¹ç³»ç»Ÿå½“å‰çš„çŠ¶æ€è¿›è¡Œå–æ ·ï¼Œç„¶åé€šè¿‡è®¡ç®—æ•°æ®å’Œæ¯”ä¾‹æ¥è¡¨è¾¾ç³»ç»Ÿçš„å½“å‰è¿è¡ŒçŠ¶æ€ã€‚å®ƒçš„ç‰¹ç‚¹æ˜¯å¯ä»¥è¿ç»­å¯¹ç³»ç»Ÿå–æ ·ï¼Œè·å¾—å¤§é‡çš„å–æ ·æ•°æ®ã€‚å–æ ·æ•°æ®å’Œåˆ†æçš„ç»“æœéƒ½å¯ä»¥å­˜å…¥æ–‡ä»¶ï¼Œä½¿ç”¨å®ƒæ—¶æ¶ˆè€—çš„ç³»ç»Ÿèµ„æºå¾ˆå°ã€‚<br>å®ƒæä¾›äº†ä¸€ä¸‹çš„é€‰é¡¹ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">-A: æ˜¾ç¤ºæ‰€æœ‰çš„æŠ¥å‘Šä¿¡æ¯ï¼›</span><br><span class="line">-b: æ˜¾ç¤ºI/Oé€Ÿç‡ï¼›</span><br><span class="line">-B: æ˜¾ç¤ºæ¢é¡µçŠ¶æ€ï¼›</span><br><span class="line">-c: æ˜¾ç¤ºè¿›ç¨‹åˆ›å»ºæ´»åŠ¨ï¼›</span><br><span class="line">-d: æ˜¾ç¤ºæ¯ä¸ªå—è®¾å¤‡çš„çŠ¶æ€ï¼›</span><br><span class="line">-e: è®¾ç½®æ˜¾ç¤ºæŠ¥å‘Šçš„ç»“æŸæ—¶é—´ï¼›</span><br><span class="line">-f: ä»æŒ‡å®šæ–‡ä»¶æå–æŠ¥å‘Šï¼›</span><br><span class="line">-i: è®¾çŠ¶æ€ä¿¡æ¯åˆ·æ–°çš„é—´éš”æ—¶é—´ï¼›</span><br><span class="line">-n: æŠ¥å‘Šç½‘ç»œç»Ÿè®¡ä¿¡æ¯ã€‚</span><br><span class="line">-P: æŠ¥å‘Šæ¯ä¸ªCPUçš„çŠ¶æ€ï¼›</span><br><span class="line">-R: æ˜¾ç¤ºå†…å­˜çŠ¶æ€ï¼›</span><br><span class="line">-u: æ˜¾ç¤ºCPUåˆ©ç”¨ç‡ï¼›</span><br><span class="line">-v: æ˜¾ç¤ºç´¢å¼•èŠ‚ç‚¹ï¼Œæ–‡ä»¶å’Œå…¶ä»–å†…æ ¸è¡¨çš„çŠ¶æ€ï¼›</span><br><span class="line">-w: æ˜¾ç¤ºäº¤æ¢åˆ†åŒºçŠ¶æ€ï¼›</span><br><span class="line">-x: æ˜¾ç¤ºç»™å®šè¿›ç¨‹çš„çŠ¶æ€ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">-r: ä»¥åˆ†é¡µæ–¹å¼æ˜¾ç¤ºè¾“å‡ºï¼Œæ¯é¡µæœ€å¤šæ˜¾ç¤º 100 è¡Œã€‚ </span><br><span class="line">-o: è¾“å‡ºé€‰é¡¹ï¼ŒæŒ‡å®šè¦æ˜¾ç¤ºçš„åˆ—ã€‚ä¾‹å¦‚ï¼Œ`-o mrk,prt,cvg` å°†æ˜¾ç¤º CPU ä½¿ç”¨ç‡ã€è¿›ç¨‹æ ‡è¯†ç¬¦ã€ç£ç›˜ä½¿ç”¨ç‡ å’Œ ç½‘ç»œæµé‡ã€‚ </span><br><span class="line">-t: æ—¶é—´æˆ³é€‰é¡¹ï¼ŒæŒ‡å®šè¦åœ¨è¾“å‡ºä¸­æ·»åŠ æ—¶é—´æˆ³ã€‚ </span><br><span class="line">-s: ç»Ÿè®¡é€‰é¡¹ï¼ŒæŒ‡å®šè¦æ˜¾ç¤ºçš„ç»Ÿè®¡æ•°æ®çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼Œ`-s us,ms` å°†æ˜¾ç¤º CPU ä½¿ç”¨ç‡çš„ us å’Œ ms æ—¶é—´æ®µçš„å¹³å‡å€¼ã€‚ </span><br><span class="line">-c: é€‰é¡¹ç”¨äºæŒ‡å®šè¦å‘é€çš„å‘½ä»¤ã€‚ä¾‹å¦‚ï¼Œ`-c ls` å°†æ˜¾ç¤ºå½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶å’Œå­ç›®å½•åˆ—è¡¨ã€‚</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨å®ä¾‹ï¼š<br>sar å¯ä»¥ç”¨æ¥è§‚æµ‹å¾ˆå¤š æ¯”è¾ƒç»†è‡´çš„æŒ‡æ ‡ï¼Œæ¯”å¦‚ï¼š</p>
<ol>
<li>æŸ¥çœ‹ç³»ç»Ÿå½“å‰çš„ç½‘ç»œååé‡å’Œ PPS <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ•°å­—1è¡¨ç¤ºæ¯éš”1ç§’è¾“å‡ºä¸€ç»„æ•°æ®</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sar -n DEV 1</span></span><br><span class="line">Linux 4.15.0-1035 (ubuntu)   01/06/19   _x86_64_  (2 CPU)</span><br><span class="line"></span><br><span class="line">13:21:40        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil</span><br><span class="line">13:21:41         eth0     18.00     20.00      5.79      4.25      0.00      0.00      0.00      0.00</span><br><span class="line">13:21:41      docker0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00</span><br><span class="line">13:21:41           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00</span><br></pre></td></tr></table></figure></li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">rxpck/s å’Œ txpck/s åˆ†åˆ«æ˜¯æ¥æ”¶å’Œå‘é€çš„ PPSï¼Œå•ä½ä¸ºåŒ… / ç§’ã€‚</span><br><span class="line">rxkB/s å’Œ txkB/s åˆ†åˆ«æ˜¯æ¥æ”¶å’Œå‘é€çš„ååé‡ï¼Œå•ä½æ˜¯ KB/ ç§’ã€‚</span><br><span class="line">rxcmp/s å’Œ txcmp/s åˆ†åˆ«æ˜¯æ¥æ”¶å’Œå‘é€çš„å‹ç¼©æ•°æ®åŒ…æ•°ï¼Œå•ä½æ˜¯åŒ… / ç§’ã€‚</span><br><span class="line"><span class="meta prompt_">%</span><span class="language-bash">ifutil æ˜¯ç½‘ç»œæ¥å£çš„ä½¿ç”¨ç‡ï¼Œå³åŠåŒå·¥æ¨¡å¼ä¸‹ä¸º (rxkB/s+txkB/s)/Bandwidthï¼Œè€Œå…¨åŒå·¥æ¨¡å¼ä¸‹ä¸º max(rxkB/s, txkB/s)/Bandwidthã€‚</span></span><br></pre></td></tr></table></figure>

<h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2><p>#go101 log.fatal è°ƒç”¨çš„æ˜¯os.exitï¼ˆï¼‰defer ä¸ä¼šç”Ÿæ•ˆã€‚<br>![[Pasted image 20231122202715.png]]<br>#go101  æ•°æ®çš„å‘é€è€…ï¼Œæ‰èƒ½å†³å®šchannel ä»€ä¹ˆæ—¶å€™å…³é—­ã€‚</p>
]]></content>
      <categories>
        <category>arts</category>
      </categories>
      <tags>
        <tag>atrs</tag>
      </tags>
  </entry>
  <entry>
    <title>ARTS-2023-50</title>
    <url>/2023/12/11/arts/ARTS-2023-50/</url>
    <content><![CDATA[<blockquote>
<p>ARTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚ æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š<br>Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜<br>Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« <br>Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯<br>Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><p><a href="https://leetcode.cn/problems/is-subsequence/?envType=study-plan-v2&envId=top-interview-150">392</a></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isSubsequence</span><span class="params">(s <span class="type">string</span>, t <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(s) == <span class="number">0</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(t) == <span class="number">0</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">	&#125;</span><br><span class="line">	sIndex := <span class="number">0</span></span><br><span class="line">	tIndex := <span class="number">0</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> sIndex &lt; <span class="built_in">len</span>(s) &amp;&amp; tIndex &lt; <span class="built_in">len</span>(t) &#123;</span><br><span class="line">		<span class="keyword">if</span> s[sIndex] == t[tIndex] &#123;</span><br><span class="line">			sIndex++</span><br><span class="line">		&#125;</span><br><span class="line">		tIndex++</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sIndex == <span class="built_in">len</span>(s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><p><a href="https://go.dev/blog/survey2023-h2-results">Go Developer Survey 2023 H2 Results </a><br>go ç¤¾åŒº2023å¹´å¼€å‘è€…æŠ¥å‘Šï¼Œæ„Ÿè§‰è·Ÿ2022å¹´æ¯”è¾ƒï¼Œæ²¡å•¥å˜åŒ–ï¼Œæœ€å¤§çš„æ˜¯ï¼Œå¤§å®¶å¼€å§‹æ‹¥æŠ±AIäº†ã€‚<br><a href="https://fs.blog/stop-reading-news/">Stop Reading News</a><br>å¤§å®¶éƒ½ä¸çœ‹æ–°é—»äº†ï¼Œéƒ½åœ¨çœ‹çŸ­è§†é¢‘ ğŸ˜„</p>
<h2 id="Technique-Tips"><a href="#Technique-Tips" class="headerlink" title="Technique&#x2F;Tips"></a>Technique&#x2F;Tips</h2><p> <a href="https://link.zhubai.love/api/link?url=https://www.insanelycooltools.com&post_id=2345899633101881344&subscriber_id=2096257190994108416&token=b3bf68a76d446e74c673027bae243b4e&timestamp=1702282461562&signature=7d5f5fa8340d2a5fe973f57ebbbb7e474835975b365d28ea4da032928d4e5ece">Insanely Cool Tools</a></p>
<p>è¿™ä¸ªç½‘ç«™æ”¶é›†äº†å„ç§çƒ­é—¨å·¥å…·å’ŒæœåŠ¡èµ„æºï¼Œåˆåˆ›ä¼ä¸šå¸¸ç”¨çš„ä¸€äº›å·¥å…·å’ŒæœåŠ¡ã€‚<br><a href="https://github.com/trimstray/the-book-of-secret-knowledge">the-book-of-secret-knowledge</a><br>è¦†ç›–å¾ˆå¹¿çš„ç½‘ç»œå®‰å…¨çŸ¥è¯†ï¼Œæ–¹æ–¹é¢é¢ã€‚</p>
<p><a href="https://github.com/microsoft/Mastering-GitHub-Copilot-for-Paired-Programming">https://github.com/microsoft/Mastering-GitHub-Copilot-for-Paired-Programming</a><br>å¾®è½¯å‡ºçš„ GitHub Copilot æ•™ç¨‹ï¼Œåªæœ‰ 6 å ‚è¯¾ï¼Œä¼šæ•™ä½ å¦‚ä½•æœ‰æ•ˆåˆ©ç”¨ GitHub Copilot ä»¥åŠä¸ AI ç»“å¯¹ç¼–ç¨‹ã€‚ è¯¾ç¨‹ä¸€å…± 10 å°æ—¶ï¼Œå¯ä»¥ä½“éªŒå¦‚ä½•é€šè¿‡ VSCode å’Œ GitHub Copilot Chat è¿›è¡Œå®æ—¶åä½œï¼Œå­¦ä¹ å¦‚ä½•ä½¿ç”¨ GitHub Copilot è‡ªåŠ¨è¡¥å…¨ä»£ç ï¼Œå¤„ç†é”™è¯¯å’Œå†™å•å…ƒæµ‹è¯•ï¼Œå°½å¯èƒ½æ•™ä¼šä½ ä½¿ç”¨ GitHub Copilot çš„æœ€ä½³å®è·µï¼Œè®©ä½ å¯ä»¥æå‡å†™ä»£ç çš„æ•ˆç‡å’Œè´¨é‡ã€‚</p>
<h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2><p><a href="https://hexo.hxzhouh.com/2023/12/12/aws%20ec2%20%E5%88%87%E6%8D%A2%E5%88%B0ipv6/">aws ec2 åˆ‡æ¢åˆ°ipv6</a></p>
]]></content>
      <categories>
        <category>arts</category>
      </categories>
  </entry>
  <entry>
    <title>ARTS-2023-49</title>
    <url>/2023/12/04/arts/ARTS-2023-49/</url>
    <content><![CDATA[<blockquote>
<p>ARTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚ æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š<br>Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜<br>Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« <br>Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯<br>Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><p>ç»§ç»­åœ¨åšäºŒå‰æ ‘çš„é¢˜ç›®ã€‚<br>leetcode 97: ä¸­åºéå†</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">inorderTraversal</span><span class="params">(root *TreeNode)</span></span> []<span class="type">int</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;  </span><br><span class="line">       <span class="keyword">return</span> []<span class="type">int</span>&#123;&#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> root.Left == <span class="literal">nil</span> &amp;&amp; root.Right == <span class="literal">nil</span> &#123;  </span><br><span class="line">       <span class="keyword">return</span> []<span class="type">int</span>&#123;root.Val&#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    result := []<span class="type">int</span>&#123;&#125;  </span><br><span class="line">    result = <span class="built_in">append</span>(result, inorderTraversal(root.Left)...)  </span><br><span class="line">    result = <span class="built_in">append</span>(result, root.Val)  </span><br><span class="line">    result = <span class="built_in">append</span>(result, inorderTraversal(root.Right)...)  </span><br><span class="line">    <span class="keyword">return</span> result  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>leetcode 173: ä¹Ÿæ˜¯ä¸­åºéå†</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> BSTIterator <span class="keyword">struct</span> &#123;  </span><br><span class="line">    stack []<span class="type">int</span> <span class="comment">// ç”¨äºå­˜å‚¨ä¸­åºéå†çš„ç»“æœ  </span></span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Constructor</span><span class="params">(root *TreeNode)</span></span> BSTIterator &#123;  </span><br><span class="line">    <span class="keyword">return</span> BSTIterator&#123;stack: inorderTraversal(root)&#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">inorderTraversal</span><span class="params">(root *TreeNode)</span></span> []<span class="type">int</span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;  </span><br><span class="line">       <span class="keyword">return</span> []<span class="type">int</span>&#123;&#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span> root.Left == <span class="literal">nil</span> &amp;&amp; root.Right == <span class="literal">nil</span> &#123;  </span><br><span class="line">       <span class="keyword">return</span> []<span class="type">int</span>&#123;root.Val&#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    result := []<span class="type">int</span>&#123;&#125;  </span><br><span class="line">    result = <span class="built_in">append</span>(result, inorderTraversal(root.Left)...)  </span><br><span class="line">    result = <span class="built_in">append</span>(result, root.Val)  </span><br><span class="line">    result = <span class="built_in">append</span>(result, inorderTraversal(root.Right)...)  </span><br><span class="line">    <span class="keyword">return</span> result  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *BSTIterator)</span></span> Next() <span class="type">int</span> &#123;  </span><br><span class="line">    val := this.stack[<span class="number">0</span>]  </span><br><span class="line">    this.stack = this.stack[<span class="number">1</span>:]  </span><br><span class="line">    <span class="keyword">return</span> val  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *BSTIterator)</span></span> HasNext() <span class="type">bool</span> &#123;  </span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(this.stack) &gt; <span class="number">0</span>  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><p><a href="https://colobu.com/2023/12/07/more-precise-sleep/">æ›´ç²¾å‡†çš„sleep</a><br>å¤´ä¸€æ¬¡çŸ¥é“time.sleep çš„ç²¾åº¦é—®é¢˜ï¼Œæƒ³æƒ³ä¹Ÿæ˜¯å“ˆï¼ŒCPUé¢‘ç‡å°±åœ¨é‚£é‡Œï¼Œæ€ä¹ˆå¯èƒ½æä¾›é‚£ä¹ˆé«˜ç²¾åº¦çš„ä¼‘çœ ã€‚<code>time.sleep</code> çš„ç²¾åº¦æ˜¯1mså·¦å³ã€‚å¦‚æœæƒ³è¦æ›´é«˜ç²¾åº¦çš„ä¼‘çœ ï¼Œä½¿ç”¨<code>syscall.Nanosleep</code> å¯ä»¥æä¾›ns çº§åˆ«çš„ä¼‘çœ ï¼Œä½†æ˜¯å®ƒæ˜¯é˜»å¡è¿›ç¨‹çš„ã€‚</p>
<h2 id="Technique-Tips"><a href="#Technique-Tips" class="headerlink" title="Technique&#x2F;Tips"></a>Technique&#x2F;Tips</h2><p>#å·¥ç¨‹å¸ˆå·¥å…·Â é¼ é¡»ç®¡ï¼Œé›¾å‡‡æ‹¼éŸ³æ–¹æ¡ˆï¼Œ<a href="https://github.com/iDvel/rime-ice">https://github.com/iDvel/rime-ice</a>å¼€ç®±å³ç”¨çš„é¼ é¡»ç®¡æ–¹æ¡ˆï¼Œè®°å½•ä¸€ä¸‹ï¼Œç­‰ä¸‹å¿˜è®°äº†ã€‚</p>
<h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2><p>ä¸è¦æŠŠèŒä¸šï¼ˆcareerï¼‰å½“æˆæŸä¸€ä»¶å…·ä½“çš„äº‹æƒ…ï¼Œè¿™æ˜¯äººç±»å‘æ˜çš„æœ€å±é™©ã€æœ€ä»¤äººçª’æ¯çš„æ¦‚å¿µä¹‹ä¸€ï¼Œä¹Ÿæ˜¯å¤§å¤šæ•°æ¢¦æƒ³å’Œç›´è§‰çš„æ•Œäººã€‚</p>
<p>èŒä¸šåº”è¯¥æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼ŒæŒ‡çš„æ˜¯ä¸€ä¸ªäººåœ¨æ—¥å¸¸çš„å·¥ä½œå’Œç”Ÿæ´»ä¸­ï¼Œä¸æ–­æ¢ç´¢ã€åŸ¹è®­ã€å®è·µã€é€æ­¥è¿›æ­¥çš„è¿‡ç¨‹ã€‚</p>
]]></content>
      <categories>
        <category>arts</category>
      </categories>
      <tags>
        <tag>arts</tag>
        <tag>å·¥ç¨‹å¸ˆå·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>ARTS-2023-48</title>
    <url>/2023/11/27/arts/ARTS-2023-48/</url>
    <content><![CDATA[<blockquote>
<p>ARTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚ æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š<br>Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜<br>Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« <br>Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯<br>Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><p><a href="https://www.riverphillips.dev/blog/go-cfs">https://www.riverphillips.dev/blog/go-cfs</a> ä¸€ä¸ªè€ç”Ÿå¸¸è°ˆçš„é—®é¢˜ï¼Œ GOMAXPROCS çš„è®¾ç½®ã€‚</p>
<h2 id="Technique-Tips"><a href="#Technique-Tips" class="headerlink" title="Technique&#x2F;Tips"></a>Technique&#x2F;Tips</h2><p>ä½¿ç”¨ <a href="https://github.com/Yidadaa/ChatGPT-Next-Web">ChatGPT-Next-Web</a> +<a href="https://www.gptapi.us/"> gptapi</a> æ­å»ºäº†ä¸€ä¸ªé•œåƒç«™ï¼Œçœ‹èƒ½æ´»å¤šä¹…æŠŠã€‚</p>
<iframe allow="autoplay *; encrypted-media *; fullscreen *; clipboard-write" frameborder="0" height="450" style="width:100%;max-width:660px;overflow:hidden;border-radius:10px;" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation" src="https://embed.music.apple.com/cn/playlist/vol-1000-%E5%9C%A8%E6%97%B6%E5%85%89%E5%8F%98%E5%B9%BB%E4%B8%AD%E6%B0%B8%E4%B8%8D%E5%A4%B1%E5%8E%BB/pl.u-RRbV0gVCmgNxNDx"></iframe>

<h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2>]]></content>
      <categories>
        <category>arts</category>
      </categories>
  </entry>
  <entry>
    <title>ARTS-2024-01</title>
    <url>/2024/01/02/arts/ARTS-2024-01/</url>
    <content><![CDATA[<blockquote>
<p>ARTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚ æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š<br>Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜<br>Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« <br>Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯<br>Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<span id="more"></span>
<p>2024 ç¬¬ä¸€æ¬¡arts åŠ æ²¹</p>
<h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><p><a href="https://leetcode.cn/problems/contains-duplicate-ii/">219. å­˜åœ¨é‡å¤å…ƒç´  II</a> ğŸŸ¢<br><a href="https://leetcode.cn/problems/longest-consecutive-sequence/">128. æœ€é•¿è¿ç»­åºåˆ—</a> ğŸŸ¡ å°†æ•°ç»„å‡åºæ’åˆ—ï¼Œæˆ–è€…æ”¾åœ¨ä¸€ä¸ªmapé‡Œé¢ï¼Œç„¶ååœ¨å»è·å–é•¿åº¦ã€‚ã€‚</p>
<h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><p><a href="https://roytanck.com/2023/12/23/in-2024-please-switch-to-firefox/">In 2024, please switch to Firefox</a><br>firefox å¥½ç”¨ï¼ŒåšæŒéšç§ä¿æŠ¤æ›´åŠ æ˜¯ä¸ºäº†ç»´æŠ¤ web çš„å¼€æ”¾æ ‡å‡†<br>psï¼šæœ‰å‡ ä¸ªäººä¼šå»ä¸»åŠ¨é€‰æ‹©æµè§ˆå™¨å‘¢ï¼Ÿ</p>
<h2 id="Technique-Tips"><a href="#Technique-Tips" class="headerlink" title="Technique&#x2F;Tips"></a>Technique&#x2F;Tips</h2><h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2><blockquote>
<p>ä¸€ä¸ªä¸æˆç†Ÿçš„ç†æƒ³ä¸»ä¹‰è€…ä¼šä¸ºç†æƒ³æ‚²å£®åœ°æ­»å»ï¼Œè€Œä¸€ä¸ªæˆç†Ÿçš„ç†æƒ³ä¸»ä¹‰è€…åˆ™æ„¿æ„ä¸ºäº†ç†æƒ³è‹Ÿä¸”å·ç”Ÿã€‚  ã€Šéº¦ç”°é‡Œçš„å®ˆæœ›è€…ã€‹</p>
</blockquote>
]]></content>
      <categories>
        <category>arts</category>
      </categories>
  </entry>
  <entry>
    <title>ARTS-2024-02</title>
    <url>/2024/01/09/arts/ARTS-2024-02/</url>
    <content><![CDATA[<blockquote>
<p>ARTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚ æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š<br>Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜<br>Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« <br>Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯<br>Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><p><a href="https://commandcenter.blogspot.com/2024/01/what-we-got-right-what-we-got-wrong.html">What We Got Right, What We Got Wrong</a><br>    # åšå¯¹çš„åœ°æ–¹ï¼š<br>    1.  ç»Ÿä¸€çš„è§„èŒƒï¼Œæ–¹ä¾¿åé¢çš„ä½¿ç”¨è€…ç†è§£ï¼Œä»¥åŠå®ç°ä¸åŒçš„ç¼–è¯‘å™¨ï¼ŒåŒæ—¶ï¼Œä¸ºäº†å…¼å®¹ä¸åŒçš„ç¼–è¯‘å™¨ï¼Œåè¿‡æ¥åˆå½±å“ è§„èŒƒçš„ç»Ÿä¸€ã€‚<br>    2. å¤šç§ç¼–è¯‘å™¨ï¼Œè·Ÿ1 æ˜¯ç»‘å®šå…³ç³»<br>    3. è·¨å¹³å°ï¼Œ<br>    4.  ä¿æŒå‘åå…¼å®¹<br>    5. å®Œå–„çš„æ–‡æ¡£åº“<br>    6. åŠŸèƒ½å¼ºå¤§ä¸”å¤šæ ·çš„å·¥å…·<br>    7. æ ¼å¼åŒ– fmtï¼ˆæœ€å–œæ¬¢çš„åŠŸèƒ½ï¼Œä¸éœ€è¦é ç¨‹åºå‘˜è‡ªå·±ç»´æŠ¤ç»Ÿä¸€çš„é£æ ¼ï¼‰<br>    # åšçš„ä¸å¤ªå¥½çš„åœ°æ–¹<br>    1. å¹¶å‘ï¼Œå¹¶å‘!&#x3D;å¹¶è¡Œï¼Œ<br>    golang çš„ goï¼ˆgoroutineï¼‰åŠŸèƒ½ï¼Œè®©å¹¶å‘ç¼–ç¨‹çœŸæ­£çš„èµ°è¿›äº†æ¯ä¸ªç¨‹åºå‘˜çš„æ—¥å¸¸ç”Ÿæ´»ï¼Œè®©goçœ‹èµ·æ¥åƒä¸€ä¸ªæ–°çš„è¯­è¨€ï¼Œå¾ˆä»¤äººå…´å¥‹ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä¼šå†ç¨‹åºé‡Œé¢å†™ä¸€å † go func(){} ï¼Œä½†æ˜¯å´æ²¡å–åˆ°æƒ³è¦çš„ç»“æœï¼Œç”šè‡³å¯èƒ½ä»£ç æ›´æ…¢äº†ï¼Œè¿™å¾ˆæ‰“å‡»ç§¯ææ€§ï¼Œå…¶ä¸­çœŸæ­£çš„åŸå› æ˜¯ å¹¶å‘ï¼&#x3D;å¹¶è¡Œã€‚<br>    2. interface<br>     ä¸»è¦æ˜¯ç¤¾åŒºè§‰å¾—æ²¡æ³›å‹ï¼Œå…¶å®æ¥å£å¾ˆå¥½ç”¨çš„ã€‚<br>    3. ç¼–è¯‘å™¨<br>    4. é¡¹ç›®ç®¡ç† ç¤¾åŒºè¿è¥æ€»æ˜¯å¾ˆéš¾çš„<br>    5. åŒ…ç®¡ç† æ·±æ¶ç—›ç»</p>
<h2 id="Technique-Tips"><a href="#Technique-Tips" class="headerlink" title="Technique&#x2F;Tips"></a>Technique&#x2F;Tips</h2><p>#å·¥ç¨‹å¸ˆå·¥å…· <a href="https://github.com/princjef/gomarkdoc">gomarkdoc</a> å†å¼€å‘ä»£ç çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸€ä»½ä»£ç ä»¥åŠä¸€ä»½æ–‡æ¡£ï¼Œé€šå¸¸è¿™ä¸¤ä¸ªéƒ¨åˆ†æ˜¯åˆ†å¼€çš„ï¼Œgomarkdoc å¯ä»¥å¸®æˆ‘ä»¬ä»çš„æ³¨é‡Šä¸­ç”Ÿæˆæ¥å£æ–‡æ¡£ï¼Œæ–¹ä¾¿æˆ‘ä»¬æˆ‘ä»¬å†™æ–‡æ¡£ä»¥åŠç»´æŠ¤ã€‚</p>
<h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2>]]></content>
      <categories>
        <category>arts</category>
      </categories>
  </entry>
  <entry>
    <title>ARTS-2023-52</title>
    <url>/2023/12/25/arts/ARTS-2023-52/</url>
    <content><![CDATA[<blockquote>
<p>ARTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚ æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š<br>Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜<br>Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« <br>Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯<br>Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<span id="more"></span>
<p>æœ€åä¸€å‘¨äº†ï¼Œ2024å¼€å§‹ã€‚ã€‚ã€‚</p>
<h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><p><a href="https://leetcode.cn/problems/happy-number/">202. å¿«ä¹æ•°</a></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isHappy</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">	m := <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">bool</span>&#123;&#125;</span><br><span class="line">	<span class="keyword">for</span> ; n != <span class="number">1</span> &amp;&amp; !m[n]; n, m[n] = step(n), <span class="literal">true</span> &#123; &#125;</span><br><span class="line">	<span class="keyword">return</span> n == <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">step</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	sum := <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> n &gt; <span class="number">0</span> &#123;</span><br><span class="line">		sum += (n%<span class="number">10</span>) * (n%<span class="number">10</span>)</span><br><span class="line">		n = n/<span class="number">10</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><p><a href="https://go.dev/ref/mem">https://go.dev/ref/mem</a>   goå†…å­˜æ¨¡å‹ï¼Œç»ˆäºæŠŠè¿™ç¯‡åšå®¢çœ‹å®Œäº†ã€‚</p>
<h2 id="Technique-Tips"><a href="#Technique-Tips" class="headerlink" title="Technique&#x2F;Tips"></a>Technique&#x2F;Tips</h2><ul>
<li>#tools ripgrep + fzfï¼Œæœä»€ä¹ˆéƒ½å¿«ã€‚</li>
<li><a href="https://chromewebstore.google.com/detail/%E8%B1%86%E4%BC%B4%EF%BC%9A%E8%B1%86%E7%93%A3%E8%B4%A6%E5%8F%B7%E5%A4%87%E4%BB%BD%E5%B7%A5%E5%85%B7/ghppfgfeoafdcaebjoglabppkfmbcjdd?hl=zh-CN">è±†ä¼´ï¼šè±†ç“£è´¦å·å¤‡ä»½å·¥å…·</a> è±†ç“£é‡åº¦ç”¨æˆ·ï¼Œè¿™ä¸ªæµè§ˆå™¨æ‹“å±•å¯ä»¥å°†ä½ å†è±†ç“£çš„ä¿¡æ¯å…¨éƒ¨ä¿å­˜çš„åˆ°æœ¬åœ°ã€‚ ä¹Ÿå¯ä»¥å¯¼å…¥å¦å¤–çš„è´¦å·ï¼Œå¥½ç”¨ã€‚</li>
<li>devv.ai  é¢å‘ç¨‹åºå‘˜çš„AIGC æµè§ˆå™¨ï¼Œ</li>
</ul>
<h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2>]]></content>
      <categories>
        <category>arts</category>
      </categories>
  </entry>
  <entry>
    <title>ARTS-2023-51</title>
    <url>/2023/12/18/arts/ARTS-2023-51/</url>
    <content><![CDATA[<blockquote>
<p>ARTS æ˜¯é™ˆæµ©ï¼ˆç½‘åå·¦è€³æœµè€—å­ï¼‰åœ¨æå®¢æ—¶é—´ä¸“æ é‡Œå‘èµ·çš„ä¸€ä¸ªæ´»åŠ¨ï¼Œç›®çš„æ˜¯é€šè¿‡åˆ†äº«çš„æ–¹å¼æ¥åšæŒå­¦ä¹ ã€‚ æ¯äººæ¯å‘¨å†™ä¸€ä¸ª ARTSï¼š<br>Algorithm æ˜¯ä¸€é“ç®—æ³•é¢˜<br>Review æ˜¯è¯»ä¸€ç¯‡è‹±æ–‡æ–‡ç« <br>Technique&#x2F;Tips æ˜¯åˆ†äº«ä¸€ä¸ªå°æŠ€æœ¯<br>Share æ˜¯åˆ†äº«ä¸€ä¸ªè§‚ç‚¹ã€‚</p>
</blockquote>
<span id="more"></span>

<p>æœ¬å‘¨çœŸæ˜¯æ‡’å‘€ã€‚ã€‚ã€‚ã€‚ã€‚ å•¥éƒ½æ²¡åšã€‚</p>
<h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><p>æœ€è¿‘å‘ç°äº† <a href="https://dave.cheney.net/">Dave Cheney</a> å¤§ä½¬çš„åšå®¢ï¼Œè¡¥è¯¾ä¸­ã€‚<br><a href="https://dave.cheney.net/2021/01/05/a-few-bytes-here-a-few-there-pretty-soon-youre-talking-real-memory">https://dave.cheney.net/2021/01/05/a-few-bytes-here-a-few-there-pretty-soon-youre-talking-real-memory</a><br>æœ¬æ–‡è®²çš„è²Œä¼¼æ˜¯ go å†…å­˜åˆ†é…å¤§å°çš„é—®é¢˜ï¼Œä½†æ˜¯å¥½åƒæ²¡çœ‹å¤ªæ˜ç™½ã€‚ã€‚ã€‚ã€‚</p>
<h2 id="Technique-Tips"><a href="#Technique-Tips" class="headerlink" title="Technique&#x2F;Tips"></a>Technique&#x2F;Tips</h2><h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2>]]></content>
      <categories>
        <category>arts</category>
      </categories>
  </entry>
</search>
